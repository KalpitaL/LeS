(function(n,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)})(typeof window!="undefined"?window:this,function(n,t){function ri(n){var t=n.length,r=i.type(n);return r==="function"||i.isWindow(n)?!1:n.nodeType===1&&t?!0:r==="array"||t===0||typeof t=="number"&&t>0&&t-1 in n}function ui(n,t,r){if(i.isFunction(t))return i.grep(n,function(n,i){return!!t.call(n,i,n)!==r});if(t.nodeType)return i.grep(n,function(n){return n===t!==r});if(typeof t=="string"){if(ef.test(t))return i.filter(t,n,r);t=i.filter(t,n)}return i.grep(n,function(n){return ft.call(t,n)>=0!==r})}function ur(n,t){while((n=n[t])&&n.nodeType!==1);return n}function of(n){var t=fi[n]={};return i.each(n.match(c)||[],function(n,i){t[i]=!0}),t}function ht(){u.removeEventListener("DOMContentLoaded",ht,!1);n.removeEventListener("load",ht,!1);i.ready()}function v(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});this.expando=i.expando+v.uid++}function fr(n,t,r){var u;if(r===undefined&&n.nodeType===1)if(u="data-"+t.replace(hf,"-$1").toLowerCase(),r=n.getAttribute(u),typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:sf.test(r)?i.parseJSON(r):r}catch(f){}e.set(n,t,r)}else r=undefined;return r}function lt(){return!0}function k(){return!1}function hr(){try{return u.activeElement}catch(n){}}function vr(n,t){return i.nodeName(n,"table")&&i.nodeName(t.nodeType!==11?t:t.firstChild,"tr")?n.getElementsByTagName("tbody")[0]||n.appendChild(n.ownerDocument.createElement("tbody")):n}function bf(n){return n.type=(n.getAttribute("type")!==null)+"/"+n.type,n}function kf(n){var t=pf.exec(n.type);return t?n.type=t[1]:n.removeAttribute("type"),n}function ei(n,t){for(var i=0,u=n.length;i<u;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function yr(n,t){var f,c,o,s,h,l,a,u;if(t.nodeType===1){if(r.hasData(n)&&(s=r.access(n),h=r.set(t,s),u=s.events,u)){delete h.handle;h.events={};for(o in u)for(f=0,c=u[o].length;f<c;f++)i.event.add(t,o,u[o][f])}e.hasData(n)&&(l=e.access(n),a=i.extend({},l),e.set(t,a))}}function o(n,t){var r=n.getElementsByTagName?n.getElementsByTagName(t||"*"):n.querySelectorAll?n.querySelectorAll(t||"*"):[];return t===undefined||t&&i.nodeName(n,t)?i.merge([n],r):r}function df(n,t){var i=t.nodeName.toLowerCase();i==="input"&&er.test(n.type)?t.checked=n.checked:(i==="input"||i==="textarea")&&(t.defaultValue=n.defaultValue)}function pr(t,r){var f,u=i(r.createElement(t)).appendTo(r.body),e=n.getDefaultComputedStyle&&(f=n.getDefaultComputedStyle(u[0]))?f.display:i.css(u[0],"display");return u.detach(),e}function si(n){var r=u,t=oi[n];return t||(t=pr(n,r),t!=="none"&&t||(at=(at||i("<iframe frameborder='0' width='0' height='0'/>")).appendTo(r.documentElement),r=at[0].contentDocument,r.write(),r.close(),t=pr(n,r),at.detach()),oi[n]=t),t}function it(n,t,r){var e,o,s,u,f=n.style;return r=r||vt(n),r&&(u=r.getPropertyValue(t)||r[t]),r&&(u!==""||i.contains(n.ownerDocument,n)||(u=i.style(n,t)),hi.test(u)&&wr.test(t)&&(e=f.width,o=f.minWidth,s=f.maxWidth,f.minWidth=f.maxWidth=f.width=u,u=r.width,f.width=e,f.minWidth=o,f.maxWidth=s)),u!==undefined?u+"":u}function br(n,t){return{get:function(){if(n()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}function gr(n,t){if(t in n)return t;for(var r=t[0].toUpperCase()+t.slice(1),u=t,i=dr.length;i--;)if(t=dr[i]+r,t in n)return t;return u}function nu(n,t,i){var r=ne.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function tu(n,t,r,u,f){for(var e=r===(u?"border":"content")?4:t==="width"?1:0,o=0;e<4;e+=2)r==="margin"&&(o+=i.css(n,r+p[e],!0,f)),u?(r==="content"&&(o-=i.css(n,"padding"+p[e],!0,f)),r!=="margin"&&(o-=i.css(n,"border"+p[e]+"Width",!0,f))):(o+=i.css(n,"padding"+p[e],!0,f),r!=="padding"&&(o+=i.css(n,"border"+p[e]+"Width",!0,f)));return o}function iu(n,t,r){var o=!0,u=t==="width"?n.offsetWidth:n.offsetHeight,e=vt(n),s=i.css(n,"boxSizing",!1,e)==="border-box";if(u<=0||u==null){if(u=it(n,t,e),(u<0||u==null)&&(u=n.style[t]),hi.test(u))return u;o=s&&(f.boxSizingReliable()||u===n.style[t]);u=parseFloat(u)||0}return u+tu(n,t,r||(s?"border":"content"),o,e)+"px"}function ru(n,t){for(var e,u,s,o=[],f=0,h=n.length;f<h;f++)(u=n[f],u.style)&&(o[f]=r.get(u,"olddisplay"),e=u.style.display,t?(o[f]||e!=="none"||(u.style.display=""),u.style.display===""&&tt(u)&&(o[f]=r.access(u,"olddisplay",si(u.nodeName)))):(s=tt(u),e==="none"&&s||r.set(u,"olddisplay",s?e:i.css(u,"display"))));for(f=0;f<h;f++)(u=n[f],u.style)&&(t&&u.style.display!=="none"&&u.style.display!==""||(u.style.display=t?o[f]||"":"none"));return n}function s(n,t,i,r,u){return new s.prototype.init(n,t,i,r,u)}function fu(){return setTimeout(function(){d=undefined}),d=i.now()}function wt(n,t){var r,u=0,i={height:n};for(t=t?1:0;u<4;u+=2-t)r=p[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function eu(n,t,i){for(var u,f=(rt[t]||[]).concat(rt["*"]),r=0,e=f.length;r<e;r++)if(u=f[r].call(i,t,n))return u}function fe(n,t,u){var f,a,p,v,o,w,h,b,l=this,y={},s=n.style,c=n.nodeType&&tt(n),e=r.get(n,"fxshow");u.queue||(o=i._queueHooks(n,"fx"),o.unqueued==null&&(o.unqueued=0,w=o.empty.fire,o.empty.fire=function(){o.unqueued||w()}),o.unqueued++,l.always(function(){l.always(function(){o.unqueued--;i.queue(n,"fx").length||o.empty.fire()})}));n.nodeType===1&&("height"in t||"width"in t)&&(u.overflow=[s.overflow,s.overflowX,s.overflowY],h=i.css(n,"display"),b=h==="none"?r.get(n,"olddisplay")||si(n.nodeName):h,b==="inline"&&i.css(n,"float")==="none"&&(s.display="inline-block"));u.overflow&&(s.overflow="hidden",l.always(function(){s.overflow=u.overflow[0];s.overflowX=u.overflow[1];s.overflowY=u.overflow[2]}));for(f in t)if(a=t[f],re.exec(a)){if(delete t[f],p=p||a==="toggle",a===(c?"hide":"show"))if(a==="show"&&e&&e[f]!==undefined)c=!0;else continue;y[f]=e&&e[f]||i.style(n,f)}else h=undefined;if(i.isEmptyObject(y))(h==="none"?si(n.nodeName):h)==="inline"&&(s.display=h);else{e?"hidden"in e&&(c=e.hidden):e=r.access(n,"fxshow",{});p&&(e.hidden=!c);c?i(n).show():l.done(function(){i(n).hide()});l.done(function(){var t;r.remove(n,"fxshow");for(t in y)i.style(n,t,y[t])});for(f in y)v=eu(c?e[f]:0,f,l),f in e||(e[f]=v.start,c&&(v.end=v.start,v.start=f==="width"||f==="height"?1:0))}}function ee(n,t){var r,f,e,u,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],i.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function ou(n,t,r){var e,o,s=0,l=pt.length,f=i.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var s=d||fu(),t=Math.max(0,u.startTime+u.duration-s),h=t/u.duration||0,i=1-h,r=0,e=u.tweens.length;r<e;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),i<1&&e?t:(f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:d||fu(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){var i=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;i<r;i++)u.tweens[i].run(1);return t?f.resolveWith(n,[u,t]):f.rejectWith(n,[u,t]),this}}),h=u.props;for(ee(h,u.opts.specialEasing);s<l;s++)if(e=pt[s].call(u,n,h,u.opts),e)return e;return i.map(h,eu,u),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),i.fx.timer(i.extend(c,{elem:n,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function pu(n){return function(t,r){typeof t!="string"&&(r=t,t="*");var u,f=0,e=t.toLowerCase().match(c)||[];if(i.isFunction(r))while(u=e[f++])u[0]==="+"?(u=u.slice(1)||"*",(n[u]=n[u]||[]).unshift(r)):(n[u]=n[u]||[]).push(r)}}function wu(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);if(typeof s!="string"||o||f[s]){if(o)return!(h=s)}else return t.dataTypes.unshift(s),e(s),!1}),h}var f={},o=n===ci;return e(t.dataTypes[0])||!f["*"]&&e("*")}function ai(n,t){var r,u,f=i.ajaxSettings.flatOptions||{};for(r in t)t[r]!==undefined&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}function ae(n,t,i){for(var e,u,f,o,s=n.contents,r=n.dataTypes;r[0]==="*";)r.shift(),e===undefined&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(u in s)if(s[u]&&s[u].test(e)){r.unshift(u);break}if(r[0]in i)f=r[0];else{for(u in i){if(!r[0]||n.converters[u+" "+r[0]]){f=u;break}o||(o=u)}f=f||o}if(f)return f!==r[0]&&r.unshift(f),i[f]}function ve(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift(),u)if(u==="*")u=e;else if(e!=="*"&&e!==u){if(f=o[e+" "+u]||o["* "+u],!f)for(h in o)if(s=h.split(" "),s[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]],f)){f===!0?f=o[h]:o[h]!==!0&&(u=s[0],c.unshift(s[1]));break}if(f!==!0)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(l){return{state:"parsererror",error:f?l:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}function vi(n,t,r,u){var f;if(i.isArray(t))i.each(t,function(t,i){r||pe.test(n)?u(n,i):vi(n+"["+(typeof i=="object"?t:"")+"]",i,r,u)});else if(r||i.type(t)!=="object")u(n,t);else for(f in t)vi(n+"["+f+"]",t[f],r,u)}function ku(n){return i.isWindow(n)?n:n.nodeType===9&&n.defaultView}var w=[],a=w.slice,bi=w.concat,ti=w.push,ft=w.indexOf,et={},nf=et.toString,ii=et.hasOwnProperty,f={},u=n.document,ki="2.1.3",i=function(n,t){return new i.fn.init(n,t)},tf=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rf=/^-ms-/,uf=/-([\da-z])/gi,ff=function(n,t){return t.toUpperCase()},y,ot,nr,tr,ir,rr,c,fi,st,l,b,at,oi,oe,su,g,hu,bt,cu,kt,dt,yi,ni,pi,wi,du,gu;i.fn=i.prototype={jquery:ki,constructor:i,selector:"",length:0,toArray:function(){return a.call(this)},get:function(n){return n!=null?n<0?this[n+this.length]:this[n]:a.call(this)},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t.context=this.context,t},each:function(n,t){return i.each(this,n,t)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(n<0?i:0);return this.pushStack(t>=0&&t<i?[this[t]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:ti,sort:w.sort,splice:w.splice};i.extend=i.fn.extend=function(){var e,f,r,t,o,s,n=arguments[0]||{},u=1,c=arguments.length,h=!1;for(typeof n=="boolean"&&(h=n,n=arguments[u]||{},u++),typeof n=="object"||i.isFunction(n)||(n={}),u===c&&(n=this,u--);u<c;u++)if((e=arguments[u])!=null)for(f in e)(r=n[f],t=e[f],n!==t)&&(h&&t&&(i.isPlainObject(t)||(o=i.isArray(t)))?(o?(o=!1,s=r&&i.isArray(r)?r:[]):s=r&&i.isPlainObject(r)?r:{},n[f]=i.extend(h,s,t)):t!==undefined&&(n[f]=t));return n};i.extend({expando:"jQuery"+(ki+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isFunction:function(n){return i.type(n)==="function"},isArray:Array.isArray,isWindow:function(n){return n!=null&&n===n.window},isNumeric:function(n){return!i.isArray(n)&&n-parseFloat(n)+1>=0},isPlainObject:function(n){return i.type(n)!=="object"||n.nodeType||i.isWindow(n)?!1:n.constructor&&!ii.call(n.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(n){for(var t in n)return!1;return!0},type:function(n){return n==null?n+"":typeof n=="object"||typeof n=="function"?et[nf.call(n)]||"object":typeof n},globalEval:function(n){var t,r=eval;n=i.trim(n);n&&(n.indexOf("use strict")===1?(t=u.createElement("script"),t.text=n,u.head.appendChild(t).parentNode.removeChild(t)):r(n))},camelCase:function(n){return n.replace(rf,"ms-").replace(uf,ff)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},each:function(n,t,i){var u,r=0,f=n.length,e=ri(n);if(i){if(e){for(;r<f;r++)if(u=t.apply(n[r],i),u===!1)break}else for(r in n)if(u=t.apply(n[r],i),u===!1)break}else if(e){for(;r<f;r++)if(u=t.call(n[r],r,n[r]),u===!1)break}else for(r in n)if(u=t.call(n[r],r,n[r]),u===!1)break;return n},trim:function(n){return n==null?"":(n+"").replace(tf,"")},makeArray:function(n,t){var r=t||[];return n!=null&&(ri(Object(n))?i.merge(r,typeof n=="string"?[n]:n):ti.call(r,n)),r},inArray:function(n,t,i){return t==null?-1:ft.call(t,n,i)},merge:function(n,t){for(var u=+t.length,i=0,r=n.length;i<u;i++)n[r++]=t[i];return n.length=r,n},grep:function(n,t,i){for(var u,f=[],r=0,e=n.length,o=!i;r<e;r++)u=!t(n[r],r),u!==o&&f.push(n[r]);return f},map:function(n,t,i){var u,r=0,e=n.length,o=ri(n),f=[];if(o)for(;r<e;r++)u=t(n[r],r,i),u!=null&&f.push(u);else for(r in n)u=t(n[r],r,i),u!=null&&f.push(u);return bi.apply([],f)},guid:1,proxy:function(n,t){var u,f,r;return(typeof t=="string"&&(u=n[t],t=n,n=u),!i.isFunction(n))?undefined:(f=a.call(arguments,2),r=function(){return n.apply(t||this,f.concat(a.call(arguments)))},r.guid=n.guid=n.guid||i.guid++,r)},now:Date.now,support:f});i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(n,t){et["[object "+t+"]"]=t.toLowerCase()});y=function(n){function r(n,t,i,r){var p,s,a,c,w,y,d,v,nt,g;if((t?t.ownerDocument||t:h)!==o&&k(t),t=t||o,i=i||[],c=t.nodeType,typeof n!="string"||!n||c!==1&&c!==9&&c!==11)return i;if(!r&&l){if(c!==11&&(p=hr.exec(n)))if(a=p[1]){if(c===9)if(s=t.getElementById(a),s&&s.parentNode){if(s.id===a)return i.push(s),i}else return i;else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(a))&&et(t,s)&&s.id===a)return i.push(s),i}else{if(p[2])return b.apply(i,t.getElementsByTagName(n)),i;if((a=p[3])&&u.getElementsByClassName)return b.apply(i,t.getElementsByClassName(a)),i}if(u.qsa&&(!e||!e.test(n))){if(v=d=f,nt=t,g=c!==1&&n,c===1&&t.nodeName.toLowerCase()!=="object"){for(y=ft(n),(d=t.getAttribute("id"))?v=d.replace(cr,"\\$&"):t.setAttribute("id",v),v="[id='"+v+"'] ",w=y.length;w--;)y[w]=v+vt(y[w]);nt=dt.test(n)&&ti(t.parentNode)||t;g=y.join(",")}if(g)try{return b.apply(i,nt.querySelectorAll(g)),i}catch(tt){}finally{d||t.removeAttribute("id")}}}return oi(n.replace(lt,"$1"),t,i,r)}function gt(){function n(r,u){return i.push(r+" ")>t.cacheLength&&delete n[i.shift()],n[r+" "]=u}var i=[];return n}function c(n){return n[f]=!0,n}function v(n){var t=o.createElement("div");try{return!!n(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ni(n,i){for(var u=n.split("|"),r=n.length;r--;)t.attrHandle[u[r]]=i}function wi(n,t){var i=t&&n,r=i&&n.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||li)-(~n.sourceIndex||li);if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function lr(n){return function(t){var i=t.nodeName.toLowerCase();return i==="input"&&t.type===n}}function ar(n){return function(t){var i=t.nodeName.toLowerCase();return(i==="input"||i==="button")&&t.type===n}}function tt(n){return c(function(t){return t=+t,c(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ti(n){return n&&typeof n.getElementsByTagName!="undefined"&&n}function bi(){}function vt(n){for(var t=0,r=n.length,i="";t<r;t++)i+=n[t].value;return i}function ii(n,t,i){var r=t.dir,u=i&&r==="parentNode",e=ki++;return t.first?function(t,i,f){while(t=t[r])if(t.nodeType===1||u)return n(t,i,f)}:function(t,i,o){var s,h,c=[a,e];if(o){while(t=t[r])if((t.nodeType===1||u)&&n(t,i,o))return!0}else while(t=t[r])if(t.nodeType===1||u){if(h=t[f]||(t[f]={}),(s=h[r])&&s[0]===a&&s[1]===e)return c[2]=s[2];if(h[r]=c,c[2]=n(t,i,o))return!0}}}function ri(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function vr(n,t,i){for(var u=0,f=t.length;u<f;u++)r(n,t[u],i);return i}function yt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=t!=null;f<s;f++)(e=n[f])&&(!i||i(e,r,u))&&(o.push(e),h&&t.push(f));return o}function ui(n,t,i,r,u,e){return r&&!r[f]&&(r=ui(r)),u&&!u[f]&&(u=ui(u,e)),c(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,k=f||vr(t||"*",o.nodeType?[o]:o,[]),v=n&&(f||!t)?yt(k,p,n,o,s):k,h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=yt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?nt(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=yt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):b.apply(e,h)})}function fi(n){for(var o,u,r,s=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=ii(function(n){return n===o},c,!0),a=ii(function(n){return nt(o,n)>-1},c,!0),e=[function(n,t,i){var r=!h&&(i||t!==ht)||((o=t).nodeType?l(n,t,i):a(n,t,i));return o=null,r}];i<s;i++)if(u=t.relative[n[i].type])e=[ii(ri(e),u)];else{if(u=t.filter[n[i].type].apply(null,n[i].matches),u[f]){for(r=++i;r<s;r++)if(t.relative[n[r].type])break;return ui(i>1&&ri(e),i>1&&vt(n.slice(0,i-1).concat({value:n[i-2].type===" "?"*":""})).replace(lt,"$1"),u,i<r&&fi(n.slice(i,r)),r<s&&fi(n=n.slice(r)),r<s&&vt(n))}e.push(u)}return ri(e)}function yr(n,i){var u=i.length>0,f=n.length>0,e=function(e,s,h,c,l){var y,d,w,k=0,v="0",g=e&&[],p=[],nt=ht,tt=e||f&&t.find.TAG("*",l),it=a+=nt==null?1:Math.random()||.1,rt=tt.length;for(l&&(ht=s!==o&&s);v!==rt&&(y=tt[v])!=null;v++){if(f&&y){for(d=0;w=n[d++];)if(w(y,s,h)){c.push(y);break}l&&(a=it)}u&&((y=!w&&y)&&k--,e&&g.push(y))}if(k+=v,u&&v!==k){for(d=0;w=i[d++];)w(g,p,s,h);if(e){if(k>0)while(v--)g[v]||p[v]||(p[v]=gi.call(c));p=yt(p)}b.apply(c,p);l&&!e&&p.length>0&&k+i.length>1&&r.uniqueSort(c)}return l&&(a=it,ht=nt),g};return u?c(e):e}var it,u,t,st,ei,ft,pt,oi,ht,w,rt,k,o,s,l,e,d,ct,et,f="sizzle"+1*new Date,h=n.document,a=0,ki=0,si=gt(),hi=gt(),ci=gt(),wt=function(n,t){return n===t&&(rt=!0),0},li=-2147483648,di={}.hasOwnProperty,g=[],gi=g.pop,nr=g.push,b=g.push,ai=g.slice,nt=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},bt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",i="[\\x20\\t\\r\\n\\f]",ut="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",vi=ut.replace("w","w#"),yi="\\["+i+"*("+ut+")(?:"+i+"*([*^$|!~]?=)"+i+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+vi+"))|)"+i+"*\\]",kt=":("+ut+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+yi+")*)|.*)\\)|)",tr=new RegExp(i+"+","g"),lt=new RegExp("^"+i+"+|((?:^|[^\\\\])(?:\\\\.)*)"+i+"+$","g"),ir=new RegExp("^"+i+"*,"+i+"*"),rr=new RegExp("^"+i+"*([>+~]|"+i+")"+i+"*"),ur=new RegExp("="+i+"*([^\\]'\"]*?)"+i+"*\\]","g"),fr=new RegExp(kt),er=new RegExp("^"+vi+"$"),at={ID:new RegExp("^#("+ut+")"),CLASS:new RegExp("^\\.("+ut+")"),TAG:new RegExp("^("+ut.replace("w","w*")+")"),ATTR:new RegExp("^"+yi),PSEUDO:new RegExp("^"+kt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+i+"*(even|odd|(([+-]|)(\\d*)n|)"+i+"*(?:([+-]|)"+i+"*(\\d+)|))"+i+"*\\)|)","i"),bool:new RegExp("^(?:"+bt+")$","i"),needsContext:new RegExp("^"+i+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+i+"*((?:-\\d)?\\d*)"+i+"*\\)|)(?=[^-]|$)","i")},or=/^(?:input|select|textarea|button)$/i,sr=/^h\d$/i,ot=/^[^{]+\{\s*\[native \w/,hr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,dt=/[+~]/,cr=/'|\\/g,y=new RegExp("\\\\([\\da-f]{1,6}"+i+"?|("+i+")|.)","ig"),p=function(n,t,i){var r="0x"+t-65536;return r!==r||i?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)},pi=function(){k()};try{b.apply(g=ai.call(h.childNodes),h.childNodes);g[h.childNodes.length].nodeType}catch(pr){b={apply:g.length?function(n,t){nr.apply(n,ai.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}u=r.support={};ei=r.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?t.nodeName!=="HTML":!1};k=r.setDocument=function(n){var a,c,r=n?n.ownerDocument||n:h;return r===o||r.nodeType!==9||!r.documentElement?o:(o=r,s=r.documentElement,c=r.defaultView,c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",pi,!1):c.attachEvent&&c.attachEvent("onunload",pi)),l=!ei(r),u.attributes=v(function(n){return n.className="i",!n.getAttribute("className")}),u.getElementsByTagName=v(function(n){return n.appendChild(r.createComment("")),!n.getElementsByTagName("*").length}),u.getElementsByClassName=ot.test(r.getElementsByClassName),u.getById=v(function(n){return s.appendChild(n).id=f,!r.getElementsByName||!r.getElementsByName(f).length}),u.getById?(t.find.ID=function(n,t){if(typeof t.getElementById!="undefined"&&l){var i=t.getElementById(n);return i&&i.parentNode?[i]:[]}},t.filter.ID=function(n){var t=n.replace(y,p);return function(n){return n.getAttribute("id")===t}}):(delete t.find.ID,t.filter.ID=function(n){var t=n.replace(y,p);return function(n){var i=typeof n.getAttributeNode!="undefined"&&n.getAttributeNode("id");return i&&i.value===t}}),t.find.TAG=u.getElementsByTagName?function(n,t){return typeof t.getElementsByTagName!="undefined"?t.getElementsByTagName(n):u.qsa?t.querySelectorAll(n):void 0}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if(n==="*"){while(i=u[f++])i.nodeType===1&&r.push(i);return r}return u},t.find.CLASS=u.getElementsByClassName&&function(n,t){if(l)return t.getElementsByClassName(n)},d=[],e=[],(u.qsa=ot.test(r.querySelectorAll))&&(v(function(n){s.appendChild(n).innerHTML="<a id='"+f+"'><\/a><select id='"+f+"-\f]' msallowcapture=''><option selected=''><\/option><\/select>";n.querySelectorAll("[msallowcapture^='']").length&&e.push("[*^$]="+i+"*(?:''|\"\")");n.querySelectorAll("[selected]").length||e.push("\\["+i+"*(?:value|"+bt+")");n.querySelectorAll("[id~="+f+"-]").length||e.push("~=");n.querySelectorAll(":checked").length||e.push(":checked");n.querySelectorAll("a#"+f+"+*").length||e.push(".#.+[+~]")}),v(function(n){var t=r.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");n.querySelectorAll("[name=d]").length&&e.push("name"+i+"*[*^$|!~]?=");n.querySelectorAll(":enabled").length||e.push(":enabled",":disabled");n.querySelectorAll("*,:x");e.push(",.*:")})),(u.matchesSelector=ot.test(ct=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&v(function(n){u.disconnectedMatch=ct.call(n,"div");ct.call(n,"[s!='']:x");d.push("!=",kt)}),e=e.length&&new RegExp(e.join("|")),d=d.length&&new RegExp(d.join("|")),a=ot.test(s.compareDocumentPosition),et=a||ot.test(s.contains)?function(n,t){var r=n.nodeType===9?n.documentElement:n,i=t&&t.parentNode;return n===i||!!(i&&i.nodeType===1&&(r.contains?r.contains(i):n.compareDocumentPosition&&n.compareDocumentPosition(i)&16))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},wt=a?function(n,t){if(n===t)return rt=!0,0;var i=!n.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(n.ownerDocument||n)===(t.ownerDocument||t)?n.compareDocumentPosition(t):1,i&1||!u.sortDetached&&t.compareDocumentPosition(n)===i)?n===r||n.ownerDocument===h&&et(h,n)?-1:t===r||t.ownerDocument===h&&et(h,t)?1:w?nt(w,n)-nt(w,t):0:i&4?-1:1}:function(n,t){if(n===t)return rt=!0,0;var i,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(o&&s){if(o===s)return wi(n,t)}else return n===r?-1:t===r?1:o?-1:s?1:w?nt(w,n)-nt(w,t):0;for(i=n;i=i.parentNode;)f.unshift(i);for(i=t;i=i.parentNode;)e.unshift(i);while(f[u]===e[u])u++;return u?wi(f[u],e[u]):f[u]===h?-1:e[u]===h?1:0},r)};r.matches=function(n,t){return r(n,null,null,t)};r.matchesSelector=function(n,t){if((n.ownerDocument||n)!==o&&k(n),t=t.replace(ur,"='$1']"),u.matchesSelector&&l&&(!d||!d.test(t))&&(!e||!e.test(t)))try{var i=ct.call(n,t);if(i||u.disconnectedMatch||n.document&&n.document.nodeType!==11)return i}catch(f){}return r(t,o,null,[n]).length>0};r.contains=function(n,t){return(n.ownerDocument||n)!==o&&k(n),et(n,t)};r.attr=function(n,i){(n.ownerDocument||n)!==o&&k(n);var f=t.attrHandle[i.toLowerCase()],r=f&&di.call(t.attrHandle,i.toLowerCase())?f(n,i,!l):undefined;return r!==undefined?r:u.attributes||!l?n.getAttribute(i):(r=n.getAttributeNode(i))&&r.specified?r.value:null};r.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};r.uniqueSort=function(n){var r,f=[],t=0,i=0;if(rt=!u.detectDuplicates,w=!u.sortStable&&n.slice(0),n.sort(wt),rt){while(r=n[i++])r===n[i]&&(t=f.push(i));while(t--)n.splice(f[t],1)}return w=null,n};st=r.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(t===1||t===9||t===11){if(typeof n.textContent=="string")return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=st(n)}else if(t===3||t===4)return n.nodeValue}else while(r=n[u++])i+=st(r);return i};t=r.selectors={cacheLength:50,createPseudo:c,match:at,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(y,p),n[3]=(n[3]||n[4]||n[5]||"").replace(y,p),n[2]==="~="&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),n[1].slice(0,3)==="nth"?(n[3]||r.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*(n[3]==="even"||n[3]==="odd")),n[5]=+(n[7]+n[8]||n[3]==="odd")):n[3]&&r.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return at.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&fr.test(t)&&(i=ft(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(y,p).toLowerCase();return n==="*"?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=si[n+" "];return t||(t=new RegExp("(^|"+i+")"+n+"("+i+"|$)"))&&si(n,function(n){return t.test(typeof n.className=="string"&&n.className||typeof n.getAttribute!="undefined"&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(u){var f=r.attr(u,n);return f==null?t==="!=":t?(f+="",t==="="?f===i:t==="!="?f!==i:t==="^="?i&&f.indexOf(i)===0:t==="*="?i&&f.indexOf(i)>-1:t==="$="?i&&f.slice(-i.length)===i:t==="~="?(" "+f.replace(tr," ")+" ").indexOf(i)>-1:t==="|="?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s=n.slice(0,3)!=="nth",o=n.slice(-4)!=="last",e=t==="of-type";return r===1&&u===0?function(n){return!!n.parentNode}:function(t,i,h){var v,k,c,l,y,w,b=s!==o?"nextSibling":"previousSibling",p=t.parentNode,g=e&&t.nodeName.toLowerCase(),d=!h&&!e;if(p){if(s){while(b){for(c=t;c=c[b];)if(e?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;w=b=n==="only"&&!w&&"nextSibling"}return!0}if(w=[o?p.firstChild:p.lastChild],o&&d){for(k=p[f]||(p[f]={}),v=k[n]||[],y=v[0]===a&&v[1],l=v[0]===a&&v[2],c=y&&p.childNodes[y];c=++y&&c&&c[b]||(l=y=0)||w.pop();)if(c.nodeType===1&&++l&&c===t){k[n]=[a,y,l];break}}else if(d&&(v=(t[f]||(t[f]={}))[n])&&v[0]===a)l=v[1];else while(c=++y&&c&&c[b]||(l=y=0)||w.pop())if((e?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++l&&(d&&((c[f]||(c[f]={}))[n]=[a,l]),c===t))break;return l-=u,l===r||l%r==0&&l/r>=0}}},PSEUDO:function(n,i){var e,u=t.pseudos[n]||t.setFilters[n.toLowerCase()]||r.error("unsupported pseudo: "+n);return u[f]?u(i):u.length>1?(e=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?c(function(n,t){for(var r,f=u(n,i),e=f.length;e--;)r=nt(n,f[e]),n[r]=!(t[r]=f[e])}):function(n){return u(n,0,e)}):u}},pseudos:{not:c(function(n){var t=[],r=[],i=pt(n.replace(lt,"$1"));return i[f]?c(function(n,t,r,u){for(var e,o=i(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(t[f]=e))}):function(n,u,f){return t[0]=n,i(t,null,f,r),t[0]=null,!r.pop()}}),has:c(function(n){return function(t){return r(n,t).length>0}}),contains:c(function(n){return n=n.replace(y,p),function(t){return(t.textContent||t.innerText||st(t)).indexOf(n)>-1}}),lang:c(function(n){return er.test(n||"")||r.error("unsupported lang: "+n),n=n.replace(y,p).toLowerCase(),function(t){var i;do if(i=l?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===n||i.indexOf(n+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===s},focus:function(n){return n===o.activeElement&&(!o.hasFocus||o.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:function(n){return n.disabled===!1},disabled:function(n){return n.disabled===!0},checked:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&!!n.checked||t==="option"&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return sr.test(n.nodeName)},input:function(n){return or.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&n.type==="button"||t==="button"},text:function(n){var t;return n.nodeName.toLowerCase()==="input"&&n.type==="text"&&((t=n.getAttribute("type"))==null||t.toLowerCase()==="text")},first:tt(function(){return[0]}),last:tt(function(n,t){return[t-1]}),eq:tt(function(n,t,i){return[i<0?i+t:i]}),even:tt(function(n,t){for(var i=0;i<t;i+=2)n.push(i);return n}),odd:tt(function(n,t){for(var i=1;i<t;i+=2)n.push(i);return n}),lt:tt(function(n,t,i){for(var r=i<0?i+t:i;--r>=0;)n.push(r);return n}),gt:tt(function(n,t,i){for(var r=i<0?i+t:i;++r<t;)n.push(r);return n})}};t.pseudos.nth=t.pseudos.eq;for(it in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[it]=lr(it);for(it in{submit:!0,reset:!0})t.pseudos[it]=ar(it);return bi.prototype=t.filters=t.pseudos,t.setFilters=new bi,ft=r.tokenize=function(n,i){var e,f,s,o,u,h,c,l=hi[n+" "];if(l)return i?0:l.slice(0);for(u=n,h=[],c=t.preFilter;u;){(!e||(f=ir.exec(u)))&&(f&&(u=u.slice(f[0].length)||u),h.push(s=[]));e=!1;(f=rr.exec(u))&&(e=f.shift(),s.push({value:e,type:f[0].replace(lt," ")}),u=u.slice(e.length));for(o in t.filter)(f=at[o].exec(u))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),u=u.slice(e.length));if(!e)break}return i?u.length:u?r.error(n):hi(n,h).slice(0)},pt=r.compile=function(n,t){var r,u=[],e=[],i=ci[n+" "];if(!i){for(t||(t=ft(n)),r=t.length;r--;)i=fi(t[r]),i[f]?u.push(i):e.push(i);i=ci(n,yr(e,u));i.selector=n}return i},oi=r.select=function(n,i,r,f){var s,e,o,a,v,c=typeof n=="function"&&n,h=!f&&ft(n=c.selector||n);if(r=r||[],h.length===1){if(e=h[0]=h[0].slice(0),e.length>2&&(o=e[0]).type==="ID"&&u.getById&&i.nodeType===9&&l&&t.relative[e[1].type]){if(i=(t.find.ID(o.matches[0].replace(y,p),i)||[])[0],i)c&&(i=i.parentNode);else return r;n=n.slice(e.shift().value.length)}for(s=at.needsContext.test(n)?0:e.length;s--;){if(o=e[s],t.relative[a=o.type])break;if((v=t.find[a])&&(f=v(o.matches[0].replace(y,p),dt.test(e[0].type)&&ti(i.parentNode)||i))){if(e.splice(s,1),n=f.length&&vt(e),!n)return b.apply(r,f),r;break}}}return(c||pt(n,h))(f,i,!l,r,dt.test(n)&&ti(i.parentNode)||i),r},u.sortStable=f.split("").sort(wt).join("")===f,u.detectDuplicates=!!rt,k(),u.sortDetached=v(function(n){return n.compareDocumentPosition(o.createElement("div"))&1}),v(function(n){return n.innerHTML="<a href='#'><\/a>",n.firstChild.getAttribute("href")==="#"})||ni("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,t.toLowerCase()==="type"?1:2)}),u.attributes&&v(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),n.firstChild.getAttribute("value")===""})||ni("value",function(n,t,i){if(!i&&n.nodeName.toLowerCase()==="input")return n.defaultValue}),v(function(n){return n.getAttribute("disabled")==null})||ni(bt,function(n,t,i){var r;if(!i)return n[t]===!0?t.toLowerCase():(r=n.getAttributeNode(t))&&r.specified?r.value:null}),r}(n);i.find=y;i.expr=y.selectors;i.expr[":"]=i.expr.pseudos;i.unique=y.uniqueSort;i.text=y.getText;i.isXMLDoc=y.isXML;i.contains=y.contains;var di=i.expr.match.needsContext,gi=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ef=/^.[^:#\[\.,]*$/;i.filter=function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),t.length===1&&u.nodeType===1?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return n.nodeType===1}))};i.fn.extend({find:function(n){var t,u=this.length,r=[],f=this;if(typeof n!="string")return this.pushStack(i(n).filter(function(){for(t=0;t<u;t++)if(i.contains(f[t],this))return!0}));for(t=0;t<u;t++)i.find(n,f[t],r);return r=this.pushStack(u>1?i.unique(r):r),r.selector=this.selector?this.selector+" "+n:n,r},filter:function(n){return this.pushStack(ui(this,n||[],!1))},not:function(n){return this.pushStack(ui(this,n||[],!0))},is:function(n){return!!ui(this,typeof n=="string"&&di.test(n)?i(n):n||[],!1).length}});nr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;tr=i.fn.init=function(n,t){var r,f;if(!n)return this;if(typeof n=="string"){if(r=n[0]==="<"&&n[n.length-1]===">"&&n.length>=3?[null,n,null]:nr.exec(n),r&&(r[1]||!t)){if(r[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:u,!0)),gi.test(r[1])&&i.isPlainObject(t))for(r in t)i.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return f=u.getElementById(r[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=u,this.selector=n,this}return!t||t.jquery?(t||ot).find(n):this.constructor(t).find(n)}return n.nodeType?(this.context=this[0]=n,this.length=1,this):i.isFunction(n)?typeof ot.ready!="undefined"?ot.ready(n):n(i):(n.selector!==undefined&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))};tr.prototype=i.fn;ot=i(u);ir=/^(?:parents|prev(?:Until|All))/;rr={children:!0,contents:!0,next:!0,prev:!0};i.extend({dir:function(n,t,r){for(var u=[],f=r!==undefined;(n=n[t])&&n.nodeType!==9;)if(n.nodeType===1){if(f&&i(n).is(r))break;u.push(n)}return u},sibling:function(n,t){for(var i=[];n;n=n.nextSibling)n.nodeType===1&&n!==t&&i.push(n);return i}});i.fn.extend({has:function(n){var t=i(n,this),r=t.length;return this.filter(function(){for(var n=0;n<r;n++)if(i.contains(this,t[n]))return!0})},closest:function(n,t){for(var r,f=0,o=this.length,u=[],e=di.test(n)||typeof n!="string"?i(n,t||this.context):0;f<o;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?e.index(r)>-1:r.nodeType===1&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(u.length>1?i.unique(u):u)},index:function(n){return n?typeof n=="string"?ft.call(i(n),this[0]):ft.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.unique(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&t.nodeType!==11?t:null},parents:function(n){return i.dir(n,"parentNode")},parentsUntil:function(n,t,r){return i.dir(n,"parentNode",r)},next:function(n){return ur(n,"nextSibling")},prev:function(n){return ur(n,"previousSibling")},nextAll:function(n){return i.dir(n,"nextSibling")},prevAll:function(n){return i.dir(n,"previousSibling")},nextUntil:function(n,t,r){return i.dir(n,"nextSibling",r)},prevUntil:function(n,t,r){return i.dir(n,"previousSibling",r)},siblings:function(n){return i.sibling((n.parentNode||{}).firstChild,n)},children:function(n){return i.sibling(n.firstChild)},contents:function(n){return n.contentDocument||i.merge([],n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return n.slice(-5)!=="Until"&&(u=r),u&&typeof u=="string"&&(f=i.filter(u,f)),this.length>1&&(rr[n]||i.unique(f),ir.test(n)&&f.reverse()),this.pushStack(f)}});c=/\S+/g;fi={};i.Callbacks=function(n){n=typeof n=="string"?fi[n]||of(n):i.extend({},n);var u,h,o,c,f,e,t=[],r=!n.once&&[],l=function(i){for(u=n.memory&&i,h=!0,e=c||0,c=0,f=t.length,o=!0;t&&e<f;e++)if(t[e].apply(i[0],i[1])===!1&&n.stopOnFalse){u=!1;break}o=!1;t&&(r?r.length&&l(r.shift()):u?t=[]:s.disable())},s={add:function(){if(t){var r=t.length;(function e(r){i.each(r,function(r,u){var f=i.type(u);f==="function"?n.unique&&s.has(u)||t.push(u):u&&u.length&&f!=="string"&&e(u)})})(arguments);o?f=t.length:u&&(c=r,l(u))}return this},remove:function(){return t&&i.each(arguments,function(n,r){for(var u;(u=i.inArray(r,t,u))>-1;)t.splice(u,1),o&&(u<=f&&f--,u<=e&&e--)}),this},has:function(n){return n?i.inArray(n,t)>-1:!!(t&&t.length)},empty:function(){return t=[],f=0,this},disable:function(){return t=r=u=undefined,this},disabled:function(){return!t},lock:function(){return r=undefined,u||s.disable(),this},locked:function(){return!r},fireWith:function(n,i){return t&&(!h||r)&&(i=i||[],i=[n,i.slice?i.slice():i],o?r.push(i):l(i)),this},fire:function(){return s.fireWith(this,arguments),this},fired:function(){return!!h}};return s};i.extend({Deferred:function(n){var u=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],f="pending",r={state:function(){return f},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var n=arguments;return i.Deferred(function(f){i.each(u,function(u,e){var o=i.isFunction(n[u])&&n[u];t[e[1]](function(){var n=o&&o.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().done(f.resolve).fail(f.reject).progress(f.notify):f[e[0]+"With"](this===r?f.promise():this,o?[n]:arguments)})});n=null}).promise()},promise:function(n){return n!=null?i.extend(n,r):r}},t={};return r.pipe=r.then,i.each(u,function(n,i){var e=i[2],o=i[3];r[i[1]]=e.add;o&&e.add(function(){f=o},u[n^1][2].disable,u[2][2].lock);t[i[0]]=function(){return t[i[0]+"With"](this===t?r:this,arguments),this};t[i[0]+"With"]=e.fireWith}),r.promise(t),n&&n.call(t,t),t},when:function(n){var t=0,u=a.call(arguments),r=u.length,e=r!==1||n&&i.isFunction(n.promise)?r:0,f=e===1?n:i.Deferred(),h=function(n,t,i){return function(r){t[n]=this;i[n]=arguments.length>1?a.call(arguments):r;i===o?f.notifyWith(t,i):--e||f.resolveWith(t,i)}},o,c,s;if(r>1)for(o=new Array(r),c=new Array(r),s=new Array(r);t<r;t++)u[t]&&i.isFunction(u[t].promise)?u[t].promise().done(h(t,s,u)).fail(f.reject).progress(h(t,c,o)):--e;return e||f.resolveWith(s,u),f.promise()}});i.fn.ready=function(n){return i.ready.promise().done(n),this};i.extend({isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){(n===!0?--i.readyWait:i.isReady)||(i.isReady=!0,n!==!0&&--i.readyWait>0)||(st.resolveWith(u,[i]),i.fn.triggerHandler&&(i(u).triggerHandler("ready"),i(u).off("ready")))}});i.ready.promise=function(t){return st||(st=i.Deferred(),u.readyState==="complete"?setTimeout(i.ready):(u.addEventListener("DOMContentLoaded",ht,!1),n.addEventListener("load",ht,!1))),st.promise(t)};i.ready.promise();l=i.access=function(n,t,r,u,f,e,o){var s=0,c=n.length,h=r==null;if(i.type(r)==="object"){f=!0;for(s in r)i.access(n,t,s,r[s],!0,e,o)}else if(u!==undefined&&(f=!0,i.isFunction(u)||(o=!0),h&&(o?(t.call(n,u),t=null):(h=t,t=function(n,t,r){return h.call(i(n),r)})),t))for(;s<c;s++)t(n[s],r,o?u:u.call(n[s],s,t(n[s],r)));return f?n:h?t.call(n):c?t(n[0],r):e};i.acceptData=function(n){return n.nodeType===1||n.nodeType===9||!+n.nodeType};v.uid=1;v.accepts=i.acceptData;v.prototype={key:function(n){if(!v.accepts(n))return 0;var r={},t=n[this.expando];if(!t){t=v.uid++;try{r[this.expando]={value:t};Object.defineProperties(n,r)}catch(u){r[this.expando]=t;i.extend(n,r)}}return this.cache[t]||(this.cache[t]={}),t},set:function(n,t,r){var f,e=this.key(n),u=this.cache[e];if(typeof t=="string")u[t]=r;else if(i.isEmptyObject(u))i.extend(this.cache[e],t);else for(f in t)u[f]=t[f];return u},get:function(n,t){var i=this.cache[this.key(n)];return t===undefined?i:i[t]},access:function(n,t,r){var u;return t===undefined||t&&typeof t=="string"&&r===undefined?(u=this.get(n,t),u!==undefined?u:this.get(n,i.camelCase(t))):(this.set(n,t,r),r!==undefined?r:t)},remove:function(n,t){var u,r,f,o=this.key(n),e=this.cache[o];if(t===undefined)this.cache[o]={};else for(i.isArray(t)?r=t.concat(t.map(i.camelCase)):(f=i.camelCase(t),t in e?r=[t,f]:(r=f,r=r in e?[r]:r.match(c)||[])),u=r.length;u--;)delete e[r[u]]},hasData:function(n){return!i.isEmptyObject(this.cache[n[this.expando]]||{})},discard:function(n){n[this.expando]&&delete this.cache[n[this.expando]]}};var r=new v,e=new v,sf=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,hf=/([A-Z])/g;i.extend({hasData:function(n){return e.hasData(n)||r.hasData(n)},data:function(n,t,i){return e.access(n,t,i)},removeData:function(n,t){e.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,t){var o,f,s,u=this[0],h=u&&u.attributes;if(n===undefined){if(this.length&&(s=e.get(u),u.nodeType===1&&!r.get(u,"hasDataAttrs"))){for(o=h.length;o--;)h[o]&&(f=h[o].name,f.indexOf("data-")===0&&(f=i.camelCase(f.slice(5)),fr(u,f,s[f])));r.set(u,"hasDataAttrs",!0)}return s}return typeof n=="object"?this.each(function(){e.set(this,n)}):l(this,function(t){var r,f=i.camelCase(n);if(u&&t===undefined)return(r=e.get(u,n),r!==undefined)?r:(r=e.get(u,f),r!==undefined)?r:(r=fr(u,f,undefined),r!==undefined)?r:void 0;this.each(function(){var i=e.get(this,f);e.set(this,f,t);n.indexOf("-")!==-1&&i!==undefined&&e.set(this,n,t)})},null,t,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){e.remove(this,n)})}});i.extend({queue:function(n,t,u){var f;if(n)return t=(t||"fx")+"queue",f=r.get(n,t),u&&(!f||i.isArray(u)?f=r.access(n,t,i.makeArray(u)):f.push(u)),f||[]},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};u==="inprogress"&&(u=r.shift(),e--);u&&(t==="fx"&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add(function(){r.remove(n,[t+"queue",u])})})}});i.fn.extend({queue:function(n,t){var r=2;return(typeof n!="string"&&(t=n,n="fx",r--),arguments.length<r)?i.queue(this[0],n):t===undefined?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);n==="fx"&&r[0]!=="inprogress"&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for(typeof n!="string"&&(t=n,n=undefined),n=n||"fx";s--;)u=r.get(f[s],n+"queueHooks"),u&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(t)}});var ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,p=["Top","Right","Bottom","Left"],tt=function(n,t){return n=t||n,i.css(n,"display")==="none"||!i.contains(n.ownerDocument,n)},er=/^(?:checkbox|radio)$/i;(function(){var i=u.createDocumentFragment(),n=i.appendChild(u.createElement("div")),t=u.createElement("input");t.setAttribute("type","radio");t.setAttribute("checked","checked");t.setAttribute("name","t");n.appendChild(t);f.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked;n.innerHTML="<textarea>x<\/textarea>";f.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue})();b=typeof undefined;f.focusinBubbles="onfocusin"in n;var cf=/^key/,lf=/^(?:mouse|pointer|contextmenu)|click/,or=/^(?:focusinfocus|focusoutblur)$/,sr=/^([^.]*)(?:\.(.+)|)$/;i.event={global:{},add:function(n,t,u,f,e){var v,y,w,p,k,h,s,l,o,d,g,a=r.get(n);if(a)for(u.handler&&(v=u,u=v.handler,e=v.selector),u.guid||(u.guid=i.guid++),(p=a.events)||(p=a.events={}),(y=a.handle)||(y=a.handle=function(t){return typeof i!==b&&i.event.triggered!==t.type?i.event.dispatch.apply(n,arguments):undefined}),t=(t||"").match(c)||[""],k=t.length;k--;)(w=sr.exec(t[k])||[],o=g=w[1],d=(w[2]||"").split(".").sort(),o)&&(s=i.event.special[o]||{},o=(e?s.delegateType:s.bindType)||o,s=i.event.special[o]||{},h=i.extend({type:o,origType:g,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:d.join(".")},v),(l=p[o])||(l=p[o]=[],l.delegateCount=0,s.setup&&s.setup.call(n,f,d,y)!==!1||n.addEventListener&&n.addEventListener(o,y,!1)),s.add&&(s.add.call(n,h),h.handler.guid||(h.handler.guid=u.guid)),e?l.splice(l.delegateCount++,0,h):l.push(h),i.event.global[o]=!0)},remove:function(n,t,u,f,e){var p,k,h,v,w,s,l,a,o,b,d,y=r.hasData(n)&&r.get(n);if(y&&(v=y.events)){for(t=(t||"").match(c)||[""],w=t.length;w--;){if(h=sr.exec(t[w])||[],o=d=h[1],b=(h[2]||"").split(".").sort(),!o){for(o in v)i.event.remove(n,o+t[w],u,f,!0);continue}for(l=i.event.special[o]||{},o=(f?l.delegateType:l.bindType)||o,a=v[o]||[],h=h[2]&&new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=p=a.length;p--;)s=a[p],(e||d===s.origType)&&(!u||u.guid===s.guid)&&(!h||h.test(s.namespace))&&(!f||f===s.selector||f==="**"&&s.selector)&&(a.splice(p,1),s.selector&&a.delegateCount--,l.remove&&l.remove.call(n,s));k&&!a.length&&(l.teardown&&l.teardown.call(n,b,y.handle)!==!1||i.removeEvent(n,o,y.handle),delete v[o])}i.isEmptyObject(v)&&(delete y.handle,r.remove(n,"events"))}},trigger:function(t,f,e,o){var w,s,c,b,a,v,l,p=[e||u],h=ii.call(t,"type")?t.type:t,y=ii.call(t,"namespace")?t.namespace.split("."):[];if((s=c=e=e||u,e.nodeType!==3&&e.nodeType!==8)&&!or.test(h+i.event.triggered)&&(h.indexOf(".")>=0&&(y=h.split("."),h=y.shift(),y.sort()),a=h.indexOf(":")<0&&"on"+h,t=t[i.expando]?t:new i.Event(h,typeof t=="object"&&t),t.isTrigger=o?2:3,t.namespace=y.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=e),f=f==null?[t]:i.makeArray(f,[t]),l=i.event.special[h]||{},o||!l.trigger||l.trigger.apply(e,f)!==!1)){if(!o&&!l.noBubble&&!i.isWindow(e)){for(b=l.delegateType||h,or.test(b+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),c=s;c===(e.ownerDocument||u)&&p.push(c.defaultView||c.parentWindow||n)}for(w=0;(s=p[w++])&&!t.isPropagationStopped();)t.type=w>1?b:l.bindType||h,v=(r.get(s,"events")||{})[t.type]&&r.get(s,"handle"),v&&v.apply(s,f),v=a&&s[a],v&&v.apply&&i.acceptData(s)&&(t.result=v.apply(s,f),t.result===!1&&t.preventDefault());return t.type=h,o||t.isDefaultPrevented()||(!l._default||l._default.apply(p.pop(),f)===!1)&&i.acceptData(e)&&a&&i.isFunction(e[h])&&!i.isWindow(e)&&(c=e[a],c&&(e[a]=null),i.event.triggered=h,e[h](),i.event.triggered=undefined,c&&(e[a]=c)),t.result}},dispatch:function(n){n=i.event.fix(n);var o,s,e,u,t,h=[],c=a.call(arguments),l=(r.get(this,"events")||{})[n.type]||[],f=i.event.special[n.type]||{};if(c[0]=n,n.delegateTarget=this,!f.preDispatch||f.preDispatch.call(this,n)!==!1){for(h=i.event.handlers.call(this,n,l),o=0;(u=h[o++])&&!n.isPropagationStopped();)for(n.currentTarget=u.elem,s=0;(t=u.handlers[s++])&&!n.isImmediatePropagationStopped();)(!n.namespace_re||n.namespace_re.test(t.namespace))&&(n.handleObj=t,n.data=t.data,e=((i.event.special[t.origType]||{}).handle||t.handler).apply(u.elem,c),e!==undefined&&(n.result=e)===!1&&(n.preventDefault(),n.stopPropagation()));return f.postDispatch&&f.postDispatch.call(this,n),n.result}},handlers:function(n,t){var e,u,f,o,h=[],s=t.delegateCount,r=n.target;if(s&&r.nodeType&&(!n.button||n.type!=="click"))for(;r!==this;r=r.parentNode||this)if(r.disabled!==!0||n.type!=="click"){for(u=[],e=0;e<s;e++)o=t[e],f=o.selector+" ",u[f]===undefined&&(u[f]=o.needsContext?i(f,this).index(r)>=0:i.find(f,this,null,[r]).length),u[f]&&u.push(o);u.length&&h.push({elem:r,handlers:u})}return s<t.length&&h.push({elem:this,handlers:t.slice(s)}),h},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return n.which==null&&(n.which=t.charCode!=null?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,t){var e,i,r,f=t.button;return n.pageX==null&&t.clientX!=null&&(e=n.target.ownerDocument||u,i=e.documentElement,r=e.body,n.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),n.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),n.which||f===undefined||(n.which=f&1?1:f&2?3:f&4?2:0),n}},fix:function(n){if(n[i.expando])return n;var f,e,o,r=n.type,s=n,t=this.fixHooks[r];for(t||(this.fixHooks[r]=t=lf.test(r)?this.mouseHooks:cf.test(r)?this.keyHooks:{}),o=t.props?this.props.concat(t.props):this.props,n=new i.Event(s),f=o.length;f--;)e=o[f],n[e]=s[e];return n.target||(n.target=u),n.target.nodeType===3&&(n.target=n.target.parentNode),t.filter?t.filter(n,s):n},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==hr()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===hr()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&i.nodeName(this,"input"))return this.click(),!1},_default:function(n){return i.nodeName(n.target,"a")}},beforeunload:{postDispatch:function(n){n.result!==undefined&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}},simulate:function(n,t,r,u){var f=i.extend(new i.Event,r,{type:n,isSimulated:!0,originalEvent:{}});u?i.event.trigger(f,null,t):i.event.dispatch.call(t,f);f.isDefaultPrevented()&&r.preventDefault()}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)};i.Event=function(n,t){if(!(this instanceof i.Event))return new i.Event(n,t);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.defaultPrevented===undefined&&n.returnValue===!1?lt:k):this.type=n;t&&i.extend(this,t);this.timeStamp=n&&n.timeStamp||i.now();this[i.expando]=!0};i.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=lt;n&&n.preventDefault&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=lt;n&&n.stopPropagation&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=lt;n&&n.stopImmediatePropagation&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return r&&(r===f||i.contains(f,r))||(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});f.focusinBubbles||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=function(n){i.event.simulate(t,n.target,i.event.fix(n),!0)};i.event.special[t]={setup:function(){var i=this.ownerDocument||this,f=r.access(i,t);f||i.addEventListener(n,u,!0);r.access(i,t,(f||0)+1)},teardown:function(){var i=this.ownerDocument||this,f=r.access(i,t)-1;f?r.access(i,t,f):(i.removeEventListener(n,u,!0),r.remove(i,t))}}});i.fn.extend({on:function(n,t,r,u,f){var e,o;if(typeof n=="object"){typeof t!="string"&&(r=r||t,t=undefined);for(o in n)this.on(o,t,r,n[o],f);return this}if(r==null&&u==null?(u=t,r=t=undefined):u==null&&(typeof t=="string"?(u=r,r=undefined):(u=r,r=t,t=undefined)),u===!1)u=k;else if(!u)return this;return f===1&&(e=u,u=function(n){return i().off(n),e.apply(this,arguments)},u.guid=e.guid||(e.guid=i.guid++)),this.each(function(){i.event.add(this,n,u,r,t)})},one:function(n,t,i,r){return this.on(n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if(typeof n=="object"){for(f in n)this.off(f,t,n[f]);return this}return(t===!1||typeof t=="function")&&(r=t,t=undefined),r===!1&&(r=k),this.each(function(){i.event.remove(this,n,r,t)})},trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});var cr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,lr=/<([\w:]+)/,af=/<|&#?\w+;/,vf=/<(?:script|style|link)/i,yf=/checked\s*(?:[^=]|=\s*.checked.)/i,ar=/^$|\/(?:java|ecma)script/i,pf=/^true\/(.*)/,wf=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,h={option:[1,"<select multiple='multiple'>","<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};h.optgroup=h.option;h.tbody=h.tfoot=h.colgroup=h.caption=h.thead;h.th=h.td;i.extend({clone:function(n,t,r){var u,c,s,e,h=n.cloneNode(!0),l=i.contains(n.ownerDocument,n);if(!f.noCloneChecked&&(n.nodeType===1||n.nodeType===11)&&!i.isXMLDoc(n))for(e=o(h),s=o(n),u=0,c=s.length;u<c;u++)df(s[u],e[u]);if(t)if(r)for(s=s||o(n),e=e||o(h),u=0,c=s.length;u<c;u++)yr(s[u],e[u]);else yr(n,h);return e=o(h,"script"),e.length>0&&ei(e,!l&&o(n,"script")),h},buildFragment:function(n,t,r,u){for(var f,e,y,l,p,a,s=t.createDocumentFragment(),v=[],c=0,w=n.length;c<w;c++)if(f=n[c],f||f===0)if(i.type(f)==="object")i.merge(v,f.nodeType?[f]:f);else if(af.test(f)){for(e=e||s.appendChild(t.createElement("div")),y=(lr.exec(f)||["",""])[1].toLowerCase(),l=h[y]||h._default,e.innerHTML=l[1]+f.replace(cr,"<$1><\/$2>")+l[2],a=l[0];a--;)e=e.lastChild;i.merge(v,e.childNodes);e=s.firstChild;e.textContent=""}else v.push(t.createTextNode(f));for(s.textContent="",c=0;f=v[c++];)if((!u||i.inArray(f,u)===-1)&&(p=i.contains(f.ownerDocument,f),e=o(s.appendChild(f),"script"),p&&ei(e),r))for(a=0;f=e[a++];)ar.test(f.type||"")&&r.push(f);return s},cleanData:function(n){for(var f,t,o,u,h=i.event.special,s=0;(t=n[s])!==undefined;s++){if(i.acceptData(t)&&(u=t[r.expando],u&&(f=r.cache[u]))){if(f.events)for(o in f.events)h[o]?i.event.remove(t,o):i.removeEvent(t,o,f.handle);r.cache[u]&&delete r.cache[u]}delete e.cache[t[e.expando]]}}});i.fn.extend({text:function(n){return l(this,function(n){return n===undefined?i.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=n)})},null,n,arguments.length)},append:function(){return this.domManip(arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=vr(this,n);t.appendChild(n)}})},prepend:function(){return this.domManip(arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=vr(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},remove:function(n,t){for(var r,f=n?i.filter(n,this):this,u=0;(r=f[u])!=null;u++)t||r.nodeType!==1||i.cleanData(o(r)),r.parentNode&&(t&&i.contains(r.ownerDocument,r)&&ei(o(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var n,t=0;(n=this[t])!=null;t++)n.nodeType===1&&(i.cleanData(o(n,!1)),n.textContent="");return this},clone:function(n,t){return n=n==null?!1:n,t=t==null?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return l(this,function(n){var t=this[0]||{},r=0,u=this.length;if(n===undefined&&t.nodeType===1)return t.innerHTML;if(typeof n=="string"&&!vf.test(n)&&!h[(lr.exec(n)||["",""])[1].toLowerCase()]){n=n.replace(cr,"<$1><\/$2>");try{for(;r<u;r++)t=this[r]||{},t.nodeType===1&&(i.cleanData(o(t,!1)),t.innerHTML=n);t=0}catch(f){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=arguments[0];return this.domManip(arguments,function(t){n=this.parentNode;i.cleanData(o(this));n&&n.replaceChild(t,this)}),n&&(n.length||n.nodeType)?this:this.remove()},detach:function(n){return this.remove(n,!0)},domManip:function(n,t){n=bi.apply([],n);var h,v,s,c,u,y,e=0,l=this.length,w=this,b=l-1,a=n[0],p=i.isFunction(a);if(p||l>1&&typeof a=="string"&&!f.checkClone&&yf.test(a))return this.each(function(i){var r=w.eq(i);p&&(n[0]=a.call(this,i,r.html()));r.domManip(n,t)});if(l&&(h=i.buildFragment(n,this[0].ownerDocument,!1,this),v=h.firstChild,h.childNodes.length===1&&(h=v),v)){for(s=i.map(o(h,"script"),bf),c=s.length;e<l;e++)u=h,e!==b&&(u=i.clone(u,!0,!0),c&&i.merge(s,o(u,"script"))),t.call(this[e],u,e);if(c)for(y=s[s.length-1].ownerDocument,i.map(s,kf),e=0;e<c;e++)u=s[e],ar.test(u.type||"")&&!r.access(u,"globalEval")&&i.contains(y,u)&&(u.src?i._evalUrl&&i._evalUrl(u.src):i.globalEval(u.textContent.replace(wf,"")))}return this}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;r<=o;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),ti.apply(f,u.get());return this.pushStack(f)}});oi={};var wr=/^margin/,hi=new RegExp("^("+ct+")(?!px)[a-z%]+$","i"),vt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):n.getComputedStyle(t,null)};(function(){function h(){t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";t.innerHTML="";e.appendChild(r);var i=n.getComputedStyle(t,null);s=i.top!=="1%";o=i.width==="4px";e.removeChild(r)}var s,o,e=u.documentElement,r=u.createElement("div"),t=u.createElement("div");t.style&&(t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle=t.style.backgroundClip==="content-box",r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(t),n.getComputedStyle&&i.extend(f,{pixelPosition:function(){return h(),s},boxSizingReliable:function(){return o==null&&h(),o},reliableMarginRight:function(){var f,i=t.appendChild(u.createElement("div"));return i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",e.appendChild(r),f=!parseFloat(n.getComputedStyle(i,null).marginRight),e.removeChild(r),t.removeChild(i),f}}))})();i.swap=function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f};var gf=/^(none|table(?!-c[ea]).+)/,ne=new RegExp("^("+ct+")(.*)$","i"),te=new RegExp("^([+-])=("+ct+")","i"),ie={position:"absolute",visibility:"hidden",display:"block"},kr={letterSpacing:"0",fontWeight:"400"},dr=["Webkit","O","Moz","ms"];i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=it(n,"opacity");return i===""?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(n,t,r,u){if(n&&n.nodeType!==3&&n.nodeType!==8&&n.style){var o,h,e,s=i.camelCase(t),c=n.style;if(t=i.cssProps[s]||(i.cssProps[s]=gr(c,s)),e=i.cssHooks[t]||i.cssHooks[s],r!==undefined){if(h=typeof r,h==="string"&&(o=te.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(i.css(n,t)),h="number"),r==null||r!==r)return;h!=="number"||i.cssNumber[s]||(r+="px");f.clearCloneStyle||r!==""||t.indexOf("background")!==0||(c[t]="inherit");e&&"set"in e&&(r=e.set(n,r,u))===undefined||(c[t]=r)}else return e&&"get"in e&&(o=e.get(n,!1,u))!==undefined?o:c[t]}},css:function(n,t,r,u){var f,s,e,o=i.camelCase(t);return(t=i.cssProps[o]||(i.cssProps[o]=gr(n.style,o)),e=i.cssHooks[t]||i.cssHooks[o],e&&"get"in e&&(f=e.get(n,!0,r)),f===undefined&&(f=it(n,t,u)),f==="normal"&&t in kr&&(f=kr[t]),r===""||r)?(s=parseFloat(f),r===!0||i.isNumeric(s)?s||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return gf.test(i.css(n,"display"))&&n.offsetWidth===0?i.swap(n,ie,function(){return iu(n,t,u)}):iu(n,t,u)},set:function(n,r,u){var f=u&&vt(n);return nu(n,r,u?tu(n,t,u,i.css(n,"boxSizing",!1,f)==="border-box",f):0)}}});i.cssHooks.marginRight=br(f.reliableMarginRight,function(n,t){if(t)return i.swap(n,{display:"inline-block"},it,[n,"marginRight"])});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u=typeof i=="string"?i.split(" "):[i];r<4;r++)f[n+p[r]+t]=u[r]||u[r-2]||u[0];return f}};wr.test(n)||(i.cssHooks[n+t].set=nu)});i.fn.extend({css:function(n,t){return l(this,function(n,t,r){var f,e,o={},u=0;if(i.isArray(t)){for(f=vt(n),e=t.length;u<e;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return r!==undefined?i.style(n,t,r):i.css(n,t)},n,t,arguments.length>1)},show:function(){return ru(this,!0)},hide:function(){return ru(this)},toggle:function(n){return typeof n=="boolean"?n?this.show():this.hide():this.each(function(){tt(this)?i(this).show():i(this).hide()})}});i.Tween=s;s.prototype={constructor:s,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||"swing";this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=s.propHooks[this.prop];return n&&n.get?n.get(this):s.propHooks._default.get(this)},run:function(n){var t,r=s.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):s.propHooks._default.set(this),this}};s.prototype.init.prototype=s.prototype;s.propHooks={_default:{get:function(n){var t;return n.elem[n.prop]!=null&&(!n.elem.style||n.elem.style[n.prop]==null)?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""),!t||t==="auto"?0:t)},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):n.elem.style&&(n.elem.style[i.cssProps[n.prop]]!=null||i.cssHooks[n.prop])?i.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}};s.propHooks.scrollTop=s.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2}};i.fx=s.prototype.init;i.fx.step={};var d,yt,re=/^(?:toggle|show|hide)$/,uu=new RegExp("^(?:([+-])=|)("+ct+")([a-z%]*)$","i"),ue=/queueHooks$/,pt=[fe],rt={"*":[function(n,t){var f=this.createTween(n,t),s=f.cur(),u=uu.exec(t),e=u&&u[3]||(i.cssNumber[n]?"":"px"),r=(i.cssNumber[n]||e!=="px"&&+s)&&uu.exec(i.css(f.elem,n)),o=1,h=20;if(r&&r[3]!==e){e=e||r[3];u=u||[];r=+s||1;do o=o||".5",r=r/o,i.style(f.elem,n,r+e);while(o!==(o=f.cur()/s)&&o!==1&&--h)}return u&&(r=f.start=+r||+s||0,f.unit=e,f.end=u[1]?r+(u[1]+1)*u[2]:+u[2]),f}]};i.Animation=i.extend(ou,{tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.split(" ");for(var r,u=0,f=n.length;u<f;u++)r=n[u],rt[r]=rt[r]||[],rt[r].unshift(t)},prefilter:function(n,t){t?pt.unshift(n):pt.push(n)}});i.speed=function(n,t,r){var u=n&&typeof n=="object"?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:typeof u.duration=="number"?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,(u.queue==null||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(){i.isFunction(u.old)&&u.old.call(this);u.queue&&i.dequeue(this,u.queue)},u};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(tt).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=ou(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||o.queue===!1?this.each(e):this.queue(o.queue,e)},stop:function(n,t,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return typeof n!="string"&&(u=t,t=n,n=undefined),t&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var s=!0,t=n!=null&&n+"queueHooks",o=i.timers,e=r.get(this);if(t)e[t]&&e[t].stop&&f(e[t]);else for(t in e)e[t]&&e[t].stop&&ue.test(t)&&f(e[t]);for(t=o.length;t--;)o[t].elem===this&&(n==null||o[t].queue===n)&&(o[t].anim.stop(u),s=!1,o.splice(t,1));(s||!u)&&i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;t<s;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return n==null||typeof n=="boolean"?r.apply(this,arguments):this.animate(wt(t,!0),n,i,u)}});i.each({slideDown:wt("show"),slideUp:wt("hide"),slideToggle:wt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=0,t=i.timers;for(d=i.now();n<t.length;n++)r=t[n],r()||t[n]!==r||t.splice(n--,1);t.length||i.fx.stop();d=undefined};i.fx.timer=function(n){i.timers.push(n);n()?i.fx.start():i.timers.pop()};i.fx.interval=13;i.fx.start=function(){yt||(yt=setInterval(i.fx.tick,i.fx.interval))};i.fx.stop=function(){clearInterval(yt);yt=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(n,t){return n=i.fx?i.fx.speeds[n]||n:n,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,n);i.stop=function(){clearTimeout(r)}})},function(){var n=u.createElement("input"),t=u.createElement("select"),i=t.appendChild(u.createElement("option"));n.type="checkbox";f.checkOn=n.value!=="";f.optSelected=i.selected;t.disabled=!0;f.optDisabled=!i.disabled;n=u.createElement("input");n.value="t";n.type="radio";f.radioValue=n.value==="t"}();g=i.expr.attrHandle;i.fn.extend({attr:function(n,t){return l(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var u,f,e=n.nodeType;if(n&&e!==3&&e!==8&&e!==2){if(typeof n.getAttribute===b)return i.prop(n,t,r);if(e===1&&i.isXMLDoc(n)||(t=t.toLowerCase(),u=i.attrHooks[t]||(i.expr.match.bool.test(t)?su:oe)),r!==undefined)if(r===null)i.removeAttr(n,t);else return u&&"set"in u&&(f=u.set(n,r,t))!==undefined?f:(n.setAttribute(t,r+""),r);else return u&&"get"in u&&(f=u.get(n,t))!==null?f:(f=i.find.attr(n,t),f==null?undefined:f)}},removeAttr:function(n,t){var r,u,e=0,f=t&&t.match(c);if(f&&n.nodeType===1)while(r=f[e++])u=i.propFix[r]||r,i.expr.match.bool.test(r)&&(n[u]=!1),n.removeAttribute(r)},attrHooks:{type:{set:function(n,t){if(!f.radioValue&&t==="radio"&&i.nodeName(n,"input")){var r=n.value;return n.setAttribute("type",t),r&&(n.value=r),t}}}}});su={set:function(n,t,r){return t===!1?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=g[t]||i.find.attr;g[t]=function(n,t,i){var u,f;return i||(f=g[t],g[t]=u,u=r(n,t,i)!=null?t.toLowerCase():null,g[t]=f),u}});hu=/^(?:input|select|textarea|button)$/i;i.fn.extend({prop:function(n,t){return l(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return this.each(function(){delete this[i.propFix[n]||n]})}});i.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(n,t,r){var f,u,o,e=n.nodeType;if(n&&e!==3&&e!==8&&e!==2)return o=e!==1||!i.isXMLDoc(n),o&&(t=i.propFix[t]||t,u=i.propHooks[t]),r!==undefined?u&&"set"in u&&(f=u.set(n,r,t))!==undefined?f:n[t]=r:u&&"get"in u&&(f=u.get(n,t))!==null?f:n[t]},propHooks:{tabIndex:{get:function(n){return n.hasAttribute("tabindex")||hu.test(n.nodeName)||n.href?n.tabIndex:-1}}}});f.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});bt=/[\t\r\n\f]/g;i.fn.extend({addClass:function(n){var o,t,r,u,s,f,h=typeof n=="string"&&n,e=0,l=this.length;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,this.className))});if(h)for(o=(n||"").match(c)||[];e<l;e++)if(t=this[e],r=t.nodeType===1&&(t.className?(" "+t.className+" ").replace(bt," "):" "),r){for(s=0;u=o[s++];)r.indexOf(" "+u+" ")<0&&(r+=u+" ");f=i.trim(r);t.className!==f&&(t.className=f)}return this},removeClass:function(n){var o,t,r,u,s,f,h=arguments.length===0||typeof n=="string"&&n,e=0,l=this.length;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,this.className))});if(h)for(o=(n||"").match(c)||[];e<l;e++)if(t=this[e],r=t.nodeType===1&&(t.className?(" "+t.className+" ").replace(bt," "):""),r){for(s=0;u=o[s++];)while(r.indexOf(" "+u+" ")>=0)r=r.replace(" "+u+" "," ");f=n?i.trim(r):"";t.className!==f&&(t.className=f)}return this},toggleClass:function(n,t){var u=typeof n;return typeof t=="boolean"&&u==="string"?t?this.addClass(n):this.removeClass(n):i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,this.className,t),t)}):this.each(function(){if(u==="string")for(var t,e=0,f=i(this),o=n.match(c)||[];t=o[e++];)f.hasClass(t)?f.removeClass(t):f.addClass(t);else(u===b||u==="boolean")&&(this.className&&r.set(this,"__className__",this.className),this.className=this.className||n===!1?"":r.get(this,"__className__")||"")})},hasClass:function(n){for(var i=" "+n+" ",t=0,r=this.length;t<r;t++)if(this[t].nodeType===1&&(" "+this[t].className+" ").replace(bt," ").indexOf(i)>=0)return!0;return!1}});cu=/\r/g;i.fn.extend({val:function(n){var t,r,f,u=this[0];return arguments.length?(f=i.isFunction(n),this.each(function(r){var u;this.nodeType===1&&(u=f?n.call(this,r,i(this).val()):n,u==null?u="":typeof u=="number"?u+="":i.isArray(u)&&(u=i.map(u,function(n){return n==null?"":n+""})),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&t.set(this,u,"value")!==undefined||(this.value=u))})):u?(t=i.valHooks[u.type]||i.valHooks[u.nodeName.toLowerCase()],t&&"get"in t&&(r=t.get(u,"value"))!==undefined)?r:(r=u.value,typeof r=="string"?r.replace(cu,""):r==null?"":r):void 0}});i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return t!=null?t:i.trim(i.text(n))}},select:{get:function(n){for(var o,t,s=n.options,r=n.selectedIndex,u=n.type==="select-one"||r<0,h=u?null:[],c=u?r+1:s.length,e=r<0?c:u?r:0;e<c;e++)if(t=s[e],(t.selected||e===r)&&(f.optDisabled?!t.disabled:t.getAttribute("disabled")===null)&&(!t.parentNode.disabled||!i.nodeName(t.parentNode,"optgroup"))){if(o=i(t).val(),u)return o;h.push(o)}return h},set:function(n,t){for(var u,r,f=n.options,e=i.makeArray(t),o=f.length;o--;)r=f[o],(r.selected=i.inArray(r.value,e)>=0)&&(u=!0);return u||(n.selectedIndex=-1),e}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(i.isArray(t))return n.checked=i.inArray(i(n).val(),t)>=0}};f.checkOn||(i.valHooks[this].get=function(n){return n.getAttribute("value")===null?"on":n.value})});i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}});i.fn.extend({hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)},bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return arguments.length===1?this.off(n,"**"):this.off(t,n||"**",i)}});kt=i.now();dt=/\?/;i.parseJSON=function(n){return JSON.parse(n+"")};i.parseXML=function(n){var t,r;if(!n||typeof n!="string")return null;try{r=new DOMParser;t=r.parseFromString(n,"text/xml")}catch(u){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&i.error("Invalid XML: "+n),t};var se=/#.*$/,lu=/([?&])_=[^&]*/,he=/^(.*?):[ \t]*([^\r\n]*)$/mg,ce=/^(?:GET|HEAD)$/,le=/^\/\//,au=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,vu={},ci={},yu="*/".concat("*"),li=n.location.href,nt=au.exec(li.toLowerCase())||[];i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:li,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(nt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":yu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?ai(ai(n,i.ajaxSettings),t):ai(i.ajaxSettings,n)},ajaxPrefilter:pu(vu),ajaxTransport:pu(ci),ajax:function(n,t){function p(n,t,h,c){var v,it,tt,p,nt,l=t;e!==2&&(e=2,b&&clearTimeout(b),s=undefined,w=c||"",u.readyState=n>0?4:0,v=n>=200&&n<300||n===304,h&&(p=ae(r,u,h)),p=ve(r,p,u,v),v?(r.ifModified&&(nt=u.getResponseHeader("Last-Modified"),nt&&(i.lastModified[f]=nt),nt=u.getResponseHeader("etag"),nt&&(i.etag[f]=nt)),n===204||r.type==="HEAD"?l="nocontent":n===304?l="notmodified":(l=p.state,it=p.data,tt=p.error,v=!tt)):(tt=l,(n||!l)&&(l="error",n<0&&(n=0))),u.status=n,u.statusText=(t||l)+"",v?d.resolveWith(o,[it,l,u]):d.rejectWith(o,[u,l,tt]),u.statusCode(y),y=undefined,a&&k.trigger(v?"ajaxSuccess":"ajaxError",[u,r,v?it:tt]),g.fireWith(o,[u,l]),a&&(k.trigger("ajaxComplete",[u,r]),--i.active||i.event.trigger("ajaxStop")))}typeof n=="object"&&(t=n,n=undefined);t=t||{};var s,f,w,v,b,h,a,l,r=i.ajaxSetup({},t),o=r.context||r,k=r.context&&(o.nodeType||o.jquery)?i(o):i.event,d=i.Deferred(),g=i.Callbacks("once memory"),y=r.statusCode||{},tt={},it={},e=0,rt="canceled",u={readyState:0,getResponseHeader:function(n){var t;if(e===2){if(!v)for(v={};t=he.exec(w);)v[t[1].toLowerCase()]=t[2];t=v[n.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return e===2?w:null},setRequestHeader:function(n,t){var i=n.toLowerCase();return e||(n=it[i]=it[i]||n,tt[n]=t),this},overrideMimeType:function(n){return e||(r.mimeType=n),this},statusCode:function(n){var t;if(n)if(e<2)for(t in n)y[t]=[y[t],n[t]];else u.always(n[u.status]);return this},abort:function(n){var t=n||rt;return s&&s.abort(t),p(0,t),this}};if(d.promise(u).complete=g.add,u.success=u.done,u.error=u.fail,r.url=((n||r.url||li)+"").replace(se,"").replace(le,nt[1]+"//"),r.type=t.method||t.type||r.method||r.type,r.dataTypes=i.trim(r.dataType||"*").toLowerCase().match(c)||[""],r.crossDomain==null&&(h=au.exec(r.url.toLowerCase()),r.crossDomain=!!(h&&(h[1]!==nt[1]||h[2]!==nt[2]||(h[3]||(h[1]==="http:"?"80":"443"))!==(nt[3]||(nt[1]==="http:"?"80":"443"))))),r.data&&r.processData&&typeof r.data!="string"&&(r.data=i.param(r.data,r.traditional)),wu(vu,r,t,u),e===2)return u;a=i.event&&r.global;a&&i.active++==0&&i.event.trigger("ajaxStart");r.type=r.type.toUpperCase();r.hasContent=!ce.test(r.type);f=r.url;r.hasContent||(r.data&&(f=r.url+=(dt.test(f)?"&":"?")+r.data,delete r.data),r.cache===!1&&(r.url=lu.test(f)?f.replace(lu,"$1_="+kt++):f+(dt.test(f)?"&":"?")+"_="+kt++));r.ifModified&&(i.lastModified[f]&&u.setRequestHeader("If-Modified-Since",i.lastModified[f]),i.etag[f]&&u.setRequestHeader("If-None-Match",i.etag[f]));(r.data&&r.hasContent&&r.contentType!==!1||t.contentType)&&u.setRequestHeader("Content-Type",r.contentType);u.setRequestHeader("Accept",r.dataTypes[0]&&r.accepts[r.dataTypes[0]]?r.accepts[r.dataTypes[0]]+(r.dataTypes[0]!=="*"?", "+yu+"; q=0.01":""):r.accepts["*"]);for(l in r.headers)u.setRequestHeader(l,r.headers[l]);if(r.beforeSend&&(r.beforeSend.call(o,u,r)===!1||e===2))return u.abort();rt="abort";for(l in{success:1,error:1,complete:1})u[l](r[l]);if(s=wu(ci,r,t,u),s){u.readyState=1;a&&k.trigger("ajaxSend",[u,r]);r.async&&r.timeout>0&&(b=setTimeout(function(){u.abort("timeout")},r.timeout));try{e=1;s.send(tt,p)}catch(ut){if(e<2)p(-1,ut);else throw ut;}}else p(-1,"No Transport");return u},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,undefined,t,"script")}});i.each(["get","post"],function(n,t){i[t]=function(n,r,u,f){return i.isFunction(r)&&(f=f||u,u=r,r=undefined),i.ajax({url:n,type:t,dataType:f,data:r,success:u})}});i._evalUrl=function(n){return i.ajax({url:n,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})};i.fn.extend({wrapAll:function(n){var t;return i.isFunction(n)?this.each(function(t){i(this).wrapAll(n.call(this,t))}):(this[0]&&(t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this)},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()}});i.expr.filters.hidden=function(n){return n.offsetWidth<=0&&n.offsetHeight<=0};i.expr.filters.visible=function(n){return!i.expr.filters.hidden(n)};var ye=/%20/g,pe=/\[\]$/,bu=/\r?\n/g,we=/^(?:submit|button|image|reset|file)$/i,be=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,u=[],f=function(n,t){t=i.isFunction(t)?t():t==null?"":t;u[u.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)};if(t===undefined&&(t=i.ajaxSettings&&i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){f(this.name,this.value)});else for(r in n)vi(r,n[r],t,f);return u.join("&").replace(ye,"+")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&be.test(this.nodeName)&&!we.test(n)&&(this.checked||!er.test(n))}).map(function(n,t){var r=i(this).val();return r==null?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(bu,"\r\n")}}):{name:t.name,value:r.replace(bu,"\r\n")}}).get()}});i.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(n){}};var ke=0,gt={},de={0:200,1223:204},ut=i.ajaxSettings.xhr();return n.attachEvent&&n.attachEvent("onunload",function(){for(var n in gt)gt[n]()}),f.cors=!!ut&&"withCredentials"in ut,f.ajax=ut=!!ut,i.ajaxTransport(function(n){var t;if(f.cors||ut&&!n.crossDomain)return{send:function(i,r){var f,u=n.xhr(),e=++ke;if(u.open(n.type,n.url,n.async,n.username,n.password),n.xhrFields)for(f in n.xhrFields)u[f]=n.xhrFields[f];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType);n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(f in i)u.setRequestHeader(f,i[f]);t=function(n){return function(){t&&(delete gt[e],t=u.onload=u.onerror=null,n==="abort"?u.abort():n==="error"?r(u.status,u.statusText):r(de[u.status]||u.status,u.statusText,typeof u.responseText=="string"?{text:u.responseText}:undefined,u.getAllResponseHeaders()))}};u.onload=t();u.onerror=t("error");t=gt[e]=t("abort");try{u.send(n.hasContent&&n.data||null)}catch(o){if(t)throw o;}},abort:function(){t&&t()}}}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){n.cache===undefined&&(n.cache=!1);n.crossDomain&&(n.type="GET")}),i.ajaxTransport("script",function(n){if(n.crossDomain){var r,t;return{send:function(f,e){r=i("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e(n.type==="error"?404:200,n.type)});u.head.appendChild(r[0])},abort:function(){t&&t()}}}}),yi=[],ni=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=yi.pop()||i.expando+"_"+kt++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,u){var f,o,e,s=t.jsonp!==!1&&(ni.test(t.url)?"url":typeof t.data=="string"&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ni.test(t.data)&&"data");if(s||t.dataTypes[0]==="jsonp")return f=t.jsonpCallback=i.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ni,"$1"+f):t.jsonp!==!1&&(t.url+=(dt.test(t.url)?"&":"?")+t.jsonp+"="+f),t.converters["script json"]=function(){return e||i.error(f+" was not called"),e[0]},t.dataTypes[0]="json",o=n[f],n[f]=function(){e=arguments},u.always(function(){n[f]=o;t[f]&&(t.jsonpCallback=r.jsonpCallback,yi.push(f));e&&i.isFunction(o)&&o(e[0]);e=o=undefined}),"script"}),i.parseHTML=function(n,t,r){if(!n||typeof n!="string")return null;typeof t=="boolean"&&(r=t,t=!1);t=t||u;var f=gi.exec(n),e=!r&&[];return f?[t.createElement(f[1])]:(f=i.buildFragment([n],t,e),e&&e.length&&i(e).remove(),i.merge([],f.childNodes))},pi=i.fn.load,i.fn.load=function(n,t,r){if(typeof n!="string"&&pi)return pi.apply(this,arguments);var u,o,s,f=this,e=n.indexOf(" ");return e>=0&&(u=i.trim(n.slice(e)),n=n.slice(0,e)),i.isFunction(t)?(r=t,t=undefined):t&&typeof t=="object"&&(o="POST"),f.length>0&&i.ajax({url:n,type:o,dataType:"html",data:t}).done(function(n){s=arguments;f.html(u?i("<div>").append(i.parseHTML(n)).find(u):n)}).complete(r&&function(n,t){f.each(r,s||[n.responseText,t,n])}),this},i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}}),i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},wi=n.document.documentElement,i.offset={setOffset:function(n,t,r){var e,o,s,h,u,c,v,l=i.css(n,"position"),a=i(n),f={};l==="static"&&(n.style.position="relative");u=a.offset();s=i.css(n,"top");c=i.css(n,"left");v=(l==="absolute"||l==="fixed")&&(s+c).indexOf("auto")>-1;v?(e=a.position(),h=e.top,o=e.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);i.isFunction(t)&&(t=t.call(n,r,u));t.top!=null&&(f.top=t.top-u.top+h);t.left!=null&&(f.left=t.left-u.left+o);"using"in t?t.using.call(n,f):a.css(f)}},i.fn.extend({offset:function(n){if(arguments.length)return n===undefined?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r,f,t=this[0],u={top:0,left:0},e=t&&t.ownerDocument;if(e)return(r=e.documentElement,!i.contains(r,t))?u:(typeof t.getBoundingClientRect!==b&&(u=t.getBoundingClientRect()),f=ku(e),{top:u.top+f.pageYOffset-r.clientTop,left:u.left+f.pageXOffset-r.clientLeft})},position:function(){if(this[0]){var n,r,u=this[0],t={top:0,left:0};return i.css(u,"position")==="fixed"?r=u.getBoundingClientRect():(n=this.offsetParent(),r=this.offset(),i.nodeName(n[0],"html")||(t=n.offset()),t.top+=i.css(n[0],"borderTopWidth",!0),t.left+=i.css(n[0],"borderLeftWidth",!0)),{top:r.top-t.top-i.css(u,"marginTop",!0),left:r.left-t.left-i.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent||wi;n&&!i.nodeName(n,"html")&&i.css(n,"position")==="static";)n=n.offsetParent;return n||wi})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var u="pageYOffset"===r;i.fn[t]=function(i){return l(this,function(t,i,f){var e=ku(t);if(f===undefined)return e?e[r]:t[i];e?e.scrollTo(u?n.pageXOffset:f,u?f:n.pageYOffset):t[i]=f},t,i,arguments.length,null)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=br(f.pixelPosition,function(n,r){if(r)return r=it(n,t),hi.test(r)?i(n).position()[t]+"px":r})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(u,f){var e=arguments.length&&(r||typeof u!="boolean"),o=r||(u===!0||f===!0?"margin":"border");return l(this,function(t,r,u){var f;return i.isWindow(t)?t.document.documentElement["client"+n]:t.nodeType===9?(f=t.documentElement,Math.max(t.body["scroll"+n],f["scroll"+n],t.body["offset"+n],f["offset"+n],f["client"+n])):u===undefined?i.css(t,r,o):i.style(t,r,u,o)},t,e?u:undefined,e,null)}})}),i.fn.size=function(){return this.length},i.fn.andSelf=i.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return i}),du=n.jQuery,gu=n.$,i.noConflict=function(t){return n.$===i&&(n.$=gu),t&&n.jQuery===i&&(n.jQuery=du),i},typeof t===b&&(n.jQuery=n.$=i),i});
(function(){"use strict";function yf(n,t,i){var r=i||vi(n);return r==="[object "+t+"]"}function rr(n){var t=n==="Array"&&f.isArray||function(t,i){return yf(t,n,i)};return eu[n]=t,t}function ou(n,t){var i=function(i){return nt(i)?yf(i,t):typeof i===n};return eu[t]=i,i}function vi(n){return fu.call(n)}function ps(){su(o);k(et,function(n,t){su(ir[t])})}function su(n){n.SugarMethods||(ni(n,"SugarMethods",{}),t(n,!1,!0,{extend:function(i,r,u){t(n,u!==!1,r,i)},sugarRestore:function(){return pf(this,n,arguments,function(n,t,i){ni(n,t,i.method)})},sugarRevert:function(){return pf(this,n,arguments,function(n,t,i){i.existed?ni(n,t,i.original):delete n[t]})}}))}function t(n,t,i,r){var u=t?n.prototype:n;su(n);k(r,function(r,f){var e=u[r],o=ut(u,r);y(i)&&e&&(f=ws(e,f,i));i===!1&&e||ni(u,r,f);n.SugarMethods[r]={method:f,existed:o,original:e,instance:t}})}function st(n,i,r,u,f){var e={};u=c(u)?u.split(","):u;u.forEach(function(n,t){f(e,n,t)});t(n,i,r,e)}function pf(n,t,i,r){var f=i.length===0,e=l(i),u=!1;return k(t.SugarMethods,function(t,i){(f||e.indexOf(t)!==-1)&&(u=!0,r(i.instance?n.prototype:n,t,i))}),u}function ws(n,t,i){return function(){return i.apply(this,arguments)?t.apply(this,arguments):n.apply(this,arguments)}}function ni(n,t,i){vf?o.defineProperty(n,t,{value:i,configurable:!0,enumerable:!1,writable:!0}):n[t]=i}function l(n,t,i){for(var u=[],r=i||0,f=n.length;r<f;r++)u.push(n[r]),t&&t.call(n,n[r],r);return u}function ur(n,t,i){var r=n[i||0];return it(r)&&(n=r,i=0),l(n,t,i)}function yi(n){if(!n||!n.call)throw new TypeError("Callback is not callable");}function rt(n){return n!==uu}function e(n){return n===uu}function wf(n,t){return!hu(n)&&t in n}function ut(n,t){return!!n&&cs.call(n,t)}function nt(n){return!!n&&(typeof n=="object"||ls&&g(n))}function hu(n){var t=typeof n;return n==null||t==="string"||t==="number"||t==="boolean"}function ei(n,t){t=t||vi(n);try{if(n&&n.constructor&&!ut(n,"constructor")&&!ut(n.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}return!!n&&t==="[object Object]"&&"hasOwnProperty"in n}function k(n,t){for(var i in n)if(ut(n,i)&&t.call(n,i,n[i],n)===!1)break}function fr(n,t){for(var i=0;i<n;i++)t(i)}function pi(n,t){return k(t,function(i){n[i]=t[i]}),n}function bf(n){return hu(n)&&(n=o(n)),as&&c(n)&&bs(n),n}function bs(n){for(var t=0,i;i=n.charAt(t);)n[t++]=i}function ht(n){pi(this,bf(n))}function or(n,t,i){var r=er(10,ct(t||0));return i=i||yt,t<0&&(r=1/r),i(n*r)/r}function ie(n){return n>=kf&&n<=ks||n>=df&&n<=ds}function gs(){for(var t,n=0;n<=9;n++)t=pt(n+df),lu+=t,oi[t]=pt(n+kf);oi[ne]="";oi[gf]=wi;oi[wi]=wi;te=u("["+lu+gf+ne+wi+"]","g")}function pt(n){return s.fromCharCode(n)}function sr(){return"\t\n\x0b\f\r \u2028\u2029"}function hr(n,t){for(var i="",n=n.toString();t>0;)t&1&&(i+=n),(t>>=1)&&(n+=n);return i}function au(n,t){var i,r;return i=n.replace(te,function(n){var t=oi[n];return t===wi&&(r=!0),t}),r?parseFloat(i):parseInt(i,t||10)}function p(n,t,i,r){var u=ct(n).toString(r||10);return u=hr("0",t-u.replace(/\.\d+/,"").length)+u,(i||n<0)&&(u=(n<0?"-":"+")+u),u}function re(n){if(n>=11&&n<=13)return"th";switch(n%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function bi(n,t){function i(n,i){(n||t.indexOf(i)>-1)&&(r+=i)}var r="";return t=t||"",i(n.multiline,"m"),i(n.ignoreCase,"i"),i(n.global,"g"),i(n.sticky,"y"),r}function wt(n){return c(n)||(n=s(n)),n.replace(/([\\/\'*+?|()\[\]{}.^$])/g,"\\$1")}function i(n,t){return n["get"+(n._utc?"UTC":"")+t]()}function si(n,t,i){return n["set"+(n._utc&&t!="ISOWeek"?"UTC":"")+t](i)}function ki(n,t){var c=typeof n,l,r,u,f,e,h,i,a;if(c==="string")return n;if(u=fu.call(n),l=ei(n,u),r=it(n,u),n!=null&&l||r){if(t||(t=[]),t.length>1)for(i=t.length;i--;)if(t[i]===n)return"CYC";for(t.push(n),f=n.valueOf()+s(n.constructor),e=r?n:o.keys(n).sort(),i=0,a=e.length;i<a;i++)h=r?i:e[i],f+=h+ki(n[h],t);t.pop()}else f=1/n==-Infinity?"-0":s(n&&n.valueOf?n.valueOf():n);return c+u+f}function ue(n,t){return n===t?n!==0||1/n==1/t:cr(n)&&cr(t)?ki(n)===ki(t):!1}function cr(n){var t=vi(n);return vs.test(t)||ei(n,t)}function fe(n,t,i){var r,f=n.length,e=t.length,u=t[e-1]!==!1,o=e>(u?1:2);return o?(r=[],l(t,function(t){if(ys(t))return!1;r.push(ee(n,f,t,u,i))}),r):ee(n,f,t[0],u,i)}function ee(n,t,i,r,u){return r&&(i=i%t,i<0&&(i=t+i)),u?n.charAt(i):n[i]}function lr(n,t){st(t,!0,!1,n,function(n,t){n[t+(t==="equal"?"s":"")]=function(){return o[t].apply(null,[this].concat(l(arguments)))}})}function oe(n,t,i,r){var e=n.length,f=r==-1,o=f?e-1:0,u=nh(i,o);for(u<0&&(u=e+u),(!f&&u<0||f&&u>=e)&&(u=o);f&&u>=0||!f&&u<e;){if(n[u]===t)return u;u+=r}return-1}function se(n,t,i,r){var e=n.length,u=0,s=rt(i),f,o;if(yi(t),e!=0||s)s?f=i:(f=n[r?e-1:u],u++);else throw new TypeError("Reduce called on empty array with no initial value");while(u<e)o=r?e-u-1:u,o in n&&(f=t(f,n[o],o,n)),u++;return f}function nh(n,t){return isNaN(n)?t:parseInt(n>>0)}function ar(n){if(n.length===0)throw new TypeError("First argument must be defined");}function th(){var n=sr().match(/^\s+$/);try{s.prototype.trim.call([1])}catch(i){n=!1}t(s,!0,!n,{trim:function(){return this.toString().trimLeft().trimRight()},trimLeft:function(){return this.replace(u("^["+sr()+"]+"),"")},trimRight:function(){return this.replace(u("["+sr()+"]+$"),"")}})}function ih(){var n=new r(r.UTC(1999,11,31)),t=n.toISOString&&n.toISOString()==="1999-12-31T00:00:00.000Z";st(r,!0,!t,"toISOString,toJSON",function(n,t){n[t]=function(){return p(this.getUTCFullYear(),4)+"-"+p(this.getUTCMonth()+1,2)+"-"+p(this.getUTCDate(),2)+"T"+p(this.getUTCHours(),2)+":"+p(this.getUTCMinutes(),2)+":"+p(this.getUTCSeconds(),2)+"."+p(this.getUTCMilliseconds(),3)+"Z"}})}function rh(n){return n=u(n),function(t){return n.test(t)}}function uh(n){var t=n.getTime();return function(n){return!!(n&&n.getTime)&&n.getTime()===t}}function fh(n){return function(t,i,r){return t===n||n.call(this,t,i,r)}}function eh(n){return function(t,i,r){return t===n||n.call(r,i,t,r)}}function oh(n,t){var i={};return function(r,u,f){var e;if(!nt(r))return!1;for(e in n)if(i[e]=i[e]||hi(n[e],t),i[e].call(f,r[e],u,f)===!1)return!1;return!0}}function sh(n){return function(t){return t===n||ue(t,n)}}function hi(n,t){if(!hu(n)){if(g(n))return rh(n);if(ot(n))return uh(n);if(y(n))return t?eh(n):fh(n);if(ei(n))return oh(n,t)}return sh(n)}function bt(n,t,i,r){return t?t.apply?t.apply(i,r||[]):y(n[t])?n[t].call(n):n[t]:n}function at(n,t,i,r){var f,u,e=+n.length;for(i<0&&(i=n.length+i),u=isNaN(i)?0:i,r===!0&&(e+=u);u<e;){if(f=u%n.length,f in n){if(t.call(n,n[f],f,n)===!1)break}else return hh(n,t,u,r);u++}}function hh(n,t,i){var u=[];for(var r in n)ch(n,r)&&r>=i&&u.push(parseInt(r));return u.sort().each(function(i){return t.call(n,n[i],i,n)}),n}function ch(n,t){return t in n&&lh(t)==t&&t!=4294967295}function lh(n){return n>>>0}function vr(n,t,i,r,u,f){var e,o,s;return n.length>0&&(s=hi(t),at(n,function(t,i){if(s.call(f,t,i,n))return e=t,o=i,!1},i,r)),u?o:e}function he(n,t){var i=[],u={},r;return at(n,function(f,e){r=t?bt(f,t,n,[f,e,n]):f;ae(u,r)||i.push(f)}),i}function ce(n,t,i){var u=[],r={};return t.each(function(n){ae(r,n)}),n.each(function(n){var t=ki(n),f=!cr(n);le(r,t,n,f)!==i&&(yh(r,t,n,f),u.push(n))}),u}function vu(n,t,i){t=t||Infinity;i=i||0;var r=[];return at(n,function(n){it(n)&&i<t?r=r.concat(vu(n,t,i+1)):r.push(n)}),r}function ah(n){return wf(n,"length")&&!c(n)&&!ei(n)}function vh(n){return wf(n,"length")&&(vi(n)==="[object Arguments]"||!!n.callee)}function yu(n){var t=[];return l(n,function(n){t=t.concat(n)}),t}function le(n,t,i,r){var u=t in n;return r&&(n[t]||(n[t]=[]),u=n[t].indexOf(i)!==-1),u}function ae(n,t){var i=ki(t),r=!cr(t),u=le(n,i,t,r);return r?n[i].push(t):n[i]=t,u}function yh(n,t,i,r){var u,f=0;if(r)for(u=n[t];f<u.length;)u[f]===i?u.splice(f,1):f+=1;else delete n[t]}function yr(n,t,i,r){var s,c,h,u,o=[],a=i==="max",v=i==="min",l=f.isArray(n);for(c in n)if(n.hasOwnProperty(c)){if(s=n[c],u=bt(s,t,n,l?[s,parseInt(c),n]:[]),e(u))throw new TypeError("Cannot compare with undefined");u===h?o.push(s):(e(h)||a&&u>h||v&&u<h)&&(o=[s],h=u)}return l||(o=vu(o,1)),r?o:o[0]}function ve(n,t){var i,r,e,o,s,h,u=0,c=0,l=f[wh],a=f[ke],v=f[de],y=f[be],p=f[ge];n=ye(n,l,a);t=ye(t,l,a);do e=pe(n,u,v),o=pe(t,u,v),i=we(e,y),r=we(o,y),i===-1||r===-1?(i=n.charCodeAt(u)||null,r=t.charCodeAt(u)||null,p&&ie(i)&&ie(r)&&(i=au(n.slice(u)),r=au(t.slice(u)))):(s=e!==n.charAt(u),h=o!==t.charAt(u),s!==h&&c===0&&(c=s-h)),u+=1;while(i!=null&&r!=null&&i===r);return i===r?c:i-r}function ye(n,t,i){return c(n)||(n=s(n)),i&&(n=n.toLowerCase()),t&&(n=n.replace(t,"")),n}function pe(n,t,i){var r=n.charAt(t);return i[r]||r}function we(n,t){return n?t.indexOf(n):null}function bh(){var i=f.prototype.map,n=function(){var n=arguments;return n.length>0&&!y(n[0])};st(f,!0,n,"every,all,some,filter,any,none,find,findIndex",function(n,t){var i=f.prototype[t];n[t]=function(n){var t=hi(n);return i.call(this,function(n,i){return t(n,i,this)})}});t(f,!0,n,{map:function(n){return i.call(this,function(t,i){return bt(t,n,this,[t,i,this])})}})}function kh(){var n;f[be]="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").map(function(n){return n+n.toLowerCase()}).join("");n={};at("A,C,E,I,O,S,U".split(","),function(t){var i=t.charAt(0);at(t.slice(1).split(""),function(t){n[t]=i;n[t.toLowerCase()]=i.toLowerCase()})});f[ge]=!0;f[ke]=!0;f[de]=n}function pu(n){return o.keys(bf(n))}function no(n,t){st(o,!1,!0,n,function(n,i){n[i]=function(n,r,u){var e,s=pu(n),o;return t||(o=hi(r,!0)),e=f.prototype[i].call(s,function(i){var u=n[i];return t?bt(u,r,n,[i,u,n]):o(u,i,n)},u),it(e)&&(e=e.reduce(function(t,i){return t[i]=n[i],t},{})),e}});lr(n,ht)}function dh(){f[ph]=ve}function ho(n){pi(this,n);this.compiledFormats=du.concat()}function tt(n,t){var i;if(c(n)||(n=""),i=nf[n]||nf[n.slice(0,2)],t===!1&&!i)throw new TypeError("Invalid locale.");return i||pr}function nc(n,t){function o(n){var t=i[n];c(t)?i[n]=t.split(","):t||(i[n]=[])}function s(n,t){return n=n.split("+").map(function(n){return n.replace(/(.+):(.+)$/,function(n,t,i){return i.split("|").map(function(n){return t+n}).join("|")})}).join("|"),n.split("|").forEach(t)}function r(n,t,r){var u=[];i[n].forEach(function(n,i){t&&(n+="+"+n.slice(0,3));s(n,function(n,t){u[t*r+i]=n.toLowerCase()})});i[n]=u}function u(n,t,r){var u="\\d{"+n+","+t+"}";return r&&(u+="|(?:"+di(i.numbers)+")+"),u}function h(){var n=["-?\\d+"].concat(i.articles);return i.numbers&&(n=n.concat(i.numbers)),di(n)}function f(n,t){i[n]=i[n]||t}function l(){var n=[];i.modifiersByName={};i.modifiers.push({name:"day",src:"yesterday",value:-1});i.modifiers.push({name:"day",src:"today",value:0});i.modifiers.push({name:"day",src:"tomorrow",value:1});i.modifiers.forEach(function(t){var r=t.name;s(t.src,function(u){var f=i[r];i.modifiersByName[u]=t;n.push({name:r,src:u,value:t.value});i[r]=f?f+"|"+u:u})});i.day+="|"+di(i.weekdays);i.modifiers=n}var i,e;return i=new ho(t),o("modifiers"),"months,weekdays,units,numbers,articles,tokens,timeMarker,ampm,timeSuffixes,dateParse,timeParse".split(",").forEach(o),e=!i.monthSuffix,r("months",e,12),r("weekdays",e,7),r("units",!1,8),r("numbers",!1,10),f("code",n),f("date",u(1,2,i.digitDate)),f("year","'\\d{2}|"+u(4,4)),f("num",h()),l(),i.monthSuffix&&(i.month=u(1,2),i.months="1,2,3,4,5,6,7,8,9,10,11,12".split(",").map(function(n){return n+i.monthSuffix})),i.full_month=u(1,2)+"|"+di(i.months),i.timeSuffixes.length>0&&i.addFormat(rf(wu,i),!1,wr),i.addFormat("{day}",!0),i.addFormat("{month}"+(i.monthSuffix||"")),i.addFormat("{year}"+(i.yearSuffix||"")),i.timeParse.forEach(function(n){i.addFormat(n,!0)}),i.dateParse.forEach(function(n){i.addFormat(n)}),nf[n]=i}function kr(n,t,i,r){n.compiledFormats.unshift({variant:r,locale:n,reg:u("^"+t+"$","i"),to:i})}function ci(n){return n.slice(0,1).toUpperCase()+n.slice(1)}function di(n){return n.filter(function(n){return!!n}).join("|")}function ri(){var n=r.SugarNewDate;return n?n():new r}function dr(n,t){var i;return nt(n[0])?n:a(n[0])&&!a(n[1])?[n[0]]:c(n[0])&&t?[tc(n[0]),n[1]]:(i={},ku.forEach(function(t,r){i[t.name]=n[r]}),[i])}function tc(n,t){var i,r={};return i=n.match(/^(\d+)?\s?(\w+?)s?$/i),i&&(e(t)&&(t=parseInt(i[1])||1),r[i[2].toLowerCase()]=t),r}function li(n,t,i){var r,u;for(e(i)&&(i=br.length),r=t||0;r<i;r++)if(u=br[r],n(u.name,u,r)===!1)break}function ic(n,t){var r={},i,u;return t.forEach(function(t,f){(i=n[f+1],e(i)||i==="")||(t==="year"&&(r.yearAsString=i.replace(/'/,"")),u=parseFloat(i.replace(/'/,"").replace(/,/,".")),r[t]=isNaN(u)?i.toLowerCase():u)}),r}function rc(n){return n=n.trim().replace(/^just (?=now)|\.+$/i,""),uc(n)}function uc(n){return n.replace(so,function(n,t,i){var u=0,r=1,f,e;return t?n:(i.split("").reverse().forEach(function(n){var t=bu[n],i=t>9;i?(f&&(u+=r),r*=t/(e||1),e=t):(f===!1&&(r*=10),u+=r*t);f=i}),f&&(u+=r),u)})}function co(n,t,i,u){function it(n){b.push(n)}function ut(){b.forEach(function(n){n.call()})}function ft(){var n=e.getWeekday();e.setWeekday(7*(f.num-1)+(n>l?l+7:l))}function et(){var n=o.modifiersByName[f.edge];li(function(n){if(rt(f[n]))return s=n,!1},4);s==="year"?f.specificity="month":(s==="month"||s==="week")&&(f.specificity="day");e[(n.value<0?"endOf":"beginningOf")+ci(s)]();n.value===-2&&e.reset()}function st(){var n;li(function(t,i,r){if(t==="day"&&(t="date"),rt(f[t])){if(r>=g)return pc(e),!1;n=n||{};n[t]=f[t];delete f[t]}});n&&it(function(){e.set(n,!0)})}var e,w,y,b,o,f,s,g,l,p,h;return e=ri(),b=[],e.utc(u),ot(n)?e.utc(n.isUTC()).setTime(n.getTime()):a(n)?e.setTime(n):nt(n)?(e.set(n,!0),f=n):c(n)&&(y=tt(t),n=rc(n),y&&k(y.getFormats(),function(i,r){var u=n.match(r.reg);if(u)return(o=r.locale,f=ic(u,r.to,o),o.cachedFormat=r,f.utc&&e.utc(),f.timestamp)?(f=f.timestamp,!1):(r.variant&&!c(f.month)&&(c(f.date)||y.hasVariant(t))&&(h=f.month,f.month=f.date,f.date=h),f.year&&f.yearAsString.length===2&&(f.year=fc(f.year)),f.month&&(f.month=o.getMonth(f.month),f.shift&&!f.unit&&(f.unit=o.units[7])),f.weekday&&f.date?delete f.weekday:f.weekday&&(f.weekday=o.getWeekday(f.weekday),f.shift&&!f.unit&&(f.unit=o.units[5])),f.day&&(h=o.modifiersByName[f.day])?(f.day=h.value,e.reset(),w=!0):f.day&&(l=o.getWeekday(f.day))>-1&&(delete f.day,f.num&&f.month?(it(ft),f.day=1):f.weekday=l),f.date&&!a(f.date)&&(f.date=o.getNumericDate(f.date)),o.matchPM(f.ampm)&&f.hour<12?f.hour+=12:o.matchAM(f.ampm)&&f.hour===12&&(f.hour=0),("offset_hours"in f||"offset_minutes"in f)&&(e.utc(),f.offset_minutes=f.offset_minutes||0,f.offset_minutes+=f.offset_hours*60,f.offset_sign==="-"&&(f.offset_minutes*=-1),f.minute-=f.offset_minutes),f.unit&&(w=!0,p=o.getNumber(f.num),g=o.getUnitIndex(f.unit),s=v.units[g],st(),f.shift&&(p*=(h=o.modifiersByName[f.shift])?h.value:0),f.sign&&(h=o.modifiersByName[f.sign])&&(p*=h.value),rt(f.weekday)&&(e.set({weekday:f.weekday},!0),delete f.weekday),f[s]=(f[s]||0)+p),f.edge&&it(et),f.year_sign==="-"&&(f.year*=-1),li(function(n,t,i){var r=f[n],u=r%1;u&&(f[br[i-1].name]=yt(u*(n==="second"?1e3:60)),f[n]=d(r))},1,4),!1)}),f?w?e.advance(f):(e._utc&&e.reset(),nu(e,f,!0,!1,i)):(n!=="now"&&(e=new r(n)),u&&e.addMinutes(-e.getTimezoneOffset())),ut(),e.utc(!1)),{date:e,set:f}}function fc(n){return yt(i(ri(),"FullYear")/100)*100-yt(n/100)*100+n}function ec(n){n=n.clone();var t=i(n,"Day")||7;return n.addDays(4-t).reset(),1+d(n.daysSince(n.clone().beginningOfYear())/7)}function lo(n){var t,i=ct(n),r=i,u=0;return li(function(n,f,e){t=d(or(i/f.multiplier(),1));t>=1&&(r=t,u=e)},1),[r,u,n]}function ao(n){var t=lo(n.millisecondsFromNow());return oc(n,t)&&(t[0]=ct(n.monthsFromNow()),t[1]=6),t}function oc(n,t){return t[1]===6||t[1]===5&&t[0]===4&&n.daysFromNow()>=ri().daysInMonth()}function sc(){var n=function(n,t){var r=i(n,"Hours");return tt(t).ampm[d(r/12)]||""};ft("t",n,1);ft("tt",n);ft("T",n,1,1);ft("TT",n,null,2)}function hc(){var n=function(n,t){var r=i(n,"Day");return tt(t).weekdays[r]};ft("dow",n,3);ft("Dow",n,3,1);ft("weekday",n);ft("Weekday",n,null,1)}function cc(){gr("mon",0,3);gr("month",0);gr("month2",1);gr("month3",2)}function gr(n,t,r){var u=function(n,r){var u=i(n,"Month");return tt(r).months[u+t*12]};ft(n,u,r);ft(ci(n),u,r,1)}function ft(n,t,i,r){h[n]=function(n,u){var f=t(n,u);return i&&(f=f.slice(0,i)),r&&(f=f.slice(0,r).toUpperCase()+f.slice(r)),f}}function ui(n,t,i){h[n]=t;h[n+n]=function(n,i){return p(t(n,i),2)};i&&(h[n+n+n]=function(n,i){return p(t(n,i),3)},h[n+n+n+n]=function(n,i){return p(t(n,i),4)})}function lc(n){var t=n.match(/(\{\w+\})|[^{}]+/g);gu[n]=t.map(function(n){return n.replace(/\{(\w+)\}/,function(t,i){return n=h[i]||i,i}),n})}function ac(n,t,i){var f,e,r,u,o="";for(f=gu[t],r=0,e=f.length;r<e;r++)u=f[r],o+=y(u)?u(n,i):u;return o}function tf(n,t,i,r){var u;if(n.isValid())Date[t]?t=Date[t]:y(t)&&(u=ao(n),t=t.apply(n,u.concat(tt(r))));else return"Invalid Date";return!t&&i?(u=u||ao(n),u[1]===0&&(u[1]=1,u[0]=1),tt(r).getRelativeFormat(u)):(t=t||"long",(t==="short"||t==="long"||t==="full")&&(t=tt(r)[t]),gu[t]||lc(t),ac(n,t,r))}function vo(n,t,i,r,u){var f,s,o,e,a,h,v=0,c=0,l=0;return(f=co(t,i,null,u),r>0&&(c=l=r,a=!0),!f.date.isValid())?!1:(f.set&&f.set.specificity&&(ii.forEach(function(t){t.name===f.set.specificity&&(v=t.multiplier(f.date,n-f.date)-1)}),h=ci(f.set.specificity),(f.set.edge||f.set.shift)&&f.date["beginningOf"+h](),f.set.specificity==="month"&&(e=f.date.clone()["endOf"+h]().getTime()),!a&&f.set.sign&&f.set.specificity!="millisecond"&&(c=50,l=-50)),s=n.getTime(),o=f.date.getTime(),e=e||o+v,e=vc(n,o,e),s>=o-c&&s<=e+l)}function vc(n,t,u){var s,f,e,o;return s=new r(t),f=new r(u).utc(n.isUTC()),i(f,"Hours")!==23&&(e=s.getTimezoneOffset(),o=f.getTimezoneOffset(),e!==o&&(u+=(o-e).minutes())),u}function nu(n,t,r,u,f){function s(n){return rt(t[n])?t[n]:t[n+"s"]}function o(n){return rt(s(n))}function l(n,t){return o(n)||t&&o("weekday")}function v(){switch(f){case-1:return n>ri();case 1:return n<ri()}}var c,h;if(a(t)&&u)t={milliseconds:t};else if(a(t))return n.setTime(t),n;return rt(t.date)&&(t.day=t.date),li(function(i,u,f){var e=i==="day";if(l(i,e))return t.specificity=i,c=+f,!1;!r||i==="week"||e&&o("week")||si(n,u.method,e?1:0)}),ii.forEach(function(r,f){var c=r.name,l=r.method,a=ii[f-1],h;(h=s(c),e(h))||(u?(c==="week"&&(h=(t.day||0)+h*7,l="Date"),h=h*u+i(n,l)):c==="month"&&o("day")&&si(n,"Date",15),si(n,l,h),u&&c==="month"&&yc(n,h))}),u||o("day")||!o("weekday")||(h=s("weekday"),n.setWeekday(h)),v()&&li(function(t,i){var r=i.ambiguous||t==="week"&&o("weekday");if(r&&!l(t,t==="day"))return n[i.addMethod](f),!1},c+1),n}function rf(n,t,i){var u={h:0,m:1,s:2},r;return t=t||v,n.replace(/{([a-z])}/g,function(n,f){var e=[],o=f==="h",s=o&&!i;return f==="t"?t.ampm.join("|"):(o&&e.push(":"),(r=t.timeSuffixes[u[f]])&&e.push(r+"\\s*"),e.length===0?"":"(?:"+e.join("|")+")"+(s?"":"?"))})}function yc(n,t){t<0&&(t=t%12+12);t%12!=i(n,"Month")&&si(n,"Date",0)}function kt(n,t,i){var r,u;return a(n[1])?r=dr(n)[0]:(r=n[0],u=n[1]),co(r,u,t,i).date}function pc(n){n.setTime(NaN)}function wc(){br=ii.concat().reverse();ku=ii.concat();ku.splice(2,1)}function bc(){st(r,!0,!0,ii,function(n,t,u){function c(n){var i=n/h,r=i%1,u=t.error||.999;return r&&ct(r%1)>u&&(i=yt(i)),i<0?ti(i):d(i)}var f=t.name,e=ci(f),h=t.multiplier(),o,s;t.addMethod="add"+e+"s";o=function(n,t){return c(this.getTime()-r.create(n,t).getTime())};s=function(n,t){return c(r.create(n,t).getTime()-this.getTime())};n[f+"sAgo"]=s;n[f+"sUntil"]=s;n[f+"sSince"]=o;n[f+"sFromNow"]=o;n[t.addMethod]=function(n,t){var i={};return i[f]=n,this.advance(i,t)};ul(t,h);u<3&&["Last","This","Next"].forEach(function(t){n["is"+t+e]=function(){return vo(this,t+" "+f,"en")}});u<4&&(n["beginningOf"+e]=function(){var n={};switch(f){case"year":n.year=i(this,"FullYear");break;case"month":n.month=i(this,"Month");break;case"day":n.day=i(this,"Date");break;case"week":n.weekday=0}return this.set(n,!0)},n["endOf"+e]=function(){var n={hours:23,minutes:59,seconds:59,milliseconds:999};switch(f){case"year":n.month=11;n.day=31;break;case"month":n.day=this.daysInMonth();break;case"week":n.weekday=6}return this.set(n,!0)})})}function kc(){v.addFormat("([+-])?(\\d{4,4})[-.]?{full_month}[-.]?(\\d{1,2})?",!0,["year_sign","year","month","date"],!1,!0);v.addFormat("(\\d{1,2})[-.\\/]{full_month}(?:[-.\\/](\\d{2,4}))?",!0,["date","month","year"],!0);v.addFormat("{full_month}[-.](\\d{4,4})",!1,["month","year"]);v.addFormat("\\/Date\\((\\d+(?:[+-]\\d{4,4})?)\\)\\/",!1,["timestamp"]);v.addFormat(rf(wu,v),!1,wr);du=v.compiledFormats.slice(0,7).reverse();v.compiledFormats=v.compiledFormats.slice(7).concat(du)}function dc(){ui("f",function(n){return i(n,"Milliseconds")},!0);ui("s",function(n){return i(n,"Seconds")});ui("m",function(n){return i(n,"Minutes")});ui("h",function(n){return i(n,"Hours")%12||12});ui("H",function(n){return i(n,"Hours")});ui("d",function(n){return i(n,"Date")});ui("M",function(n){return i(n,"Month")+1});sc();hc();cc();h.ms=h.f;h.milliseconds=h.f;h.seconds=h.s;h.minutes=h.m;h.hours=h.h;h["24hr"]=h.H;h["12hr"]=h.h;h.date=h.d;h.day=h.d;h.year=h.yyyy}function gc(){st(r,!0,!0,"short,long,full",function(n,t){n[t]=function(n){return tf(this,t,!1,n)}})}function nl(){oo.split("").forEach(function(n,t){t>9&&(t=er(10,t-9));bu[n]=t});pi(bu,oi);so=u("([])?(["+oo+lu+"]+)(?!)","g")}function tl(){var n="today,yesterday,tomorrow,weekday,weekend,future,past".split(","),t=v.weekdays.slice(0,7),i=v.months.slice(0,12);st(r,!0,!0,n.concat(t).concat(i),function(n,t){n["is"+ci(t)]=function(n){return this.is(t,0,n)}})}function il(){r.utc||(r.utc={create:function(){return kt(arguments,0,!0)},past:function(){return kt(arguments,-1,!0)},future:function(){return kt(arguments,1,!0)}})}function rl(){t(r,!1,!0,{RFC1123:"{Dow}, {dd} {Mon} {yyyy} {HH}:{mm}:{ss} {tz}",RFC1036:"{Weekday}, {dd}-{Mon}-{yy} {HH}:{mm}:{ss} {tz}",ISO8601_DATE:"{yyyy}-{MM}-{dd}",ISO8601_DATETIME:"{yyyy}-{MM}-{dd}T{HH}:{mm}:{ss}.{fff}{isotz}"})}function ul(n,t){function e(){return yt(this*t)}function u(){return kt(arguments)[n.addMethod](this)}function f(){return kt(arguments)[n.addMethod](-this)}var r=n.name,i={};i[r]=e;i[r+"s"]=e;i[r+"Before"]=f;i[r+"sBefore"]=f;i[r+"Ago"]=f;i[r+"sAgo"]=f;i[r+"After"]=u;i[r+"sAfter"]=u;i[r+"FromNow"]=u;i[r+"sFromNow"]=u;w.extend(i)}function vt(n,t){this.start=uf(n);this.end=uf(t)}function yo(n){return c(n)?n.charCodeAt(0):n}function po(n){return n==null?n:ot(n)?n.getTime():n.valueOf()}function uf(n){return ot(n)?new r(n.getTime()):po(n)}function wo(n){var t=po(n);return!!t||t===0}function fl(n){var i,r,t;return a(n)?n:(i=n.toLowerCase().match(/^(\d+)?\s?(\w+?)s?$/i),r=parseInt(i[1])||1,t=i[2].slice(0,1).toUpperCase()+i[2].slice(1),t.match(/hour|minute|second/i)?t+="s":t==="Year"?t="FullYear":t==="Day"&&(t="Date"),[r,t])}function el(n,t){var e,u,o,f;return a(t)?new r(n.getTime()+t):(e=t[0],u=t[1],o=i(n,u),f=new r(n.getTime()),si(f,u,o+e),f)}function ol(n,t){return s.fromCharCode(n.charCodeAt(0)+t)}function sl(n,t){return n+t}function ai(n,t,i,r,u){t!==Infinity&&(n.timers||(n.timers=[]),a(t)||(t=1),n._canceled=!1,n.timers.push(setTimeout(function(){n._canceled||i.apply(r,u||[])},t)))}function ff(n,t,i,r,u,f){var h=n.toFixed(20),l=h.search(/\./),a=h.search(/[1-9]/),e=l-a,s,o,c;return e>0&&(e-=1),o=lt(cu(d(e/3),u===!1?i.length:u),-r),s=i.charAt(o+r-1),e<-9&&(o=-3,t=ct(e)-9,s=i.slice(0,1)),c=f?er(2,10*o):er(10,o*3),or(n/c,t||0).format()+s.trim()}function hl(){function n(n){return function(t){return t?or(this,t,n):n(this)}}t(w,!0,!0,{ceil:n(ti),round:n(yt),floor:n(d)});st(w,!0,!0,"abs,pow,sin,asin,cos,acos,tan,atan,exp,pow,sqrt",function(n,t){n[t]=function(n,i){return b[t](this,n,i)}})}function bo(n,t,i,r){var f,e,o,u;(e=t.match(/^(.+?)(\[.*\])$/))?(u=e[1],o=e[2].replace(/^\[|\]$/g,"").split("]["),o.forEach(function(t){f=!t||t.match(/^\d+$/);!u&&it(n)&&(u=n.length);ut(n,u)||(n[u]=f?[]:{});n=n[u];u=t}),!u&&f&&(u=n.length.toString()),bo(n,u,i,r)):n[t]=r&&i==="true"?!0:r&&i==="false"?!1:i}function ko(n,t){var i;return it(t)||nt(t)&&t.toString===fu?(i=[],k(t,function(t,r){n&&(t=n+"["+t+"]");i.push(ko(t,r))}),i.join("&")):n?go(n)+"="+(ot(t)?t.getTime():go(t)):""}function go(n){return!n&&n!==!1&&n!==0?"":encodeURIComponent(n).replace(/%20/g,"+")}function cl(n,t,i){return g(n)?n.test(t):nt(n)?n[t]===i:t===s(n)}function ns(n,t,i){var r,u=n instanceof ht?new ht:{};return k(n,function(n,f){r=!1;ur(t,function(t){cl(t,n,f)&&(r=!0)},1);r===i&&(u[n]=f)}),u}function ll(){st(o,!1,!0,et,function(n,t){var i="is"+t;ef.push(i);n[i]=eu[t]})}function al(){t(o,!1,function(){return arguments.length===0},{extend:function(){var n=ef.concat(of);typeof uo!="undefined"&&(n=n.concat(uo));lr(n,o)}})}function vl(n){var t=s.Inflector,n=t&&t.acronyms[n];if(c(n))return n}function tu(n){if(n=+n,n<0||n===Infinity)throw new RangeError("Invalid number");return n}function iu(n,t){return hr(rt(t)?t:" ",n)}function ts(n,t,i,r,u){var f,o,s,h;if(n.length<=t)return n.toString();r=e(r)?"...":r;switch(i){case"left":return o=u?gi(n,t,!0):n.slice(n.length-t),r+o;case"middle":return s=ti(t/2),h=d(t/2),f=u?gi(n,s):n.slice(0,s),o=u?gi(n,h,!0):n.slice(n.length-h),f+r+o;default:return f=u?gi(n,t):n.slice(0,t),f+r}}function gi(n,t,i){if(i)return gi(n.reverse(),t).reverse();var f=u("(?=["+sr()+"])"),e=n.split(f),r=0;return e.filter(function(n){return r+=n.length,r<=t}).join("")}function is(n,t,i){return c(t)&&(t=n.indexOf(t),t===-1&&(t=i?n.length:0)),t}function yl(n){if(ir.btoa){sf=ir.btoa;hf=ir.atob;return}var t=/[^A-Za-z0-9\+\/\=]/g;sf=function(t){var s="",f,i,r,h,c,e,u,o=0;do f=t.charCodeAt(o++),i=t.charCodeAt(o++),r=t.charCodeAt(o++),h=f>>2,c=(f&3)<<4|i>>4,e=(i&15)<<2|r>>6,u=r&63,isNaN(i)?e=u=64:isNaN(r)&&(u=64),s=s+n.charAt(h)+n.charAt(c)+n.charAt(e)+n.charAt(u),f=i=r="",h=c=e=u="";while(o<t.length);return s};hf=function(i){var r="",s,h,c,l,e,u,o,f=0;if(i.match(t))throw new Error("String contains invalid base64 characters");i=i.replace(/[^A-Za-z0-9\+\/\=]/g,"");do l=n.indexOf(i.charAt(f++)),e=n.indexOf(i.charAt(f++)),u=n.indexOf(i.charAt(f++)),o=n.indexOf(i.charAt(f++)),s=l<<2|e>>4,h=(e&15)<<4|u>>2,c=(u&3)<<6|o,r=r+pt(s),u!=64&&(r=r+pt(h)),o!=64&&(r=r+pt(c)),s=h=c="",l=e=u=o="";while(f<i.length);return r}}function ru(n,t){var i=n.indexOf(t);i>-1&&n.splice(i,1)}function us(n,t,i){c(t)&&ru(dt,t);ru(dt,i);n.unshift({rule:t,replacement:i})}function nr(n,t){return n==t||n=="all"||!n}function pl(n){return dt.some(function(t){return new u("\\b"+t+"$","i").test(n)})}function fs(n,t){return n=c(n)?n.toString():"",n.isBlank()||pl(n)?n:es(n,t?cf:lf)}function es(n,t){return k(t,function(t,i){if(n.match(i.rule))return n=n.replace(i.rule,i.replacement),!1}),n}function os(n){return n.replace(/^\W*[a-z]/,function(n){return n.toUpperCase()})}function wl(){ss.forEach(function(n){var t=u("^["+n.source+"\\s]+$"),i=u("["+n.source+"]");n.names.forEach(function(n){ni(s.prototype,"is"+n,function(){return t.test(this.trim())});ni(s.prototype,"has"+n,function(){return i.test(this)})})})}function hs(n,t,i,r){tr||ea();var u=l(t).join(""),f=tr[r];return u=u.replace(/all/,"").replace(/(\w)lphabet|umbers?|atakana|paces?|unctuation/g,"$1"),n.replace(i,function(n){return f[n]&&(!u||u.has(f[n].type))?f[n].to:n})}function ea(){var n;tr={zenkaku:{},hankaku:{}};kl.forEach(function(n){fr(n.end-n.start+1,function(t){t+=n.start;gt(n.type,pt(t),pt(t+bl))})});fa.each(function(t,i){n=ua.charAt(i);gt("k",n,t);t.match(ia)&&gt("k",n+"",t.shift(1));t.match(ra)&&gt("k",n+"",t.shift(2))});ta.each(function(n,t){gt("p",na.charAt(t),n)});gt("k","","");gt("k","","");gt("s"," ","")}function gt(n,t,i){tr.zenkaku[t]={type:n,to:i};tr.hankaku[i]={type:n,to:t}}var o=Object,f=Array,u=RegExp,r=Date,s=String,w=Number,b=Math,uu,ir=typeof global!="undefined"?global:this,fu=o.prototype.toString,cs=o.prototype.hasOwnProperty,vf=o.defineProperty&&o.defineProperties,ls=typeof u()=="function",as=!("0"in new s("a")),eu={},vs=/^\[object Date|Array|String|Number|RegExp|Boolean|Arguments\]$/,et="Boolean,Number,String,Array,Date,RegExp,Function".split(","),ys=ou("boolean",et[0]),a=ou("number",et[1]),c=ou("string",et[2]),it=rr(et[3]),ot=rr(et[4]),g=rr(et[5]),y=rr(et[6]),ef,of,sf,hf,ss;ht.prototype.constructor=o;var ct=b.abs,er=b.pow,ti=b.ceil,d=b.floor,yt=b.round,cu=b.min,lt=b.max;var kf=48,ks=57,df=65296,ds=65305,wi=".",gf="",ne=",",lu="",oi={},te;ps();gs();t(o,!1,!1,{keys:function(n){var t=[];if(!nt(n)&&!g(n)&&!y(n))throw new TypeError("Object required");return k(n,function(n){t.push(n)}),t}});t(f,!1,!1,{isArray:function(n){return it(n)}});t(f,!0,!1,{every:function(n,t){var r=this.length,i=0;for(ar(arguments);i<r;){if(i in this&&!n.call(t,this[i],i,this))return!1;i++}return!0},some:function(n,t){var r=this.length,i=0;for(ar(arguments);i<r;){if(i in this&&n.call(t,this[i],i,this))return!0;i++}return!1},map:function(n,t){var t=arguments[1],r=this.length,i=0,u=new Array(r);for(ar(arguments);i<r;)i in this&&(u[i]=n.call(t,this[i],i,this)),i++;return u},filter:function(n){var r=arguments[1],u=this.length,t=0,i=[];for(ar(arguments);t<u;)t in this&&n.call(r,this[t],t,this)&&i.push(this[t]),t++;return i},indexOf:function(n){var t=arguments[1];return c(this)?this.indexOf(n,t):oe(this,n,t,1)},lastIndexOf:function(n){var t=arguments[1];return c(this)?this.lastIndexOf(n,t):oe(this,n,t,-1)},forEach:function(n){var i=this.length,t=0,r=arguments[1];for(yi(n);t<i;)t in this&&n.call(r,this[t],t,this),t++},reduce:function(n){return se(this,n,arguments[1])},reduceRight:function(n){return se(this,n,arguments[1],!0)}});t(Function,!0,!1,{bind:function(n){var t=this,r=l(arguments,null,1),i;if(!y(this))throw new TypeError("Function.prototype.bind called on a non-function");return i=function(){return t.apply(t.prototype&&this instanceof t?this:n,r.concat(l(arguments)))},i.prototype=this.prototype,i}});t(r,!1,!1,{now:function(){return(new r).getTime()}});th();ih();var ph="AlphanumericSort",be="AlphanumericSortOrder",wh="AlphanumericSortIgnore",ke="AlphanumericSortIgnoreCase",de="AlphanumericSortEquivalents",ge="AlphanumericSortNatural";t(f,!1,!0,{create:function(){var n=[];return l(arguments,function(t){(vh(t)||ah(t))&&(t=f.prototype.slice.call(t,0));n=n.concat(t)}),n}});t(f,!0,!1,{find:function(n,t){return yi(n),vr(this,n,0,!1,!1,t)},findIndex:function(n,t){var i;return yi(n),i=vr(this,n,0,!1,!0,t),e(i)?-1:i}});t(f,!0,!0,{findFrom:function(n,t,i){return vr(this,n,t,i)},findIndexFrom:function(n,t,i){var t=vr(this,n,t,i,!0);return e(t)?-1:t},findAll:function(n,t,i){var r=[],u;return this.length>0&&(u=hi(n),at(this,function(n,t,i){u(n,t,i)&&r.push(n)},t,i)),r},count:function(n){return e(n)?this.length:this.findAll(n).length},removeAt:function(n,t){return e(n)?this:(e(t)&&(t=n),this.splice(n,t-n+1),this)},include:function(n,t){return this.clone().add(n,t)},exclude:function(){return f.prototype.remove.apply(this.clone(),arguments)},clone:function(){return pi([],this)},unique:function(n){return he(this,n)},flatten:function(n){return vu(this,n)},union:function(){return he(this.concat(yu(arguments)))},intersect:function(){return ce(this,yu(arguments),!1)},subtract:function(){return ce(this,yu(arguments),!0)},at:function(){return fe(this,arguments)},first:function(n){return e(n)?this[0]:(n<0&&(n=0),this.slice(0,n))},last:function(n){if(e(n))return this[this.length-1];var t=this.length-n<0?0:this.length-n;return this.slice(t)},from:function(n){return this.slice(n)},to:function(n){return e(n)&&(n=this.length),this.slice(0,n)},min:function(n,t){return yr(this,n,"min",t)},max:function(n,t){return yr(this,n,"max",t)},least:function(n,t){return yr(this.groupBy.apply(this,[n]),"length","min",t)},most:function(n,t){return yr(this.groupBy.apply(this,[n]),"length","max",t)},sum:function(n){var t=n?this.map(n):this;return t.length>0?t.reduce(function(n,t){return n+t}):0},average:function(n){var t=n?this.map(n):this;return t.length>0?t.sum()/t.length:0},inGroups:function(n,t){var u=arguments.length>1,f=this,r=[],i=ti(this.length/n);return fr(n,function(n){var o=n*i,e=f.slice(o,o+i);u&&e.length<i&&fr(i-e.length,function(){e=e.add(t)});r.push(e)}),r},inGroupsOf:function(n,t){var r=[],u=this.length,f=this,i;return u===0||n===0?f:(e(n)&&(n=1),e(t)&&(t=null),fr(ti(u/n),function(u){for(i=f.slice(n*u,n*u+n);i.length<n;)i.push(t);r.push(i)}),r)},isEmpty:function(){return this.compact().length==0},sortBy:function(n,t){var i=this.clone();return i.sort(function(r,u){var f,e,o;return f=bt(r,n,i,[r]),e=bt(u,n,i,[u]),o=c(f)&&c(e)?ve(f,e):f<e?-1:f>e?1:0,o*(t?-1:1)}),i},randomize:function(){for(var n=this.concat(),t=n.length,i,r;t;)i=b.random()*t|0,r=n[--t],n[t]=n[i],n[i]=r;return n},zip:function(){var n=l(arguments);return this.map(function(t,i){return[t].concat(n.map(function(n){return i in n?n[i]:null}))})},sample:function(n){var t=this.randomize();return arguments.length>0?t.slice(0,n):t[0]},each:function(n,t,i){return at(this,n,t,i),this},add:function(n,t){return(!a(w(t))||isNaN(t))&&(t=this.length),f.prototype.splice.apply(this,[t,0].concat(n)),this},remove:function(){var n=this;return l(arguments,function(t){for(var i=0,r=hi(t);i<n.length;)r(n[i],i,n)?n.splice(i,1):i++}),n},compact:function(n){var t=[];return at(this,function(i){it(i)?t.push(i.compact()):n&&i?t.push(i):n||i==null||i.valueOf()!==i.valueOf()||t.push(i)}),t},groupBy:function(n,t){var u=this,i={},r;return at(u,function(t,f){r=bt(t,n,u,[t,f,u]);i[r]||(i[r]=[]);i[r].push(t)}),t&&k(i,t),i},none:function(){return!this.any.apply(this,arguments)}});t(f,!0,!0,{all:f.prototype.every,any:f.prototype.some,insert:f.prototype.add});t(o,!1,!0,{map:function(n,t){var u={},i,r;for(i in n)ut(n,i)&&(r=n[i],u[i]=bt(r,t,n,[i,r,n]));return u},reduce:function(n){var t=pu(n).map(function(t){return n[t]});return t.reduce.apply(t,l(arguments,null,1))},each:function(n,t){return yi(t),k(n,t),n},size:function(n){return pu(n).length}});var to="any,all,none,count,find,findAll,isEmpty".split(","),io="sum,average,min,max,least,most".split(","),ro="map,reduce,size".split(","),uo=to.concat(io).concat(ro);bh();kh();no(to);no(io,!0);lr(ro,ht);dh();var v,pr,wr=["ampm","hour","minute","second","ampm","utc","offset_sign","offset_hours","offset_minutes","ampm"],fo="(?:[,.]\\d+)?",gh="\\d{1,2}"+fo,eo="[0-5]\\d"+fo,wu="({t})?\\s*("+gh+")(?:{h}("+eo+")?{m}(?::?("+eo+"){s})?\\s*(?:({t})|(Z)|(?:([+-])(\\d{2,2})(?::?(\\d{2,2}))?)?)?|\\s*({t}))",oo="",bu={},so,ku,br,du=[],gu={},h={yyyy:function(n){return i(n,"FullYear")},yy:function(n){return i(n,"FullYear")%100},ord:function(n){var t=i(n,"Date");return t+re(t)},tz:function(n){return n.getUTCOffset()},isotz:function(n){return n.getUTCOffset(!0)},Z:function(n){return n.getUTCOffset()},ZZ:function(n){return n.getUTCOffset().replace(/(\d{2})$/,":$1")}},ii=[{name:"year",method:"FullYear",ambiguous:!0,multiplier:function(n){var t=n?n.isLeapYear()?1:0:.25;return(365+t)*864e5}},{name:"month",error:.919,method:"Month",ambiguous:!0,multiplier:function(n,t){var r=30.4375,i;return n&&(i=n.daysInMonth(),t<=i.days()&&(r=i)),r*864e5}},{name:"week",method:"ISOWeek",multiplier:function(){return 6048e5}},{name:"day",error:.958,method:"Date",ambiguous:!0,multiplier:function(){return 864e5}},{name:"hour",method:"Hours",multiplier:function(){return 36e5}},{name:"minute",method:"Minutes",multiplier:function(){return 6e4}},{name:"second",method:"Seconds",multiplier:function(){return 1e3}},{name:"millisecond",method:"Milliseconds",multiplier:function(){return 1}}],nf={};ho.prototype={getMonth:function(n){return a(n)?n-1:this.months.indexOf(n)%12},getWeekday:function(n){return this.weekdays.indexOf(n)%7},getNumber:function(n){var t;return a(n)?n:n&&(t=this.numbers.indexOf(n))!==-1?(t+1)%10:1},getNumericDate:function(n){var t=this;return n.replace(u(this.num,"g"),function(n){var i=t.getNumber(n);return i||""})},getUnitIndex:function(n){return this.units.indexOf(n)%8},getRelativeFormat:function(n){return this.convertAdjustedToFormat(n,n[2]>0?"future":"past")},getDuration:function(n){return this.convertAdjustedToFormat(lo(n),"duration")},hasVariant:function(n){return n=n||this.code,n==="en"||n==="en-US"?!0:this.variant},matchAM:function(n){return n===this.ampm[0]},matchPM:function(n){return n&&n===this.ampm[1]},convertAdjustedToFormat:function(n,t){var e,i,o,r=n[0],u=n[1],s=n[2],f=this[t]||this.relative;return y(f)?f.call(this,r,u,s,t):(o=this.plural&&r>1?1:0,i=this.units[o*8+u]||this.units[u],this.capitalizeUnit&&(i=ci(i)),e=this.modifiers.filter(function(n){return n.name=="sign"&&n.value==(s>0?1:-1)})[0],f.replace(/\{(.*?)\}/g,function(n,t){switch(t){case"num":return r;case"unit":return i;case"sign":return e.src}}))},getFormats:function(){return this.cachedFormat?[this.cachedFormat].concat(this.compiledFormats):this.compiledFormats},addFormat:function(n,t,i,r,u){var e=i||[],f=this,o,s,h;n=n.replace(/\s+/g,"[,. ]*");n=n.replace(/\{([^,]+?)\}/g,function(n,t){var r,h,o,l=t.match(/\?$/),c=t.match(/^(\d+)\??$/),s=t.match(/(\d)(?:-(\d))?/),u=t.replace(/[^a-z]+$/,"");return c?r=f.tokens[c[1]]:f[u]?r=f[u]:f[u+"s"]&&(r=f[u+"s"],s&&(h=[],r.forEach(function(n,t){var i=t%(f.units?8:r.length);i>=s[1]&&i<=(s[2]||s[1])&&h.push(n)}),r=h),r=di(r)),c?o="(?:"+r+")":(i||e.push(u),o="("+r+")"),l&&(o+="?"),o});t?(o=rf(wu,f,u),s=["t","[\\s\\u3000]"].concat(f.timeMarker),h=n.match(/\\d\{\d,\d\}\)+\??$/),kr(f,"(?:"+o+")[,\\s\\u3000]+?"+n,wr.concat(e),r),kr(f,n+"(?:[,\\s]*(?:"+s.join("|")+(h?"+":"*")+")"+o+")?",e.concat(wr),r)):kr(f,n,e,r)}};t(r,!1,!0,{create:function(){return kt(arguments)},past:function(){return kt(arguments,-1)},future:function(){return kt(arguments,1)},addLocale:function(n,t){return nc(n,t)},setLocale:function(n){var t=tt(n,!1);return pr=t,n&&n!=t.code&&(t.code=n),t},getLocale:function(n){return n?tt(n,!1):pr},addFormat:function(n,t,i){kr(tt(i),n,t)}});t(r,!0,!0,{set:function(){var n=dr(arguments);return nu(this,n[0],n[1])},setWeekday:function(n){if(!e(n))return si(this,"Date",i(this,"Date")+n-i(this,"Day"))},setISOWeek:function(n){var t=i(this,"Day")||7;if(!e(n))return this.set({month:0,date:4}),this.set({weekday:1}),n>1&&this.addWeeks(n-1),t!==1&&this.advance({days:t-1}),this.getTime()},getISOWeek:function(){return ec(this)},beginningOfISOWeek:function(){var n=this.getDay();return n===0?n=-6:n!==1&&(n=1),this.setWeekday(n),this.reset()},endOfISOWeek:function(){return this.getDay()!==0&&this.setWeekday(7),this.endOfDay()},getUTCOffset:function(n){var t=this._utc?0:this.getTimezoneOffset(),i=n===!0?":":"";return!t&&n?"Z":p(d(-t/60),2,!0)+i+p(ct(t%60),2)},utc:function(n){return ni(this,"_utc",n===!0||arguments.length===0),this},isUTC:function(){return!!this._utc||this.getTimezoneOffset()===0},advance:function(){var n=dr(arguments,!0);return nu(this,n[0],n[1],1)},rewind:function(){var n=dr(arguments,!0);return nu(this,n[0],n[1],-1)},isValid:function(){return!isNaN(this.getTime())},isAfter:function(n,t){return this.getTime()>r.create(n).getTime()-(t||0)},isBefore:function(n,t){return this.getTime()<r.create(n).getTime()+(t||0)},isBetween:function(n,t,i){var u=this.getTime(),f=r.create(n).getTime(),e=r.create(t).getTime(),o=cu(f,e),s=lt(f,e);return i=i||0,o-i<u&&s+i>u},isLeapYear:function(){var n=i(this,"FullYear");return n%4==0&&n%100!=0||n%400==0},daysInMonth:function(){return 32-i(new r(i(this,"FullYear"),i(this,"Month"),32),"Date")},format:function(n,t){return tf(this,n,!1,t)},relative:function(n,t){return c(n)&&(t=n,n=null),tf(this,n,!0,t)},is:function(n,t,r){var f,u;if(this.isValid()){if(c(n)){n=n.trim().toLowerCase();u=this.clone().utc(r);switch(!0){case n==="future":return this.getTime()>ri().getTime();case n==="past":return this.getTime()<ri().getTime();case n==="weekday":return i(u,"Day")>0&&i(u,"Day")<6;case n==="weekend":return i(u,"Day")===0||i(u,"Day")===6;case(f=v.weekdays.indexOf(n)%7)>-1:return i(u,"Day")===f;case(f=v.months.indexOf(n)%12)>-1:return i(u,"Month")===f}}return vo(this,n,null,t,r)}},reset:function(n){var t={},i;return n=n||"hours",n==="date"&&(n="days"),i=ii.some(function(t){return n===t.name||n===t.name+"s"}),t[n]=n.match(/^days?/)?1:0,i?this.set(t,!0):this},clone:function(){var n=new r(this.getTime());return n.utc(!!this._utc),n}});t(r,!0,!0,{iso:function(){return this.toISOString()},getWeekday:r.prototype.getDay,getUTCWeekday:r.prototype.getUTCDay});t(w,!0,!0,{duration:function(n){return tt(n).getDuration(this)}});v=pr=r.addLocale("en",{plural:!0,timeMarker:"at",ampm:"am,pm",months:"January,February,March,April,May,June,July,August,September,October,November,December",weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",units:"millisecond:|s,second:|s,minute:|s,hour:|s,day:|s,week:|s,month:|s,year:|s",numbers:"one,two,three,four,five,six,seven,eight,nine,ten",articles:"a,an,the",tokens:"the,st|nd|rd|th,of",short:"{Month} {d}, {yyyy}",long:"{Month} {d}, {yyyy} {h}:{mm}{tt}",full:"{Weekday} {Month} {d}, {yyyy} {h}:{mm}:{ss}{tt}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",modifiers:[{name:"sign",src:"ago|before",value:-1},{name:"sign",src:"from now|after|from|in|later",value:1},{name:"edge",src:"last day",value:-2},{name:"edge",src:"end",value:-1},{name:"edge",src:"first day|beginning",value:1},{name:"shift",src:"last",value:-1},{name:"shift",src:"the|this",value:0},{name:"shift",src:"next",value:1}],dateParse:["{month} {year}","{shift} {unit=5-7}","{0?} {date}{1}","{0?} {edge} of {shift?} {unit=4-7?}{month?}{year?}"],timeParse:["{num} {unit} {sign}","{sign} {num} {unit}","{0} {num}{1} {day} of {month} {year?}","{weekday?} {month} {date}{1?} {year?}","{date} {month} {year}","{date} {month}","{shift} {weekday}","{shift} week {weekday}","{weekday} {2?} {shift} week","{num} {unit=4-5} {sign} {day}","{0?} {date}{1} of {month}","{0?}{month?} {date?}{1?} of {shift} {unit=6-7}"]});wc();bc();kc();dc();gc();nl();tl();il();rl();vt.prototype.toString=function(){return this.isValid()?this.start+".."+this.end:"Invalid Range"};t(vt,!0,!0,{isValid:function(){return wo(this.start)&&wo(this.end)&&typeof this.start==typeof this.end},span:function(){return this.isValid()?ct(yo(this.end)-yo(this.start))+1:NaN},contains:function(n){var t=this;return n==null?!1:n.start&&n.end?n.start>=this.start&&n.start<=this.end&&n.end>=this.start&&n.end<=this.end:n>=this.start&&n<=this.end},every:function(n,t){var u,r=this.start,f=this.end,e=f<r,i=r,o=0,s=[];for(y(n)&&(t=n,n=null),n=n||1,a(r)?u=sl:c(r)?u=ol:ot(r)&&(n=fl(n),u=el),e&&n>0&&(n*=-1);e?i>=f:i<=f;)s.push(i),t&&t(i,o),i=u(i,n),o++;return s},union:function(n){return new vt(this.start<n.start?this.start:n.start,this.end>n.end?this.end:n.end)},intersect:function(n){return n.start>this.end||n.end<this.start?new vt(NaN,NaN):new vt(this.start>n.start?this.start:n.start,this.end<n.end?this.end:n.end)},clone:function(){return new vt(this.start,this.end)},clamp:function(n){var r,t=this.start,i=this.end,u=i<t?i:t,f=t>i?t:i;return r=n<u?u:n>f?f:n,uf(r)}});[w,s,r].forEach(function(n){t(n,!1,!0,{range:function(t,i){return n.create&&(t=n.create(t),i=n.create(i)),new vt(t,i)}})});t(w,!0,!0,{upto:function(n,t,i){return w.range(this,n).every(i,t)},clamp:function(n,t){return new vt(n,t).clamp(this)},cap:function(n){return this.clamp(uu,n)}});t(w,!0,!0,{downto:w.prototype.upto});t(f,!1,function(n){return n instanceof vt},{create:function(n){return n.every()}});t(Function,!0,!0,{lazy:function(n,t,i){function o(){return r.length<i-(u&&t?1:0)&&r.push([this,arguments]),u||(u=!0,t?f():ai(o,e,f)),h}var c=this,r=[],u=!1,f,e,s,h;return n=n||1,i=i||Infinity,e=ti(n),s=yt(e/n)||1,f=function(){var n=r.length,t;if(n!=0){for(t=lt(n-s,0);n>t;)h=Function.prototype.apply.apply(c,r.shift()),n--;ai(o,e,function(){u=!1;f()})}},o},throttle:function(n){return this.lazy(n,!0,1)},debounce:function(n){function t(){t.cancel();ai(t,n,i,this,arguments)}var i=this;return t},delay:function(n){var t=this,i=l(arguments,null,1);return ai(t,n,t,t,i),t},every:function(n){function r(){t.apply(t,i);ai(t,n,r)}var t=this,i=arguments;return i=i.length>1?l(i,null,1):[],ai(t,n,r),t},cancel:function(){var n=this.timers,t;if(it(n))while(t=n.shift())clearTimeout(t);return this._canceled=!0,this},after:function(n){var t=this,i=0,r=[];if(a(n)){if(n===0)return t.call(),t}else n=1;return function(){var u;return r.push(l(arguments)),i++,i==n?(u=t.call(this,r),i=0,r=[],u):void 0}},once:function(){return this.throttle(Infinity,!0)},fill:function(){var n=this,t=l(arguments);return function(){var i=l(arguments);return t.forEach(function(n,t){(n!=null||t>=i.length)&&i.splice(t,0,n)}),n.apply(this,i)}}});t(w,!1,!0,{random:function(n,t){var i,r;return arguments.length==1&&(t=n,n=0),i=cu(n||0,e(t)?1:t),r=lt(n||0,e(t)?1:t)+1,d(b.random()*(r-i)+i)}});t(w,!0,!0,{log:function(n){return b.log(this)/(n?b.log(n):1)},abbr:function(n){return ff(this,n,"kmbt",0,4)},metric:function(n,t){return ff(this,n,"nm kMGTPE",4,e(t)?1:t)},bytes:function(n,t){return ff(this,n,"kMGTPE",0,e(t)?4:t,!0)+"B"},isInteger:function(){return this%1==0},isOdd:function(){return!isNaN(this)&&!this.isMultipleOf(2)},isEven:function(){return this.isMultipleOf(2)},isMultipleOf:function(n){return this%n==0},format:function(n,t,i){var r,h,s,f,o,u="";for(e(t)&&(t=","),e(i)&&(i="."),h=(a(n)?or(this,n||0).toFixed(lt(n,0)):this.toString()).replace(/^-/,""),s=h.split("."),f=s[0],o=s[1],r=f.length;r>0;r-=3)r<f.length&&(u=t+u),u=f.slice(lt(0,r-3),r)+u;return o&&(u+=i+hr("0",(n||0)-o.length)+o),(this<0?"-":"")+u},hex:function(n){return this.pad(n||1,!1,16)},times:function(n){if(n)for(var t=0;t<this;t++)n.call(this,t);return this.toNumber()},chr:function(){return s.fromCharCode(this)},pad:function(n,t,i){return p(this,n,t,i)},ordinalize:function(){var n=ct(this),t=parseInt(n.toString().slice(-2));return this+re(t)},toNumber:function(){return parseFloat(this,10)}});hl();ef="isObject,isNaN".split(",");of="keys,values,select,reject,each,merge,clone,equal,watch,tap,has,toQueryString".split(",");t(o,!1,!0,{watch:function(n,t,i){if(vf){var r=n[t];o.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){return r},set:function(u){r=i.call(n,t,r,u)}})}}});t(o,!1,function(){return arguments.length>1},{keys:function(n,t){var i=o.keys(n);return i.forEach(function(i){t.call(n,i,n[i])}),i}});t(o,!1,!0,{isObject:function(n){return ei(n)},isNaN:function(n){return a(n)&&n.valueOf()!==n.valueOf()},equal:function(n,t){return ue(n,t)},extended:function(n){return new ht(n)},merge:function(n,t,i,e){var h,p,a,s,c,v,l;if(n&&typeof t!="string")for(h in t)if(ut(t,h)&&n){if(s=t[h],c=n[h],v=rt(c),p=nt(s),a=nt(c),l=v&&e===!1?c:s,v&&y(e)&&(l=e.call(t,h,c,s)),i&&(p||a))if(ot(s))l=new r(s.getTime());else if(g(s))l=new u(s.source,bi(s));else{a||(n[h]=f.isArray(s)?[]:{});o.merge(n[h],s,i,e);continue}n[h]=l}return n},values:function(n,t){var i=[];return k(n,function(r,u){i.push(u);t&&t.call(n,u)}),i},clone:function(n,t){var r,i;if(!nt(n))return n;if(i=vi(n),ot(n,i)&&n.clone)return n.clone();if(ot(n,i)||g(n,i))return new n.constructor(n);if(n instanceof ht)r=new ht;else if(it(n,i))r=[];else if(ei(n,i))r={};else throw new TypeError("Clone must be a basic data type.");return o.merge(r,n,t)},fromQueryString:function(n,t){var i=o.extended();return n=n&&n.toString?n.toString():"",n.replace(/^.*?\?/,"").split("&").forEach(function(n){var r=n.split("=");r.length===2&&bo(i,r[0],decodeURIComponent(r[1]),t)}),i},toQueryString:function(n,t){return ko(t,n)},tap:function(n,t){var i=t;return y(t)||(i=function(){t&&n[t]()}),i.call(n,n),n},has:function(n,t){return ut(n,t)},select:function(n){return ns(n,arguments,!0)},reject:function(n){return ns(n,arguments,!1)}});ll();al();lr(of,ht);t(u,!1,!0,{escape:function(n){return wt(n)}});t(u,!0,!0,{getFlags:function(){return bi(this)},setFlags:function(n){return u(this.source,n)},addFlag:function(n){return this.setFlags(bi(this,n))},removeFlag:function(n){return this.setFlags(bi(this).replace(n,""))}});t(s,!0,!1,{repeat:function(n){return n=tu(n),hr(this,n)}});t(s,!0,function(n){return g(n)||arguments.length>2},{startsWith:function(n){var r=arguments,f=r[1],t=r[2],i=this,o;return f&&(i=i.slice(f)),e(t)&&(t=!0),o=g(n)?n.source.replace("^",""):wt(n),u("^"+o,t?"":"i").test(i)},endsWith:function(n){var r=arguments,f=r[1],t=r[2],i=this,o;return rt(f)&&(i=i.slice(0,f)),e(t)&&(t=!0),o=g(n)?n.source.replace("$",""):wt(n),u(o+"$",t?"":"i").test(i)}});t(s,!0,!0,{escapeRegExp:function(){return wt(this)},escapeURL:function(n){return n?encodeURIComponent(this):encodeURI(this)},unescapeURL:function(n){return n?decodeURI(this):decodeURIComponent(this)},escapeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2f;")},unescapeHTML:function(){return this.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&#x2f;/g,"/").replace(/&amp;/g,"&")},encodeBase64:function(){return sf(unescape(encodeURIComponent(this)))},decodeBase64:function(){return decodeURIComponent(escape(hf(this)))},each:function(n,t){var i,r,f;if(y(n)?(t=n,n=/[\s\S]/g):n?c(n)?n=u(wt(n),"gi"):g(n)&&(n=u(n.source,bi(n,"g"))):n=/[\s\S]/g,i=this.match(n)||[],t)for(r=0,f=i.length;r<f;r++)i[r]=t.call(this,i[r],r,i)||i[r];return i},shift:function(n){var t="";return n=n||0,this.codes(function(i){t+=pt(i+n)}),t},codes:function(n){for(var r=[],i,t=0,u=this.length;t<u;t++)i=this.charCodeAt(t),r.push(i),n&&n.call(this,i,t);return r},chars:function(n){return this.each(n)},words:function(n){return this.trim().each(/\S+/g,n)},lines:function(n){return this.trim().each(/^.*$/gm,n)},paragraphs:function(n){var t=this.trim().split(/[\r\n]{2,}/);return t.map(function(t){if(n)var i=n.call(t);return i?i:t})},isBlank:function(){return this.trim().length===0},has:function(n){return this.search(g(n)?n:wt(n))!==-1},add:function(n,t){return t=e(t)?this.length:t,this.slice(0,t)+n+this.slice(t)},remove:function(n){return this.replace(n,"")},reverse:function(){return this.split("").reverse().join("")},compact:function(){return this.trim().replace(/([\r\n\s])+/g,function(n,t){return t===""?t:" "})},at:function(){return fe(this,arguments,!0)},from:function(n){return this.slice(is(this,n,!0))},to:function(n){return e(n)&&(n=this.length),this.slice(0,is(this,n))},dasherize:function(){return this.underscore().replace(/_/g,"-")},underscore:function(){return this.replace(/[-\s]+/g,"_").replace(s.Inflector&&s.Inflector.acronymRegExp,function(n,t){return(t>0?"_":"")+n.toLowerCase()}).replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase()},camelize:function(n){return this.underscore().replace(/(^|_)([^_]+)/g,function(t,i,r,u){var f=vl(r),e=n!==!1||u>0;return f?e?f:f.toLowerCase():e?r.capitalize():r})},spacify:function(){return this.underscore().replace(/_/g," ")},stripTags:function(){var n=this,t=arguments.length>0?arguments:[""];return ur(t,function(t){n=n.replace(u("<\/?"+wt(t)+"[^<>]*>","gi"),"")}),n},removeTags:function(){var n=this,t=arguments.length>0?arguments:["\\S+"];return ur(t,function(t){var i=u("<("+t+")[^<>]*(?:\\/>|>.*?<\\/\\1>)","gi");n=n.replace(i,"")}),n},truncate:function(n,t,i){return ts(this,n,t,i)},truncateOnWord:function(n,t,i){return ts(this,n,t,i,!0)},pad:function(n,t){var i,r,u;return n=tu(n),i=lt(0,n-this.length)/2,r=d(i),u=ti(i),iu(r,t)+this+iu(u,t)},padLeft:function(n,t){return n=tu(n),iu(lt(0,n-this.length),t)+this},padRight:function(n,t){return n=tu(n),this+iu(lt(0,n-this.length),t)},first:function(n){return e(n)&&(n=1),this.substr(0,n)},last:function(n){e(n)&&(n=1);var t=this.length-n<0?0:this.length-n;return this.substr(t)},toNumber:function(n){return au(this,n)},capitalize:function(n){var t;return this.toLowerCase().replace(n?/[^']/g:/^\S/,function(n){var i=n.toUpperCase(),r;return r=t?n:i,t=i!==n,r})},assign:function(){var n={};return ur(arguments,function(t,i){nt(t)?pi(n,t):n[i+1]=t}),this.replace(/\{([^{]+?)\}/g,function(t,i){return ut(n,i)?n[i]:t})}});t(s,!0,!0,{insert:s.prototype.add});yl("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");var cf=[],lf=[],dt=[],af=[],fi={},rs,n;n={acronym:function(t){fi[t.toLowerCase()]=t;var i=o.keys(fi).map(function(n){return fi[n]});n.acronymRegExp=u(i.join("|"),"g")},plural:function(n,t){us(cf,n,t)},singular:function(n,t){us(lf,n,t)},irregular:function(t,i){var h=t.first(),f=t.from(1),o=i.first(),r=i.from(1),e=o.toUpperCase(),s=o.toLowerCase(),c=h.toUpperCase(),l=h.toLowerCase();ru(dt,t);ru(dt,i);c==e?(n.plural(new u("({1}){2}$".assign(h,f),"i"),"$1"+r),n.plural(new u("({1}){2}$".assign(o,r),"i"),"$1"+r),n.singular(new u("({1}){2}$".assign(o,r),"i"),"$1"+f)):(n.plural(new u("{1}{2}$".assign(c,f)),e+r),n.plural(new u("{1}{2}$".assign(l,f)),s+r),n.plural(new u("{1}{2}$".assign(e,r)),e+r),n.plural(new u("{1}{2}$".assign(s,r)),s+r),n.singular(new u("{1}{2}$".assign(e,r)),c+f),n.singular(new u("{1}{2}$".assign(s,r)),l+f))},uncountable:function(n){var t=f.isArray(n)?n:l(arguments);dt=dt.concat(t)},human:function(n,t){af.unshift({rule:n,replacement:t})},clear:function(n){nr(n,"singulars")&&(lf=[]);nr(n,"plurals")&&(cf=[]);nr(n,"uncountables")&&(dt=[]);nr(n,"humans")&&(af=[]);nr(n,"acronyms")&&(fi={})}};rs=["and","or","nor","a","an","the","so","but","to","of","at","by","from","into","on","onto","off","out","in","over","with","for"];n.plural(/$/,"s");n.plural(/s$/gi,"s");n.plural(/(ax|test)is$/gi,"$1es");n.plural(/(octop|vir|fung|foc|radi|alumn)(i|us)$/gi,"$1i");n.plural(/(census|alias|status)$/gi,"$1es");n.plural(/(bu)s$/gi,"$1ses");n.plural(/(buffal|tomat)o$/gi,"$1oes");n.plural(/([ti])um$/gi,"$1a");n.plural(/([ti])a$/gi,"$1a");n.plural(/sis$/gi,"ses");n.plural(/f+e?$/gi,"ves");n.plural(/(cuff|roof)$/gi,"$1s");n.plural(/([ht]ive)$/gi,"$1s");n.plural(/([^aeiouy]o)$/gi,"$1es");n.plural(/([^aeiouy]|qu)y$/gi,"$1ies");n.plural(/(x|ch|ss|sh)$/gi,"$1es");n.plural(/(matr|vert|ind)(?:ix|ex)$/gi,"$1ices");n.plural(/([ml])ouse$/gi,"$1ice");n.plural(/([ml])ice$/gi,"$1ice");n.plural(/^(ox)$/gi,"$1en");n.plural(/^(oxen)$/gi,"$1");n.plural(/(quiz)$/gi,"$1zes");n.plural(/(phot|cant|hom|zer|pian|portic|pr|quart|kimon)o$/gi,"$1os");n.plural(/(craft)$/gi,"$1");n.plural(/([ft])[eo]{2}(th?)$/gi,"$1ee$2");n.singular(/s$/gi,"");n.singular(/([pst][aiu]s)$/gi,"$1");n.singular(/([aeiouy])ss$/gi,"$1ss");n.singular(/(n)ews$/gi,"$1ews");n.singular(/([ti])a$/gi,"$1um");n.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/gi,"$1$2sis");n.singular(/(^analy)ses$/gi,"$1sis");n.singular(/(i)(f|ves)$/i,"$1fe");n.singular(/([aeolr]f?)(f|ves)$/i,"$1f");n.singular(/([ht]ive)s$/gi,"$1");n.singular(/([^aeiouy]|qu)ies$/gi,"$1y");n.singular(/(s)eries$/gi,"$1eries");n.singular(/(m)ovies$/gi,"$1ovie");n.singular(/(x|ch|ss|sh)es$/gi,"$1");n.singular(/([ml])(ous|ic)e$/gi,"$1ouse");n.singular(/(bus)(es)?$/gi,"$1");n.singular(/(o)es$/gi,"$1");n.singular(/(shoe)s?$/gi,"$1");n.singular(/(cris|ax|test)[ie]s$/gi,"$1is");n.singular(/(octop|vir|fung|foc|radi|alumn)(i|us)$/gi,"$1us");n.singular(/(census|alias|status)(es)?$/gi,"$1");n.singular(/^(ox)(en)?/gi,"$1");n.singular(/(vert|ind)(ex|ices)$/gi,"$1ex");n.singular(/(matr)(ix|ices)$/gi,"$1ix");n.singular(/(quiz)(zes)?$/gi,"$1");n.singular(/(database)s?$/gi,"$1");n.singular(/ee(th?)$/gi,"oo$1");n.irregular("person","people");n.irregular("man","men");n.irregular("child","children");n.irregular("sex","sexes");n.irregular("move","moves");n.irregular("save","saves");n.irregular("cow","kine");n.irregular("goose","geese");n.irregular("zombie","zombies");n.uncountable("equipment,information,rice,money,species,series,fish,sheep,jeans".split(","));t(s,!0,!0,{pluralize:function(){return fs(this,!0)},singularize:function(){return fs(this,!1)},humanize:function(){var n=es(this,af),t;return n=n.replace(/_id$/g,""),n=n.replace(/(_)?([a-z\d]*)/gi,function(n,i,r){return t=ut(fi,r)?fi[r]:null,(i?" ":"")+(t||r.toLowerCase())}),os(n)},titleize:function(){var r=/[.:;!]$/,n,t,i;return this.spacify().humanize().words(function(u,f,e){return n=r.test(u),i=f==0||f==e.length-1||n||t,t=n,i||rs.indexOf(u)===-1?os(u):u}).join(" ")},parameterize:function(n){var t=this;return n===undefined&&(n="-"),t.normalize&&(t=t.normalize()),t=t.replace(/[^a-z0-9\-_]+/gi,n),n&&(t=t.replace(new u("^{sep}+|{sep}+$|({sep}){sep}+".assign({sep:wt(n)}),"g"),"$1")),encodeURI(t.toLowerCase())}});s.Inflector=n;s.Inflector.acronyms=fi;ss=[{names:["Arabic"],source:"-"},{names:["Cyrillic"],source:"-"},{names:["Devanagari"],source:"-"},{names:["Greek"],source:"-"},{names:["Hangul"],source:"--"},{names:["Han","Kanji"],source:"--"},{names:["Hebrew"],source:"-"},{names:["Hiragana"],source:"--"},{names:["Kana"],source:"--"},{names:["Katakana"],source:"--"},{names:["Latin"],source:"\x01----"},{names:["Thai"],source:"-"}];var bl=65248,kl=[{type:"a",start:65,end:90},{type:"a",start:97,end:122},{type:"n",start:48,end:57},{type:"p",start:33,end:47},{type:"p",start:58,end:64},{type:"p",start:91,end:96},{type:"p",start:123,end:126}],tr,dl=/[\u0020-\u00A5]|[\uFF61-\uFF9F][]?/g,gl=/[\u3000-\u301C]|[\u301A-\u30FC]|[\uFF01-\uFF60]|[\uFFE0-\uFFE6]/g,na="",ta="",ia=/[]/,ra=/[]/,ua="",fa="";t(s,!0,!0,{hankaku:function(){return hs(this,arguments,gl,"hankaku")},zenkaku:function(){return hs(this,arguments,dl,"zenkaku")},hiragana:function(n){var t=this;return n!==!1&&(t=t.zenkaku("k")),t.replace(/[\u30A1-\u30F6]/g,function(n){return n.shift(-96)})},katakana:function(){return this.replace(/[\u3041-\u3096]/g,function(n){return n.shift(96)})}});wl();Date.addLocale("da",{plural:!0,months:"januar,februar,marts,april,maj,juni,juli,august,september,oktober,november,december",weekdays:"sndag|sondag,mandag,tirsdag,onsdag,torsdag,fredag,lrdag|lordag",units:"millisekund:|er,sekund:|er,minut:|ter,tim:e|er,dag:|e,ug:e|er|en,mned:|er|en+maaned:|er|en,r:||et+aar:||et",numbers:"en|et,to,tre,fire,fem,seks,syv,otte,ni,ti",tokens:"den,for",articles:"den",short:"d. {d}. {month} {yyyy}",long:"den {d}. {month} {yyyy} {H}:{mm}",full:"{Weekday} den {d}. {month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",ampm:"am,pm",modifiers:[{name:"day",src:"forgrs|i forgrs|forgaars|i forgaars",value:-2},{name:"day",src:"i gr|igr|i gaar|igaar",value:-1},{name:"day",src:"i dag|idag",value:0},{name:"day",src:"i morgen|imorgen",value:1},{name:"day",src:"over morgon|overmorgen|i over morgen|i overmorgen|iovermorgen",value:2},{name:"sign",src:"siden",value:-1},{name:"sign",src:"om",value:1},{name:"shift",src:"i sidste|sidste",value:-1},{name:"shift",src:"denne",value:0},{name:"shift",src:"nste|naeste",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{1?} {num} {unit} {sign}","{shift} {unit=5-7}"],timeParse:["{0?} {weekday?} {date?} {month} {year}","{date} {month}","{shift} {weekday}"]});Date.addLocale("de",{plural:!0,capitalizeUnit:!0,months:"Januar,Februar,Mrz|Marz,April,Mai,Juni,Juli,August,September,Oktober,November,Dezember",weekdays:"Sonntag,Montag,Dienstag,Mittwoch,Donnerstag,Freitag,Samstag",units:"Millisekunde:|n,Sekunde:|n,Minute:|n,Stunde:|n,Tag:|en,Woche:|n,Monat:|en,Jahr:|en",numbers:"ein:|e|er|en|em,zwei,drei,vier,fuenf,sechs,sieben,acht,neun,zehn",tokens:"der",short:"{d}. {Month} {yyyy}",long:"{d}. {Month} {yyyy} {H}:{mm}",full:"{Weekday} {d}. {Month} {yyyy} {H}:{mm}:{ss}",past:"{sign} {num} {unit}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"um",ampm:"am,pm",modifiers:[{name:"day",src:"vorgestern",value:-2},{name:"day",src:"gestern",value:-1},{name:"day",src:"heute",value:0},{name:"day",src:"morgen",value:1},{name:"day",src:"bermorgen|ubermorgen|uebermorgen",value:2},{name:"sign",src:"vor:|her",value:-1},{name:"sign",src:"in",value:1},{name:"shift",src:"letzte:|r|n|s",value:-1},{name:"shift",src:"nchste:|r|n|s+nachste:|r|n|s+naechste:|r|n|s+kommende:n|r",value:1}],dateParse:["{sign} {num} {unit}","{num} {unit} {sign}","{shift} {unit=5-7}"],timeParse:["{weekday?} {date?} {month} {year?}","{shift} {weekday}"]});Date.addLocale("es",{plural:!0,months:"enero,febrero,marzo,abril,mayo,junio,julio,agosto,septiembre,octubre,noviembre,diciembre",weekdays:"domingo,lunes,martes,mircoles|miercoles,jueves,viernes,sbado|sabado",units:"milisegundo:|s,segundo:|s,minuto:|s,hora:|s,da|das|dia|dias,semana:|s,mes:|es,ao|aos|ano|anos",numbers:"uno,dos,tres,cuatro,cinco,seis,siete,ocho,nueve,diez",tokens:"el,la,de",short:"{d} {month} {yyyy}",long:"{d} {month} {yyyy} {H}:{mm}",full:"{Weekday} {d} {month} {yyyy} {H}:{mm}:{ss}",past:"{sign} {num} {unit}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"a las",ampm:"am,pm",modifiers:[{name:"day",src:"anteayer",value:-2},{name:"day",src:"ayer",value:-1},{name:"day",src:"hoy",value:0},{name:"day",src:"maana|manana",value:1},{name:"sign",src:"hace",value:-1},{name:"sign",src:"dentro de",value:1},{name:"shift",src:"pasad:o|a",value:-1},{name:"shift",src:"prximo|prxima|proximo|proxima",value:1}],dateParse:["{sign} {num} {unit}","{num} {unit} {sign}","{0?}{1?} {unit=5-7} {shift}","{0?}{1?} {shift} {unit=5-7}"],timeParse:["{shift} {weekday}","{weekday} {shift}","{date?} {2?} {month} {2?} {year?}"]});Date.addLocale("fi",{plural:!0,timeMarker:"kello",ampm:",",months:"tammikuu,helmikuu,maaliskuu,huhtikuu,toukokuu,keskuu,heinkuu,elokuu,syyskuu,lokakuu,marraskuu,joulukuu",weekdays:"sunnuntai,maanantai,tiistai,keskiviikko,torstai,perjantai,lauantai",units:"millisekun:ti|tia|teja|tina|nin,sekun:ti|tia|teja|tina|nin,minuut:ti|tia|teja|tina|in,tun:ti|tia|teja|tina|nin,piv:||i|n|n,viik:ko|koa|koja|on|kona,kuukau:si|sia|tta|den|tena,vuo:si|sia|tta|den|tena",numbers:"yksi|ensimminen,kaksi|toinen,kolm:e|as,nelj:s,vii:si|des,kuu:si|des,seitsem:n|s,kahdeksa:n|s,yhdeks:n|s,kymmene:n|s",articles:"",optionals:"",short:"{d}. {month}ta {yyyy}",long:"{d}. {month}ta {yyyy} kello {H}.{mm}",full:"{Weekday}na {d}. {month}ta {yyyy} kello {H}.{mm}",relative:function(n,t,i,r){function u(i){return(n===1?"":n+" ")+f[8*i+t]}var f=this.units;switch(r){case"duration":return u(0);case"past":return u(n>1?1:0)+" sitten";case"future":return u(4)+" pst"}},modifiers:[{name:"day",src:"toissa pivn|toissa pivist",value:-2},{name:"day",src:"eilen|eilist",value:-1},{name:"day",src:"tnn",value:0},{name:"day",src:"huomenna|huomista",value:1},{name:"day",src:"ylihuomenna|ylihuomista",value:2},{name:"sign",src:"sitten|aiemmin",value:-1},{name:"sign",src:"pst|kuluttua|myhemmin",value:1},{name:"edge",src:"viimeinen|viimeisen",value:-2},{name:"edge",src:"lopussa",value:-1},{name:"edge",src:"ensimminen|ensimmisen",value:1},{name:"shift",src:"edellinen|edellisen|edeltv|edeltvn|viime|toissa",value:-1},{name:"shift",src:"tn|tmn",value:0},{name:"shift",src:"seuraava|seuraavana|tuleva|tulevana|ensi",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{num} {unit=4-5} {sign} {day}","{month} {year}","{shift} {unit=5-7}"],timeParse:["{0} {num}{1} {day} of {month} {year?}","{weekday?} {month} {date}{1} {year?}","{date} {month} {year}","{shift} {weekday}","{shift} week {weekday}","{weekday} {2} {shift} week","{0} {date}{1} of {month}","{0}{month?} {date?}{1} of {shift} {unit=6-7}"]});Date.addLocale("fr",{plural:!0,months:"janvier,fvrier|fevrier,mars,avril,mai,juin,juillet,aot,septembre,octobre,novembre,dcembre|decembre",weekdays:"dimanche,lundi,mardi,mercredi,jeudi,vendredi,samedi",units:"milliseconde:|s,seconde:|s,minute:|s,heure:|s,jour:|s,semaine:|s,mois,an:|s|ne|nee",numbers:"un:|e,deux,trois,quatre,cinq,six,sept,huit,neuf,dix",tokens:"l'|la|le",short:"{d} {month} {yyyy}",long:"{d} {month} {yyyy} {H}:{mm}",full:"{Weekday} {d} {month} {yyyy} {H}:{mm}:{ss}",past:"{sign} {num} {unit}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"",ampm:"am,pm",modifiers:[{name:"day",src:"hier",value:-1},{name:"day",src:"aujourd'hui",value:0},{name:"day",src:"demain",value:1},{name:"sign",src:"il y a",value:-1},{name:"sign",src:"dans|d'ici",value:1},{name:"shift",src:"derni:r|er|re|ere",value:-1},{name:"shift",src:"prochain:|e",value:1}],dateParse:["{sign} {num} {unit}","{sign} {num} {unit}","{0?} {unit=5-7} {shift}"],timeParse:["{weekday?} {0?} {date?} {month} {year?}","{0?} {weekday} {shift}"]});Date.addLocale("it",{plural:!0,months:"Gennaio,Febbraio,Marzo,Aprile,Maggio,Giugno,Luglio,Agosto,Settembre,Ottobre,Novembre,Dicembre",weekdays:"Domenica,Luned:|i,Marted:|i,Mercoled:|i,Gioved:|i,Venerd:|i,Sabato",units:"millisecond:o|i,second:o|i,minut:o|i,or:a|e,giorn:o|i,settiman:a|e,mes:e|i,ann:o|i",numbers:"un:|a|o|',due,tre,quattro,cinque,sei,sette,otto,nove,dieci",tokens:"l'|la|il",short:"{d} {Month} {yyyy}",long:"{d} {Month} {yyyy} {H}:{mm}",full:"{Weekday} {d} {Month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",timeMarker:"alle",ampm:"am,pm",modifiers:[{name:"day",src:"ieri",value:-1},{name:"day",src:"oggi",value:0},{name:"day",src:"domani",value:1},{name:"day",src:"dopodomani",value:2},{name:"sign",src:"fa",value:-1},{name:"sign",src:"da adesso",value:1},{name:"shift",src:"scors:o|a",value:-1},{name:"shift",src:"prossim:o|a",value:1}],dateParse:["{num} {unit} {sign}","{0?} {unit=5-7} {shift}","{0?} {shift} {unit=5-7}"],timeParse:["{weekday?} {date?} {month} {year?}","{shift} {weekday}"]});Date.addLocale("ja",{monthSuffix:"",weekdays:",,,,,,",units:",,,,,|,||,",short:"{yyyy}{M}{d}",long:"{yyyy}{M}{d} {H}{mm}",full:"{yyyy}{M}{d} {Weekday} {H}{mm}{ss}",past:"{num}{unit}{sign}",future:"{num}{unit}{sign}",duration:"{num}{unit}",timeSuffixes:",,",ampm:",",modifiers:[{name:"day",src:"",value:-2},{name:"day",src:"",value:-1},{name:"day",src:"",value:0},{name:"day",src:"",value:1},{name:"day",src:"",value:2},{name:"sign",src:"",value:-1},{name:"sign",src:"",value:1},{name:"shift",src:"|",value:-1},{name:"shift",src:"",value:1}],dateParse:["{num}{unit}{sign}"],timeParse:["{shift}{unit=5-7}{weekday?}","{year}{month?}?{date?}?","{month}{date?}?","{date}"]});Date.addLocale("ko",{digitDate:!0,monthSuffix:"",weekdays:",,,,,,",units:",,,,,,|,",numbers:"|,,,,,,,,,",short:"{yyyy}{M}{d}",long:"{yyyy}{M}{d} {H}{mm}",full:"{yyyy}{M}{d} {Weekday} {H}{mm}{ss}",past:"{num}{unit} {sign}",future:"{num}{unit} {sign}",duration:"{num}{unit}",timeSuffixes:",,",ampm:",",modifiers:[{name:"day",src:"",value:-2},{name:"day",src:"",value:-1},{name:"day",src:"",value:0},{name:"day",src:"",value:1},{name:"day",src:"",value:2},{name:"sign",src:"",value:-1},{name:"sign",src:"",value:1},{name:"shift",src:"|",value:-1},{name:"shift",src:"",value:0},{name:"shift",src:"|",value:1}],dateParse:["{num}{unit} {sign}","{shift?} {unit=5-7}"],timeParse:["{shift} {unit=5?} {weekday}","{year}{month?}?{date?}?","{month}{date?}?","{date}"]});Date.addLocale("nl",{plural:!0,months:"januari,februari,maart,april,mei,juni,juli,augustus,september,oktober,november,december",weekdays:"zondag|zo,maandag|ma,dinsdag|di,woensdag|woe|wo,donderdag|do,vrijdag|vrij|vr,zaterdag|za",units:"milliseconde:|n,seconde:|n,minu:ut|ten,uur,dag:|en,we:ek|ken,maand:|en,jaar",numbers:"een,twee,drie,vier,vijf,zes,zeven,acht,negen",tokens:"",short:"{d} {Month} {yyyy}",long:"{d} {Month} {yyyy} {H}:{mm}",full:"{Weekday} {d} {Month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",timeMarker:"'s|om",modifiers:[{name:"day",src:"gisteren",value:-1},{name:"day",src:"vandaag",value:0},{name:"day",src:"morgen",value:1},{name:"day",src:"overmorgen",value:2},{name:"sign",src:"geleden",value:-1},{name:"sign",src:"vanaf nu",value:1},{name:"shift",src:"laatste|vorige|afgelopen",value:-1},{name:"shift",src:"volgend:|e",value:1}],dateParse:["{num} {unit} {sign}","{0?} {unit=5-7} {shift}","{0?} {shift} {unit=5-7}"],timeParse:["{weekday?} {date?} {month} {year?}","{shift} {weekday}"]});Date.addLocale("pl",{plural:!0,months:"Stycze|Stycznia,Luty|Lutego,Marzec|Marca,Kwiecie|Kwietnia,Maj|Maja,Czerwiec|Czerwca,Lipiec|Lipca,Sierpie|Sierpnia,Wrzesie|Wrzenia,Padziernik|Padziernika,Listopad|Listopada,Grudzie|Grudnia",weekdays:"Niedziela|Niedziel,Poniedziaek,Wtorek,rod:a|,Czwartek,Pitek,Sobota|Sobot",units:"milisekund:a|y|,sekund:a|y|,minut:a|y|,godzin:a|y|,dzie|dni,tydzie|tygodnie|tygodni,miesice|miesice|miesicy,rok|lata|lat",numbers:"jeden|jedn,dwa|dwie,trzy,cztery,pi,sze,siedem,osiem,dziewi,dziesi",optionals:"w|we,roku",short:"{d} {Month} {yyyy}",long:"{d} {Month} {yyyy} {H}:{mm}",full:"{Weekday}, {d} {Month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"o",ampm:"am,pm",modifiers:[{name:"day",src:"przedwczoraj",value:-2},{name:"day",src:"wczoraj",value:-1},{name:"day",src:"dzisiaj|dzi",value:0},{name:"day",src:"jutro",value:1},{name:"day",src:"pojutrze",value:2},{name:"sign",src:"temu|przed",value:-1},{name:"sign",src:"za",value:1},{name:"shift",src:"zeszy|zesza|ostatni|ostatnia",value:-1},{name:"shift",src:"nastpny|nastpna|nastpnego|przyszy|przysza|przyszego",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{month} {year}","{shift} {unit=5-7}","{0} {shift?} {weekday}"],timeParse:["{date} {month} {year?} {1}","{0} {shift?} {weekday}"]});Date.addLocale("pt",{plural:!0,months:"janeiro,fevereiro,maro,abril,maio,junho,julho,agosto,setembro,outubro,novembro,dezembro",weekdays:"domingo,segunda-feira,tera-feira,quarta-feira,quinta-feira,sexta-feira,sbado|sabado",units:"milisegundo:|s,segundo:|s,minuto:|s,hora:|s,dia:|s,semana:|s,ms|mses|mes|meses,ano:|s",numbers:"um,dois,trs|tres,quatro,cinco,seis,sete,oito,nove,dez,uma,duas",tokens:"a,de",short:"{d} de {month} de {yyyy}",long:"{d} de {month} de {yyyy} {H}:{mm}",full:"{Weekday}, {d} de {month} de {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarker:"s",ampm:"am,pm",modifiers:[{name:"day",src:"anteontem",value:-2},{name:"day",src:"ontem",value:-1},{name:"day",src:"hoje",value:0},{name:"day",src:"amanh:|a",value:1},{name:"sign",src:"atrs|atras|h|ha",value:-1},{name:"sign",src:"daqui a",value:1},{name:"shift",src:"passad:o|a",value:-1},{name:"shift",src:"prximo|prxima|proximo|proxima",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{0?} {unit=5-7} {shift}","{0?} {shift} {unit=5-7}"],timeParse:["{date?} {1?} {month} {1?} {year?}","{0?} {shift} {weekday}"]});Date.addLocale("ru",{months:":|,:|,:|,:|,:|,:|,:|,:|,:|,:|,:|,:|",weekdays:",,,,,,",units:":|||,:|||,:|||,:|||,|||,:||||,:||||,||||",numbers:":|,:|,,,,,,,,",tokens:"|,",short:"{d} {month} {yyyy} ",long:"{d} {month} {yyyy}  {H}:{mm}",full:"{Weekday} {d} {month} {yyyy}  {H}:{mm}:{ss}",relative:function(n,t,i,r){var f,e=n.toString().slice(-1),u;switch(!0){case n>=11&&n<=15:u=3;break;case e==1:u=1;break;case e>=2&&e<=4:u=2;break;default:u=3}f=n+" "+this.units[u*8+t];switch(r){case"duration":return f;case"past":return f+" ";case"future":return" "+f}},timeMarker:"",ampm:" , ",modifiers:[{name:"day",src:"",value:-2},{name:"day",src:"",value:-1},{name:"day",src:"",value:0},{name:"day",src:"",value:1},{name:"day",src:"",value:2},{name:"sign",src:"",value:-1},{name:"sign",src:"",value:1},{name:"shift",src:":||",value:-1},{name:"shift",src:":||",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{month} {year}","{0?} {shift} {unit=5-7}"],timeParse:["{date} {month} {year?} {1?}","{0?} {shift} {weekday}"]});Date.addLocale("sv",{plural:!0,months:"januari,februari,mars,april,maj,juni,juli,augusti,september,oktober,november,december",weekdays:"sndag|sondag,mndag:|en+mandag:|en,tisdag,onsdag,torsdag,fredag,lrdag|lordag",units:"millisekund:|er,sekund:|er,minut:|er,timm:e|ar,dag:|ar,veck:a|or|an,mnad:|er|en+manad:|er|en,r:||et+ar:||et",numbers:"en|ett,tv|tva,tre,fyra,fem,sex,sju,tta|atta,nio,tio",tokens:"den,fr|for",articles:"den",short:"den {d} {month} {yyyy}",long:"den {d} {month} {yyyy} {H}:{mm}",full:"{Weekday} den {d} {month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",ampm:"am,pm",modifiers:[{name:"day",src:"frrgr|i frrgr|ifrrgr|forrgar|i forrgar|iforrgar",value:-2},{name:"day",src:"gr|i gr|igr|gar|i gar|igar",value:-1},{name:"day",src:"dag|i dag|idag",value:0},{name:"day",src:"morgon|i morgon|imorgon",value:1},{name:"day",src:"ver morgon|vermorgon|i ver morgon|i vermorgon|ivermorgon|over morgon|overmorgon|i over morgon|i overmorgon|iovermorgon",value:2},{name:"sign",src:"sedan|sen",value:-1},{name:"sign",src:"om",value:1},{name:"shift",src:"i frra|frra|i forra|forra",value:-1},{name:"shift",src:"denna",value:0},{name:"shift",src:"nsta|nasta",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{1?} {num} {unit} {sign}","{shift} {unit=5-7}"],timeParse:["{0?} {weekday?} {date?} {month} {year}","{date} {month}","{shift} {weekday}"]});Date.addLocale("zh-CN",{variant:!0,monthSuffix:"",weekdays:"|,|,|,|,|,|,|",units:",,,,,|,,",tokens:"|",short:"{yyyy}{M}{d}",long:"{yyyy}{M}{d} {tt}{h}:{mm}",full:"{yyyy}{M}{d} {weekday} {tt}{h}:{mm}:{ss}",past:"{num}{unit}{sign}",future:"{num}{unit}{sign}",duration:"{num}{unit}",timeSuffixes:"|,?,",ampm:",",modifiers:[{name:"day",src:"",value:-2},{name:"day",src:"",value:-1},{name:"day",src:"",value:0},{name:"day",src:"",value:1},{name:"day",src:"",value:2},{name:"sign",src:"",value:-1},{name:"sign",src:"",value:1},{name:"shift",src:"|",value:-1},{name:"shift",src:"",value:0},{name:"shift",src:"|",value:1}],dateParse:["{num}{unit}{sign}","{shift}{unit=5-7}"],timeParse:["{shift}{weekday}","{year}{month?}?{date?}{0?}","{month}{date?}{0?}","{date}[]"]});Date.addLocale("zh-TW",{monthSuffix:"",weekdays:"|,|,|,|,|,|,|",units:",,,,,|,,",tokens:"|",short:"{yyyy}{M}{d}",long:"{yyyy}{M}{d} {tt}{h}:{mm}",full:"{yyyy}{M}{d} {Weekday} {tt}{h}:{mm}:{ss}",past:"{num}{unit}{sign}",future:"{num}{unit}{sign}",duration:"{num}{unit}",timeSuffixes:"|,?,",ampm:",",modifiers:[{name:"day",src:"",value:-2},{name:"day",src:"",value:-1},{name:"day",src:"",value:0},{name:"day",src:"",value:1},{name:"day",src:"",value:2},{name:"sign",src:"",value:-1},{name:"sign",src:"",value:1},{name:"shift",src:"|",value:-1},{name:"shift",src:"",value:0},{name:"shift",src:"|",value:1}],dateParse:["{num}{unit}{sign}","{shift}{unit=5-7}"],timeParse:["{shift}{weekday}","{year}{month?}?{date?}{0?}","{month}{date?}{0?}","{date}[]"]})}).call(this);
(function(n,t,i,r){"use strict";function hi(n,t,i){return setTimeout(li(n,i),t)}function it(n,t,i){return Array.isArray(n)?(v(n,i[t],i),!0):!1}function v(n,t,i){var u;if(n)if(n.forEach)n.forEach(t,i);else if(n.length!==r)for(u=0;u<n.length;)t.call(i,n[u],u,n),u++;else for(u in n)n.hasOwnProperty(u)&&t.call(i,n[u],u,n)}function k(n,t,i){for(var f=Object.keys(t),u=0;u<f.length;)(!i||i&&n[f[u]]===r)&&(n[f[u]]=t[f[u]]),u++;return n}function ci(n,t){return k(n,t,!0)}function o(n,t,i){var u=t.prototype,r;r=n.prototype=Object.create(u);r.constructor=n;r._super=u;i&&k(r,i)}function li(n,t){return function(){return n.apply(t,arguments)}}function ai(n,t){return typeof n==fr?n.apply(t?t[0]||r:r,t):n}function er(n,t){return n===r?t:n}function pt(n,t,i){v(bt(t),function(t){n.addEventListener(t,i,!1)})}function wt(n,t,i){v(bt(t),function(t){n.removeEventListener(t,i,!1)})}function or(n,t){while(n){if(n==t)return!0;n=n.parentNode}return!1}function d(n,t){return n.indexOf(t)>-1}function bt(n){return n.trim().split(/\s+/g)}function rt(n,t,i){if(n.indexOf&&!i)return n.indexOf(t);for(var r=0;r<n.length;){if(i&&n[r][i]==t||!i&&n[r]===t)return r;r++}return-1}function kt(n){return Array.prototype.slice.call(n,0)}function sr(n,t,i){for(var u=[],e=[],r=0,f;r<n.length;)f=t?n[r][t]:n[r],rt(e,f)<0&&u.push(n[r]),e[r]=f,r++;return i&&(u=t?u.sort(function(n,i){return n[t]>i[t]}):u.sort()),u}function dt(n,t){for(var i,u,e=t[0].toUpperCase()+t.slice(1),f=0;f<ur.length;){if(i=ur[f],u=i?i+e:t,u in n)return u;f++}return r}function hu(){return su++}function hr(n){var t=n.ownerDocument;return t.defaultView||t.parentWindow}function s(n,t){var i=this;this.manager=n;this.callback=t;this.element=n.element;this.target=n.options.inputTarget;this.domHandler=function(t){ai(n.options.enable,[n])&&i.handler(t)};this.init()}function vu(n){var t,i=n.options.inputClass;return t=i?i:cu?pi:lu?ri:cr?wi:ii,new t(n,yu)}function yu(n,t,i){var r=i.pointers.length,o=i.changedPointers.length,s=t&f&&r-o==0,h=t&(u|e)&&r-o==0;i.isFirst=!!s;i.isFinal=!!h;s&&(n.session={});i.eventType=t;pu(n,i);n.emit("hammer.input",i);n.recognize(i);n.session.prevInput=i}function pu(n,t){var i=n.session,u=t.pointers,e=u.length,f;i.firstInput||(i.firstInput=vr(t));e>1&&!i.firstMultiple?i.firstMultiple=vr(t):e===1&&(i.firstMultiple=!1);var o=i.firstInput,r=i.firstMultiple,s=r?r.center:o.center,h=t.center=yr(u);t.timeStamp=si();t.deltaTime=t.timeStamp-o.timeStamp;t.angle=yi(s,h);t.distance=ti(s,h);wu(i,t);t.offsetDirection=pr(t.deltaX,t.deltaY);t.scale=r?gu(r.pointers,u):1;t.rotation=r?du(r.pointers,u):0;bu(i,t);f=n.element;or(t.srcEvent.target,f)&&(f=t.srcEvent.target);t.target=f}function wu(n,t){var i=t.center,r=n.offsetDelta||{},e=n.prevDelta||{},o=n.prevInput||{};(t.eventType===f||o.eventType===u)&&(e=n.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=n.offsetDelta={x:i.x,y:i.y});t.deltaX=e.x+(i.x-r.x);t.deltaY=e.y+(i.y-r.y)}function bu(n,t){var i=n.lastInterval||t,c=t.timeStamp-i.timeStamp,f,o,s,h;if(t.eventType!=e&&(c>au||i.velocity===r)){var l=i.deltaX-t.deltaX,a=i.deltaY-t.deltaY,u=ku(c,l,a);o=u.x;s=u.y;f=ft(u.x)>ft(u.y)?u.x:u.y;h=pr(l,a);n.lastInterval=t}else f=i.velocity,o=i.velocityX,s=i.velocityY,h=i.direction;t.velocity=f;t.velocityX=o;t.velocityY=s;t.direction=h}function vr(n){for(var i=[],t=0;t<n.pointers.length;)i[t]={clientX:tt(n.pointers[t].clientX),clientY:tt(n.pointers[t].clientY)},t++;return{timeStamp:si(),pointers:i,center:yr(i),deltaX:n.deltaX,deltaY:n.deltaY}}function yr(n){var t=n.length;if(t===1)return{x:tt(n[0].clientX),y:tt(n[0].clientY)};for(var r=0,u=0,i=0;i<t;)r+=n[i].clientX,u+=n[i].clientY,i++;return{x:tt(r/t),y:tt(u/t)}}function ku(n,t,i){return{x:t/n||0,y:i/n||0}}function pr(n,t){return n===t?gt:ft(n)>=ft(t)?n>0?ot:st:t>0?ht:ct}function ti(n,t,i){i||(i=ar);var r=t[i[0]]-n[i[0]],u=t[i[1]]-n[i[1]];return Math.sqrt(r*r+u*u)}function yi(n,t,i){i||(i=ar);var r=t[i[0]]-n[i[0]],u=t[i[1]]-n[i[1]];return Math.atan2(u,r)*180/Math.PI}function du(n,t){return yi(t[1],t[0],ni)-yi(n[1],n[0],ni)}function gu(n,t){return ti(t[0],t[1],ni)/ti(n[0],n[1],ni)}function ii(){this.evEl=tf;this.evWin=rf;this.allow=!0;this.pressed=!1;s.apply(this,arguments)}function pi(){this.evEl=wr;this.evWin=br;s.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function kr(){this.evTarget=of;this.evWin=sf;this.started=!1;s.apply(this,arguments)}function hf(n,t){var i=kt(n.touches),r=kt(n.changedTouches);return t&(u|e)&&(i=sr(i.concat(r),"identifier",!0)),[i,r]}function ri(){this.evTarget=gr;this.targetIds={};s.apply(this,arguments)}function cf(n,t){var r=kt(n.touches),o=this.targetIds;if(t&(f|g)&&r.length===1)return o[r[0].identifier]=!0,[r,r];var i,s,h=kt(n.changedTouches),c=[],l=this.target;if(s=r.filter(function(n){return or(n.target,l)}),t===f)for(i=0;i<s.length;)o[s[i].identifier]=!0,i++;for(i=0;i<h.length;)o[h[i].identifier]&&c.push(h[i]),t&(u|e)&&delete o[h[i].identifier],i++;if(c.length)return[sr(s.concat(c),"identifier",!0),c]}function wi(){s.apply(this,arguments);var n=li(this.handler,this);this.touch=new ri(this.manager,n);this.mouse=new ii(this.manager,n)}function ki(n,t){this.manager=n;this.set(t)}function lf(n){if(d(n,lt))return lt;var t=d(n,at),i=d(n,vt);return t&&i?at+" "+vt:t||i?t?at:vt:d(n,bi)?bi:ru}function p(n){this.id=hu();this.manager=null;this.options=ci(n||{},this.defaults);this.options.enable=er(this.options.enable,!0);this.state=ui;this.simultaneous={};this.requireFail=[]}function af(n){return n&yt?"cancel":n&w?"end":n&ut?"move":n&h?"start":""}function uu(n){return n==ct?"down":n==ht?"up":n==ot?"left":n==st?"right":""}function fi(n,t){var i=t.manager;return i?i.get(n):n}function c(){p.apply(this,arguments)}function ei(){c.apply(this,arguments);this.pX=null;this.pY=null}function di(){c.apply(this,arguments)}function gi(){p.apply(this,arguments);this._timer=null;this._input=null}function nr(){c.apply(this,arguments)}function tr(){c.apply(this,arguments)}function oi(){p.apply(this,arguments);this.pTime=!1;this.pCenter=!1;this._timer=null;this._input=null;this.count=0}function b(n,t){return t=t||{},t.recognizers=er(t.recognizers,b.defaults.preset),new rr(n,t)}function rr(n,t){t=t||{};this.options=ci(t,b.defaults);this.options.inputTarget=this.options.inputTarget||n;this.handlers={};this.session={};this.recognizers=[];this.element=n;this.input=vu(this);this.touchAction=new ki(this,this.options.touchAction);eu(this,!0);v(t.recognizers,function(n){var t=this.add(new n[0](n[1]));n[2]&&t.recognizeWith(n[2]);n[3]&&t.requireFailure(n[3])},this)}function eu(n,t){var i=n.element;v(n.options.cssProps,function(n,r){i.style[dt(i.style,r)]=t?n:""})}function vf(n,i){var r=t.createEvent("Event");r.initEvent(n,!0,!0);r.gesture=i;i.target.dispatchEvent(r)}var ur=["","webkit","moz","MS","ms","o"],ou=t.createElement("div"),fr="function",tt=Math.round,ft=Math.abs,si=Date.now,su=1,cr="ontouchstart"in n,cu=dt(n,"PointerEvent")!==r,lu=cr&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),et="touch",vi="mouse",au=25,f=1,g=2,u=4,e=8,gt=1,ot=2,st=4,ht=8,ct=16,l=ot|st,nt=ht|ct,lr=l|nt,ar=["x","y"],ni=["clientX","clientY"],dr,gr,fu,ir;s.prototype={handler:function(){},init:function(){this.evEl&&pt(this.element,this.evEl,this.domHandler);this.evTarget&&pt(this.target,this.evTarget,this.domHandler);this.evWin&&pt(hr(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&wt(this.element,this.evEl,this.domHandler);this.evTarget&&wt(this.target,this.evTarget,this.domHandler);this.evWin&&wt(hr(this.element),this.evWin,this.domHandler)}};var nf={mousedown:f,mousemove:g,mouseup:u},tf="mousedown",rf="mousemove mouseup";o(ii,s,{handler:function(n){var t=nf[n.type];(t&f&&n.button===0&&(this.pressed=!0),t&g&&n.which!==1&&(t=u),this.pressed&&this.allow)&&(t&u&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[n],changedPointers:[n],pointerType:vi,srcEvent:n}))}});var uf={pointerdown:f,pointermove:g,pointerup:u,pointercancel:e,pointerout:e},ff={2:et,3:"pen",4:vi,5:"kinect"},wr="pointerdown",br="pointermove pointerup pointercancel";n.MSPointerEvent&&(wr="MSPointerDown",br="MSPointerMove MSPointerUp MSPointerCancel");o(pi,s,{handler:function(n){var t=this.store,o=!1,h=n.type.toLowerCase().replace("ms",""),r=uf[h],s=ff[n.pointerType]||n.pointerType,c=s==et,i=rt(t,n.pointerId,"pointerId");(r&f&&(n.button===0||c)?i<0&&(t.push(n),i=t.length-1):r&(u|e)&&(o=!0),i<0)||(t[i]=n,this.callback(this.manager,r,{pointers:t,changedPointers:[n],pointerType:s,srcEvent:n}),o&&t.splice(i,1))}});var ef={touchstart:f,touchmove:g,touchend:u,touchcancel:e},of="touchstart",sf="touchstart touchmove touchend touchcancel";o(kr,s,{handler:function(n){var i=ef[n.type],t;(i===f&&(this.started=!0),this.started)&&(t=hf.call(this,n,i),i&(u|e)&&t[0].length-t[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:t[0],changedPointers:t[1],pointerType:et,srcEvent:n}))}});dr={touchstart:f,touchmove:g,touchend:u,touchcancel:e};gr="touchstart touchmove touchend touchcancel";o(ri,s,{handler:function(n){var i=dr[n.type],t=cf.call(this,n,i);t&&this.callback(this.manager,i,{pointers:t[0],changedPointers:t[1],pointerType:et,srcEvent:n})}});o(wi,s,{handler:function(n,t,i){var r=i.pointerType==et,f=i.pointerType==vi;if(r)this.mouse.allow=!1;else if(f&&!this.mouse.allow)return;t&(u|e)&&(this.mouse.allow=!0);this.callback(n,t,i)},destroy:function(){this.touch.destroy();this.mouse.destroy()}});var nu=dt(ou.style,"touchAction"),tu=nu!==r,iu="compute",ru="auto",bi="manipulation",lt="none",at="pan-x",vt="pan-y";ki.prototype={set:function(n){n==iu&&(n=this.compute());tu&&(this.manager.element.style[nu]=n);this.actions=n.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var n=[];return v(this.manager.recognizers,function(t){ai(t.options.enable,[t])&&(n=n.concat(t.getTouchAction()))}),lf(n.join(" "))},preventDefaults:function(n){var t,i;if(!tu){if(t=n.srcEvent,i=n.offsetDirection,this.manager.session.prevented){t.preventDefault();return}var r=this.actions,u=d(r,lt),f=d(r,vt),e=d(r,at);if(u||f&&i&l||e&&i&nt)return this.preventSrc(t)}},preventSrc:function(n){this.manager.session.prevented=!0;n.preventDefault()}};var ui=1,h=2,ut=4,w=8,y=w,yt=16,a=32;p.prototype={defaults:{},set:function(n){return k(this.options,n),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(n){if(it(n,"recognizeWith",this))return this;var t=this.simultaneous;return n=fi(n,this),t[n.id]||(t[n.id]=n,n.recognizeWith(this)),this},dropRecognizeWith:function(n){return it(n,"dropRecognizeWith",this)?this:(n=fi(n,this),delete this.simultaneous[n.id],this)},requireFailure:function(n){if(it(n,"requireFailure",this))return this;var t=this.requireFail;return n=fi(n,this),rt(t,n)===-1&&(t.push(n),n.requireFailure(this)),this},dropRequireFailure:function(n){if(it(n,"dropRequireFailure",this))return this;n=fi(n,this);var t=rt(this.requireFail,n);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(n){return!!this.simultaneous[n.id]},emit:function(n){function i(i){r.manager.emit(r.options.event+(i?af(t):""),n)}var r=this,t=this.state;t<w&&i(!0);i();t>=w&&i(!0)},tryEmit:function(n){if(this.canEmit())return this.emit(n);this.state=a},canEmit:function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(a|ui)))return!1;n++}return!0},recognize:function(n){var t=k({},n);if(!ai(this.options.enable,[this,t])){this.reset();this.state=a;return}this.state&(y|yt|a)&&(this.state=ui);this.state=this.process(t);this.state&(h|ut|w|yt)&&this.tryEmit(t)},process:function(){},getTouchAction:function(){},reset:function(){}};o(c,p,{defaults:{pointers:1},attrTest:function(n){var t=this.options.pointers;return t===0||n.pointers.length===t},process:function(n){var t=this.state,i=n.eventType,r=t&(h|ut),f=this.attrTest(n);return r&&(i&e||!f)?t|yt:r||f?i&u?t|w:(t&h)?t|ut:h:a}});o(ei,c,{defaults:{event:"pan",threshold:10,pointers:1,direction:lr},getTouchAction:function(){var t=this.options.direction,n=[];return t&l&&n.push(vt),t&nt&&n.push(at),n},directionTest:function(n){var i=this.options,r=!0,u=n.distance,t=n.direction,f=n.deltaX,e=n.deltaY;return t&i.direction||(i.direction&l?(t=f===0?gt:f<0?ot:st,r=f!=this.pX,u=Math.abs(n.deltaX)):(t=e===0?gt:e<0?ht:ct,r=e!=this.pY,u=Math.abs(n.deltaY))),n.direction=t,r&&u>i.threshold&&t&i.direction},attrTest:function(n){return c.prototype.attrTest.call(this,n)&&(this.state&h||!(this.state&h)&&this.directionTest(n))},emit:function(n){this.pX=n.deltaX;this.pY=n.deltaY;var t=uu(n.direction);t&&this.manager.emit(this.options.event+t,n);this._super.emit.call(this,n)}});o(di,c,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[lt]},attrTest:function(n){return this._super.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&h)},emit:function(n){if(this._super.emit.call(this,n),n.scale!==1){var t=n.scale<1?"in":"out";this.manager.emit(this.options.event+t,n)}}});o(gi,p,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[ru]},process:function(n){var t=this.options,i=n.pointers.length===t.pointers,r=n.distance<t.threshold,o=n.deltaTime>t.time;if(this._input=n,!r||!i||n.eventType&(u|e)&&!o)this.reset();else if(n.eventType&f)this.reset(),this._timer=hi(function(){this.state=y;this.tryEmit()},t.time,this);else if(n.eventType&u)return y;return a},reset:function(){clearTimeout(this._timer)},emit:function(n){this.state===y&&(n&&n.eventType&u?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=si(),this.manager.emit(this.options.event,this._input)))}});o(nr,c,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[lt]},attrTest:function(n){return this._super.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&h)}});o(tr,c,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:l|nt,pointers:1},getTouchAction:function(){return ei.prototype.getTouchAction.call(this)},attrTest:function(n){var t=this.options.direction,i;return t&(l|nt)?i=n.velocity:t&l?i=n.velocityX:t&nt&&(i=n.velocityY),this._super.attrTest.call(this,n)&&t&n.direction&&n.distance>this.options.threshold&&ft(i)>this.options.velocity&&n.eventType&u},emit:function(n){var t=uu(n.direction);t&&this.manager.emit(this.options.event+t,n);this.manager.emit(this.options.event,n)}});o(oi,p,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[bi]},process:function(n){var t=this.options,o=n.pointers.length===t.pointers,s=n.distance<t.threshold,c=n.deltaTime<t.time,i,r,e;if(this.reset(),n.eventType&f&&this.count===0)return this.failTimeout();if(s&&c&&o){if(n.eventType!=u)return this.failTimeout();if(i=this.pTime?n.timeStamp-this.pTime<t.interval:!0,r=!this.pCenter||ti(this.pCenter,n.center)<t.posThreshold,this.pTime=n.timeStamp,this.pCenter=n.center,r&&i?this.count+=1:this.count=1,this._input=n,e=this.count%t.taps,e===0)return this.hasRequireFailures()?(this._timer=hi(function(){this.state=y;this.tryEmit()},t.interval,this),h):y}return a},failTimeout:function(){return this._timer=hi(function(){this.state=a},this.options.interval,this),a},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==y&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});b.VERSION="2.0.4";b.defaults={domEvents:!1,touchAction:iu,enable:!0,inputTarget:null,inputClass:null,preset:[[nr,{enable:!1}],[di,{enable:!1},["rotate"]],[tr,{direction:l}],[ei,{direction:l},["swipe"]],[oi],[oi,{event:"doubletap",taps:2},["tap"]],[gi]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};fu=1;ir=2;rr.prototype={set:function(n){return k(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},stop:function(n){this.session.stopped=n?ir:fu},recognize:function(n){var r=this.session,i,f,t,u;if(!r.stopped)for(this.touchAction.preventDefaults(n),f=this.recognizers,t=r.curRecognizer,(!t||t&&t.state&y)&&(t=r.curRecognizer=null),u=0;u<f.length;)i=f[u],r.stopped!==ir&&(!t||i==t||i.canRecognizeWith(t))?i.recognize(n):i.reset(),!t&&i.state&(h|ut|w)&&(t=r.curRecognizer=i),u++},get:function(n){var i,t;if(n instanceof p)return n;for(i=this.recognizers,t=0;t<i.length;t++)if(i[t].options.event==n)return i[t];return null},add:function(n){if(it(n,"add",this))return this;var t=this.get(n.options.event);return t&&this.remove(t),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},remove:function(n){if(it(n,"remove",this))return this;var t=this.recognizers;return n=this.get(n),t.splice(rt(t,n),1),this.touchAction.update(),this},on:function(n,t){var i=this.handlers;return v(bt(n),function(n){i[n]=i[n]||[];i[n].push(t)}),this},off:function(n,t){var i=this.handlers;return v(bt(n),function(n){t?i[n].splice(rt(i[n],t),1):delete i[n]}),this},emit:function(n,t){var i,r;if(this.options.domEvents&&vf(n,t),i=this.handlers[n]&&this.handlers[n].slice(),i&&i.length)for(t.type=n,t.preventDefault=function(){t.srcEvent.preventDefault()},r=0;r<i.length;)i[r](t),r++},destroy:function(){this.element&&eu(this,!1);this.handlers={};this.session={};this.input.destroy();this.element=null}};k(b,{INPUT_START:f,INPUT_MOVE:g,INPUT_END:u,INPUT_CANCEL:e,STATE_POSSIBLE:ui,STATE_BEGAN:h,STATE_CHANGED:ut,STATE_ENDED:w,STATE_RECOGNIZED:y,STATE_CANCELLED:yt,STATE_FAILED:a,DIRECTION_NONE:gt,DIRECTION_LEFT:ot,DIRECTION_RIGHT:st,DIRECTION_UP:ht,DIRECTION_DOWN:ct,DIRECTION_HORIZONTAL:l,DIRECTION_VERTICAL:nt,DIRECTION_ALL:lr,Manager:rr,Input:s,TouchAction:ki,TouchInput:ri,MouseInput:ii,PointerEventInput:pi,TouchMouseInput:wi,SingleTouchInput:kr,Recognizer:p,AttrRecognizer:c,Tap:oi,Pan:ei,Swipe:tr,Pinch:di,Rotate:nr,Press:gi,on:pt,off:wt,each:v,merge:ci,extend:k,inherit:o,bindFn:li,prefixed:dt});typeof define==fr&&define.amd?define(function(){return b}):typeof module!="undefined"&&module.exports?module.exports=b:n[i]=b})(window,document,"Hammer");
(function(n){n.event.special.doubletap={bindType:"touchend",delegateType:"touchend",handle:function(n){var r=n.handleObj,t=jQuery.data(n.target),u=(new Date).getTime(),f=t.lastTouch?u-t.lastTouch:0,i=i==null?300:i;f<i&&f>30?(t.lastTouch=null,n.type=r.origType,["clientX","clientY","pageX","pageY"].forEach(function(t){n[t]=n.originalEvent.changedTouches[0][t]}),r.handler.apply(this,arguments)):t.lastTouch=u}}})(jQuery);
(function(){var n=!0;(function(t){var u=this||eval("this"),i=u.document,e=u.navigator,r=u.jQuery,f=u.JSON;(function(n){typeof define=="function"&&define.amd?define(["exports","require"],n):typeof exports=="object"&&typeof module=="object"?n(module.exports||exports):n(u.ko={})})(function(o,s){function nt(n,t){var i=n===null||typeof n in ft;return i?n===t:!1}function et(n,i){var r;return function(){r||(r=h.utils.setTimeout(function(){r=t;n()},i))}}function ot(n,t){var i;return function(){clearTimeout(i);i=h.utils.setTimeout(n,t)}}function st(n){var t=this;return n&&h.utils.objectForEach(n,function(n,i){var r=h.extenders[n];typeof r=="function"&&(t=r(t,i)||t)}),t}function ht(n,t){t&&t!==w?t==="beforeChange"?this._limitBeforeChange(n):this._origNotifySubscribers(n,t):this._limitChange(n)}function ct(n,t){t!==null&&t.dispose&&t.dispose()}function lt(n,t){var i=this.computedObservable,r=i[c];r.isDisposed||(this.disposalCount&&this.disposalCandidates[t]?(i.addDependencyTracking(t,n,this.disposalCandidates[t]),this.disposalCandidates[t]=null,--this.disposalCount):r.dependencyTracking[t]||i.addDependencyTracking(t,n,r.isSleeping?{_target:n}:i.subscribeToDependency(n)))}function yt(n){h.bindingHandlers[n]={init:function(t,i,r,u,f){var e=function(){var t={};return t[n]=i(),t};return h.bindingHandlers.event.init.call(this,t,e,r,u,f)}}}function ut(n,t,i,r){h.bindingHandlers[n]={init:function(n,u,f,e,o){var c,s;return h.computed(function(){var l=u(),a=h.utils.unwrapObservable(l),f=!i!=!a,e=!s,v=e||t||f!==c;v&&(e&&h.computedContext.getDependenciesCount()&&(s=h.utils.cloneNodes(h.virtualElements.childNodes(n),!0)),f?(e||h.virtualElements.setDomNodeChildren(n,h.utils.cloneNodes(s)),h.applyBindingsToDescendants(r?r(o,l):o,n)):h.virtualElements.emptyNode(n),c=f)},null,{disposeWhenNodeIsRemoved:n}),{controlsDescendantBindings:!0}}};h.expressionRewriting.bindingRewriteValidators[n]=!1;h.virtualElements.allowedBindings[n]=!0}var h=typeof o!="undefined"?o:{},ft,w,a,y,v,p,b,c,tt,it,rt,k,d,g;h.exportSymbol=function(n,t){for(var i=n.split("."),r=h,u=0;u<i.length-1;u++)r=r[i[u]];r[i[i.length-1]]=t};h.exportProperty=function(n,t,i){n[t]=i};h.version="3.5.0-pre";h.exportSymbol("version",h.version);h.options={deferUpdates:!1,useOnlyNativeEvents:!1};h.utils=function(){function c(n,t){for(var i in n)n.hasOwnProperty(i)&&t(i,n[i])}function a(n,t){if(t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function v(n,t){return n.__proto__=t,n}function tt(n,t){if(h.utils.tagNameLower(n)!=="input"||!n.type||t.toLowerCase()!="click")return!1;var i=n.type;return i=="checkbox"||i=="radio"}function it(n,t,i){var r;t&&(typeof n.classList=="object"?(r=n.classList[i?"add":"remove"],h.utils.arrayForEach(t.match(s),function(t){r.call(n.classList,t)})):typeof n.className.baseVal=="string"?w(n.className,"baseVal",t,i):w(n,"className",t,i))}function w(n,t,i,r){var u=n[t].match(s)||[];h.utils.arrayForEach(i.match(s),function(n){h.utils.addOrRemoveItem(u,n,r)});n[t]=u.join(" ")}var y={__proto__:[]}instanceof Array,b=!n&&typeof Symbol=="function",l={},p={},k=e&&/Firefox\/2/i.test(e.userAgent)?"KeyboardEvent":"UIEvents",s;l[k]=["keyup","keydown","keypress"];l.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"];c(l,function(n,t){if(t.length)for(var i=0,r=t.length;i<r;i++)p[t[i]]=n});var d={propertychange:!0},o=i&&function(){for(var n=3,r=i.createElement("div"),u=r.getElementsByTagName("i");r.innerHTML="<!--[if gt IE "+ ++n+"]><i><\/i><![endif]-->",u[0];);return n>4?n:t}(),g=o===6,nt=o===7;return s=/\S+/g,{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(n,t){for(var i=0,r=n.length;i<r;i++)t(n[i],i)},arrayIndexOf:function(n,t){if(typeof Array.prototype.indexOf=="function")return Array.prototype.indexOf.call(n,t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},arrayFirst:function(n,t,i){for(var r=0,u=n.length;r<u;r++)if(t.call(i,n[r],r))return n[r];return null},arrayRemoveItem:function(n,t){var i=h.utils.arrayIndexOf(n,t);i>0?n.splice(i,1):i===0&&n.shift()},arrayGetDistinctValues:function(n){var i,t,r;for(n=n||[],i=[],t=0,r=n.length;t<r;t++)h.utils.arrayIndexOf(i,n[t])<0&&i.push(n[t]);return i},arrayMap:function(n,t){var r,i,u;for(n=n||[],r=[],i=0,u=n.length;i<u;i++)r.push(t(n[i],i));return r},arrayFilter:function(n,t){var r,i,u;for(n=n||[],r=[],i=0,u=n.length;i<u;i++)t(n[i],i)&&r.push(n[i]);return r},arrayPushAll:function(n,t){if(t instanceof Array)n.push.apply(n,t);else for(var i=0,r=t.length;i<r;i++)n.push(t[i]);return n},addOrRemoveItem:function(n,t,i){var r=h.utils.arrayIndexOf(h.utils.peekObservable(n),t);r<0?i&&n.push(t):i||n.splice(r,1)},canSetPrototype:y,extend:a,setPrototypeOf:v,setPrototypeOfOrExtend:y?v:a,objectForEach:c,objectMap:function(n,t){var r,i;if(!n)return n;r={};for(i in n)n.hasOwnProperty(i)&&(r[i]=t(n[i],i,n));return r},emptyDomNode:function(n){while(n.firstChild)h.removeNode(n.firstChild)},moveCleanedNodesToContainerElement:function(n){for(var t=h.utils.makeArray(n),f=t[0]&&t[0].ownerDocument||i,u=f.createElement("div"),r=0,e=t.length;r<e;r++)u.appendChild(h.cleanNode(t[r]));return u},cloneNodes:function(n,t){for(var r,i=0,f=n.length,u=[];i<f;i++)r=n[i].cloneNode(!0),u.push(t?h.cleanNode(r):r);return u},setDomNodeChildren:function(n,t){if(h.utils.emptyDomNode(n),t)for(var i=0,r=t.length;i<r;i++)n.appendChild(t[i])},replaceDomNodes:function(n,t){var r=n.nodeType?[n]:n,f,e,i,u;if(r.length>0){for(f=r[0],e=f.parentNode,i=0,u=t.length;i<u;i++)e.insertBefore(t[i],f);for(i=0,u=r.length;i<u;i++)h.removeNode(r[i])}},fixUpContinuousNodeArray:function(n,t){if(n.length){for(t=t.nodeType===8&&t.parentNode||t;n.length&&n[0].parentNode!==t;)n.splice(0,1);while(n.length>1&&n[n.length-1].parentNode!==t)n.length--;if(n.length>1){var i=n[0],r=n[n.length-1];for(n.length=0;i!==r;)n.push(i),i=i.nextSibling;n.push(r)}}return n},setOptionNodeSelectionState:function(n,t){o<7?n.setAttribute("selected",t):n.selected=t},stringTrim:function(n){return n===null||n===t?"":n.trim?n.trim():n.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(n,t){return(n=n||"",t.length>n.length)?!1:n.substring(0,t.length)===t},domNodeIsContainedBy:function(n,t){if(n===t)return!0;if(n.nodeType===11)return!1;if(t.contains)return t.contains(n.nodeType===3?n.parentNode:n);if(t.compareDocumentPosition)return(t.compareDocumentPosition(n)&16)==16;while(n&&n!=t)n=n.parentNode;return!!n},domNodeIsAttachedToDocument:function(n){return h.utils.domNodeIsContainedBy(n,n.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(n){return!!h.utils.arrayFirst(n,h.utils.domNodeIsAttachedToDocument)},tagNameLower:function(n){return n&&n.tagName&&n.tagName.toLowerCase()},catchFunctionErrors:function(n){return h.onError?function(){try{return n.apply(this,arguments)}catch(t){h.onError&&h.onError(t);throw t;}}:n},setTimeout:function(n,t){return setTimeout(h.utils.catchFunctionErrors(n),t)},deferError:function(n){setTimeout(function(){h.onError&&h.onError(n);throw n;},0)},registerEventHandler:function(n,t,i){var u=h.utils.catchFunctionErrors(i),s=o&&d[t],f,e;if(h.options.useOnlyNativeEvents||s||!r)if(s||typeof n.addEventListener!="function")if(typeof n.attachEvent!="undefined")f=function(t){u.call(n,t)},e="on"+t,n.attachEvent(e,f),h.utils.domNodeDisposal.addDisposeCallback(n,function(){n.detachEvent(e,f)});else throw new Error("Browser doesn't support addEventListener or attachEvent");else n.addEventListener(t,u,!1);else r(n).bind(t,u)},triggerEvent:function(n,t){var f,o,e;if(!(n&&n.nodeType))throw new Error("element must be a DOM node when calling triggerEvent");if(f=tt(n,t),h.options.useOnlyNativeEvents||!r||f)if(typeof i.createEvent=="function")if(typeof n.dispatchEvent=="function")o=p[t]||"HTMLEvents",e=i.createEvent(o),e.initEvent(t,!0,!0,u,0,0,0,0,0,!1,!1,!1,!1,0,n),n.dispatchEvent(e);else throw new Error("The supplied element doesn't support dispatchEvent");else if(f&&n.click)n.click();else if(typeof n.fireEvent!="undefined")n.fireEvent("on"+t);else throw new Error("Browser doesn't support triggering events");else r(n).trigger(t)},unwrapObservable:function(n){return h.isObservable(n)?n():n},peekObservable:function(n){return h.isObservable(n)?n.peek():n},toggleDomNodeCssClass:it,setTextContent:function(n,i){var r=h.utils.unwrapObservable(i),u;(r===null||r===t)&&(r="");u=h.virtualElements.firstChild(n);!u||u.nodeType!=3||h.virtualElements.nextSibling(u)?h.virtualElements.setDomNodeChildren(n,[n.ownerDocument.createTextNode(r)]):u.data=r;h.utils.forceRefresh(n)},setElementName:function(n,t){if(n.name=t,o<=7)try{n.mergeAttributes(i.createElement("<input name='"+n.name+"'/>"),!1)}catch(r){}},forceRefresh:function(n){if(o>=9){var t=n.nodeType==1?n:n.parentNode;t.style&&(t.style.zoom=t.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(n){if(o){var t=n.style.width;n.style.width=0;n.style.width=t}},range:function(n,t){var r,i;for(n=h.utils.unwrapObservable(n),t=h.utils.unwrapObservable(t),r=[],i=n;i<=t;i++)r.push(i);return r},makeArray:function(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(n[t]);return i},createSymbolOrString:function(n){return b?Symbol(n):n},isIe6:g,isIe7:nt,ieVersion:o,getFormFields:function(n,t){for(var r=h.utils.makeArray(n.getElementsByTagName("input")).concat(h.utils.makeArray(n.getElementsByTagName("textarea"))),f=typeof t=="string"?function(n){return n.name===t}:function(n){return t.test(n.name)},u=[],i=r.length-1;i>=0;i--)f(r[i])&&u.push(r[i]);return u},parseJson:function(n){return typeof n=="string"&&(n=h.utils.stringTrim(n),n)?f&&f.parse?f.parse(n):new Function("return "+n)():null},stringifyJson:function(n,t,i){if(!f||!f.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return f.stringify(h.utils.unwrapObservable(n),t,i)},postJson:function(n,t,r){var l,o,s,f,u,a,e;r=r||{};var v=r.params||{},y=r.includeFields||this.fieldsIncludedWithJsonPost,p=n;if(typeof n=="object"&&h.utils.tagNameLower(n)==="form")for(l=n,p=l.action,o=y.length-1;o>=0;o--)for(s=h.utils.getFormFields(l,y[o]),f=s.length-1;f>=0;f--)v[s[f].name]=s[f].value;t=h.utils.unwrapObservable(t);u=i.createElement("form");u.style.display="none";u.action=p;u.method="post";for(a in t)e=i.createElement("input"),e.type="hidden",e.name=a,e.value=h.utils.stringifyJson(h.utils.unwrapObservable(t[a])),u.appendChild(e);c(v,function(n,t){var r=i.createElement("input");r.type="hidden";r.name=n;r.value=t;u.appendChild(r)});i.body.appendChild(u);r.submitter?r.submitter(u):u.submit();setTimeout(function(){u.parentNode.removeChild(u)},0)}}}();h.exportSymbol("utils",h.utils);h.exportSymbol("utils.arrayForEach",h.utils.arrayForEach);h.exportSymbol("utils.arrayFirst",h.utils.arrayFirst);h.exportSymbol("utils.arrayFilter",h.utils.arrayFilter);h.exportSymbol("utils.arrayGetDistinctValues",h.utils.arrayGetDistinctValues);h.exportSymbol("utils.arrayIndexOf",h.utils.arrayIndexOf);h.exportSymbol("utils.arrayMap",h.utils.arrayMap);h.exportSymbol("utils.arrayPushAll",h.utils.arrayPushAll);h.exportSymbol("utils.arrayRemoveItem",h.utils.arrayRemoveItem);h.exportSymbol("utils.extend",h.utils.extend);h.exportSymbol("utils.fieldsIncludedWithJsonPost",h.utils.fieldsIncludedWithJsonPost);h.exportSymbol("utils.getFormFields",h.utils.getFormFields);h.exportSymbol("utils.peekObservable",h.utils.peekObservable);h.exportSymbol("utils.postJson",h.utils.postJson);h.exportSymbol("utils.parseJson",h.utils.parseJson);h.exportSymbol("utils.registerEventHandler",h.utils.registerEventHandler);h.exportSymbol("utils.stringifyJson",h.utils.stringifyJson);h.exportSymbol("utils.range",h.utils.range);h.exportSymbol("utils.toggleDomNodeCssClass",h.utils.toggleDomNodeCssClass);h.exportSymbol("utils.triggerEvent",h.utils.triggerEvent);h.exportSymbol("utils.unwrapObservable",h.utils.unwrapObservable);h.exportSymbol("utils.objectForEach",h.utils.objectForEach);h.exportSymbol("utils.addOrRemoveItem",h.utils.addOrRemoveItem);h.exportSymbol("utils.setTextContent",h.utils.setTextContent);h.exportSymbol("unwrap",h.utils.unwrapObservable);Function.prototype.bind||(Function.prototype.bind=function(n){var t=this,i;return arguments.length===1?function(){return t.apply(n,arguments)}:(i=Array.prototype.slice.call(arguments,1),function(){var r=i.slice(0);return r.push.apply(r,arguments),t.apply(n,r)})});h.utils.domData=new function(){function r(r,f){var e=r[n],o=e&&e!=="null"&&i[e];if(!o){if(!f)return t;e=r[n]="ko"+u++;i[e]={}}return i[e]}var u=0,n="__ko__"+(new Date).getTime(),i={};return{get:function(n,i){var u=r(n,!1);return u===t?t:u[i]},set:function(n,i,u){if(u!==t||r(n,!1)!==t){var f=r(n,!0);f[i]=u}},clear:function(t){var r=t[n];return r?(delete i[r],t[n]=null,!0):!1},nextKey:function(){return u+++n}}};h.exportSymbol("utils.domData",h.utils.domData);h.exportSymbol("utils.domData.clear",h.utils.domData.clear);h.utils.domNodeDisposal=new function(){function i(i,r){var u=h.utils.domData.get(i,n);return u===t&&r&&(u=[],h.utils.domData.set(i,n,u)),u}function o(i){h.utils.domData.set(i,n,t)}function u(n){var t=i(n,!1),r;if(t)for(t=t.slice(0),r=0;r<t.length;r++)t[r](n);h.utils.domData.clear(n);h.utils.domNodeDisposal.cleanExternalData(n);f[n.nodeType]&&s(n)}function s(n){for(var t,i=n.firstChild;t=i;)i=t.nextSibling,t.nodeType===8&&u(t)}var n=h.utils.domData.nextKey(),e={1:!0,8:!0,9:!0},f={1:!0,9:!0};return{addDisposeCallback:function(n,t){if(typeof t!="function")throw new Error("Callback must be a function");i(n,!0).push(t)},removeDisposeCallback:function(n,t){var r=i(n,!1);r&&(h.utils.arrayRemoveItem(r,t),r.length==0&&o(n))},cleanNode:function(n){var t,i,r;if(e[n.nodeType]&&(u(n),f[n.nodeType]))for(t=[],h.utils.arrayPushAll(t,n.getElementsByTagName("*")),i=0,r=t.length;i<r;i++)u(t[i]);return n},removeNode:function(n){h.cleanNode(n);n.parentNode&&n.parentNode.removeChild(n)},cleanExternalData:function(n){r&&typeof r.cleanData=="function"&&r.cleanData([n])}}};h.cleanNode=h.utils.domNodeDisposal.cleanNode;h.removeNode=h.utils.domNodeDisposal.removeNode;h.exportSymbol("cleanNode",h.cleanNode);h.exportSymbol("removeNode",h.removeNode);h.exportSymbol("utils.domNodeDisposal",h.utils.domNodeDisposal);h.exportSymbol("utils.domNodeDisposal.addDisposeCallback",h.utils.domNodeDisposal.addDisposeCallback);h.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",h.utils.domNodeDisposal.removeDisposeCallback),function(){function l(n){var t=n.match(/^<([a-z]+)[ >]/);return t&&c[t[1]]||s}function a(n,t){t||(t=i);var e=t.parentWindow||t.defaultView||u,c=h.utils.stringTrim(n).toLowerCase(),r=t.createElement("div"),f=l(c),a=f[0],s="ignored<div>"+f[1]+n+f[2]+"<\/div>";for(typeof e.innerShiv=="function"?r.appendChild(e.innerShiv(s)):(o&&t.appendChild(r),r.innerHTML=s,o&&r.parentNode.removeChild(r));a--;)r=r.lastChild;return h.utils.makeArray(r.lastChild.childNodes)}function v(n,t){var u,i;if(r.parseHTML)return r.parseHTML(n,t)||[];if(u=r.clean([n],t),u&&u[0]){for(i=u[0];i.parentNode&&i.parentNode.nodeType!==11;)i=i.parentNode;i.parentNode&&i.parentNode.removeChild(i)}return u}var s=[0,"",""],n=[1,"<table>","<\/table>"],f=[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],e=[1,"<select multiple='multiple'>","<\/select>"],c={thead:n,tbody:n,tfoot:n,tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:f,th:f,option:e,optgroup:e},o=h.utils.ieVersion<=8;h.utils.parseHtmlFragment=function(n,t){return r?v(n,t):a(n,t)};h.utils.setHtml=function(n,i){var f,u;if(h.utils.emptyDomNode(n),i=h.utils.unwrapObservable(i),i!==null&&i!==t)if(typeof i!="string"&&(i=i.toString()),r)r(n).html(i);else for(f=h.utils.parseHtmlFragment(i,n.ownerDocument),u=0;u<f.length;u++)n.appendChild(f[u])}}();h.exportSymbol("utils.parseHtmlFragment",h.utils.parseHtmlFragment);h.exportSymbol("utils.setHtml",h.utils.setHtml);h.memoization=function(){function i(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function u(){return i()+i()}function r(n,t){var i;if(n)if(n.nodeType==8)i=h.memoization.parseMemoText(n.nodeValue),i!=null&&t.push({domNode:n,memoId:i});else if(n.nodeType==1)for(var u=0,f=n.childNodes,e=f.length;u<e;u++)r(f[u],t)}var n={};return{memoize:function(t){if(typeof t!="function")throw new Error("You can only pass a function to ko.memoization.memoize()");var i=u();return n[i]=t,"<!--[ko_memo:"+i+"]-->"},unmemoize:function(i,r){var u=n[i];if(u===t)throw new Error("Couldn't find any memo with ID "+i+". Perhaps it's already been unmemoized.");try{return u.apply(null,r||[]),!0}finally{delete n[i]}},unmemoizeDomNodeAndDescendants:function(n,t){var f=[],u,o,i,e;for(r(n,f),u=0,o=f.length;u<o;u++)i=f[u].domNode,e=[i],t&&h.utils.arrayPushAll(e,t),h.memoization.unmemoize(f[u].memoId,e),i.nodeValue="",i.parentNode&&i.parentNode.removeChild(i)},parseMemoText:function(n){var t=n.match(/^\[ko_memo\:(.*?)\]$/);return t?t[1]:null}}}();h.exportSymbol("memoization",h.memoization);h.exportSymbol("memoization.memoize",h.memoization.memoize);h.exportSymbol("memoization.unmemoize",h.memoization.unmemoize);h.exportSymbol("memoization.parseMemoText",h.memoization.parseMemoText);h.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",h.memoization.unmemoizeDomNodeAndDescendants);h.tasks=function(){function o(){var i,u,f;if(n)for(i=n,u=0;t<n;)if(f=r[t++]){if(t>i){if(++u>=5e3){t=n;h.utils.deferError(Error("'Too much recursion' after processing "+u+" task groups."));break}i=n}try{f()}catch(e){h.utils.deferError(e)}}}function s(){o();t=n=r.length=0}function c(){h.tasks.scheduler(s)}var f,r=[],n=0,e=1,t=0;return f=u.MutationObserver?function(n){var t=i.createElement("div");return new MutationObserver(n).observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}}(s):i&&"onreadystatechange"in i.createElement("script")?function(n){var t=i.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null;i.documentElement.removeChild(t);t=null;n()};i.documentElement.appendChild(t)}:function(n){setTimeout(n,0)},{scheduler:f,schedule:function(t){return n||c(),r[n++]=t,e++},cancel:function(i){var u=i-(e-n);u>=t&&u<n&&(r[u]=null)},resetForTesting:function(){var i=n-t;return t=n=r.length=0,i},runEarly:o}}();h.exportSymbol("tasks",h.tasks);h.exportSymbol("tasks.schedule",h.tasks.schedule);h.exportSymbol("tasks.runEarly",h.tasks.runEarly);h.extenders={throttle:function(n,t){n.throttleEvaluation=t;var i=null;return h.dependentObservable({read:n,write:function(r){clearTimeout(i);i=h.utils.setTimeout(function(){n(r)},t)}})},rateLimit:function(n,t){var i,r,u;typeof t=="number"?i=t:(i=t.timeout,r=t.method);n._deferUpdates=!1;u=r=="notifyWhenChangesStop"?ot:et;n.limit(function(n){return u(n,i)})},deferred:function(n,i){if(i!==!0)throw new Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");n._deferUpdates||(n._deferUpdates=!0,n.limit(function(i){var r;return function(){h.tasks.cancel(r);r=h.tasks.schedule(i);n.notifySubscribers(t,"dirty")}}))},notify:function(n,t){n.equalityComparer=t=="always"?null:nt}};ft={undefined:1,boolean:1,number:1,string:1};h.exportSymbol("extenders",h.extenders);h.subscription=function(n,t,i){this._target=n;this.callback=t;this.disposeCallback=i;this.isDisposed=!1;h.exportProperty(this,"dispose",this.dispose)};h.subscription.prototype.dispose=function(){this.isDisposed=!0;this.disposeCallback()};h.subscribable=function(){h.utils.setPrototypeOfOrExtend(this,a);a.init(this)};w="change";a={init:function(n){n._subscriptions={};n._versionNumber=1},subscribe:function(n,t,i){var r=this,f,u;return i=i||w,f=t?n.bind(t):n,u=new h.subscription(r,f,function(){h.utils.arrayRemoveItem(r._subscriptions[i],u);r.afterSubscriptionRemove&&r.afterSubscriptionRemove(i)}),r.beforeSubscriptionAdd&&r.beforeSubscriptionAdd(i),r._subscriptions[i]||(r._subscriptions[i]=[]),r._subscriptions[i].push(u),u},notifySubscribers:function(n,t){if(t=t||w,t===w&&this.updateVersion(),this.hasSubscriptionsForEvent(t))try{h.dependencyDetection.begin();for(var u=this._subscriptions[t].slice(0),r=0,i;i=u[r];++r)i.isDisposed||i.callback(n)}finally{h.dependencyDetection.end()}},getVersion:function(){return this._versionNumber},hasChanged:function(n){return this.getVersion()!==n},updateVersion:function(){++this._versionNumber},limit:function(n){var t=this,e=h.isObservable(t),r,u,i,o="beforeChange",f;t._origNotifySubscribers||(t._origNotifySubscribers=t.notifySubscribers,t.notifySubscribers=ht);f=n(function(){t._notificationIsPending=!1;e&&i===t&&(i=t());r=!1;t.isDifferent(u,i)&&t._origNotifySubscribers(u=i)});t._limitChange=function(n){t._notificationIsPending=r=!0;i=n;f()};t._limitBeforeChange=function(n){r||(u=n,t._origNotifySubscribers(n,o))}},hasSubscriptionsForEvent:function(n){return this._subscriptions[n]&&this._subscriptions[n].length},getSubscriptionsCount:function(n){if(n)return this._subscriptions[n]&&this._subscriptions[n].length||0;var t=0;return h.utils.objectForEach(this._subscriptions,function(n,i){n!=="dirty"&&(t+=i.length)}),t},isDifferent:function(n,t){return!this.equalityComparer||!this.equalityComparer(n,t)},extend:st};h.exportProperty(a,"subscribe",a.subscribe);h.exportProperty(a,"extend",a.extend);h.exportProperty(a,"getSubscriptionsCount",a.getSubscriptionsCount);h.utils.canSetPrototype&&h.utils.setPrototypeOf(a,Function.prototype);h.subscribable.fn=a;h.isSubscribable=function(n){return n!=null&&typeof n.subscribe=="function"&&typeof n.notifySubscribers=="function"};h.exportSymbol("subscribable",h.subscribable);h.exportSymbol("isSubscribable",h.isSubscribable);h.computedContext=h.dependencyDetection=function(){function f(){return++u}function i(i){t.push(n);n=i}function r(){n=t.pop()}var t=[],n,u=0;return{begin:i,end:r,registerDependency:function(t){if(n){if(!h.isSubscribable(t))throw new Error("Only subscribable things can act as dependencies");n.callback.call(n.callbackTarget,t,t._id||(t._id=f()))}},ignore:function(n,t,u){try{return i(),n.apply(t,u||[])}finally{r()}},getDependenciesCount:function(){if(n)return n.computed.getDependenciesCount()},isInitial:function(){if(n)return n.isInitial}}}();h.exportSymbol("computedContext",h.computedContext);h.exportSymbol("computedContext.getDependenciesCount",h.computedContext.getDependenciesCount);h.exportSymbol("computedContext.isInitial",h.computedContext.isInitial);h.exportSymbol("ignoreDependencies",h.ignoreDependencies=h.dependencyDetection.ignore);y=h.utils.createSymbolOrString("_latestValue");h.observable=function(n){function t(){return arguments.length>0?(t.isDifferent(t[y],arguments[0])&&(t.valueWillMutate(),t[y]=arguments[0],t.valueHasMutated()),this):(h.dependencyDetection.registerDependency(t),t[y])}return t[y]=n,h.utils.canSetPrototype||h.utils.extend(t,h.subscribable.fn),h.subscribable.fn.init(t),h.utils.setPrototypeOfOrExtend(t,v),h.options.deferUpdates&&h.extenders.deferred(t,!0),t};v={equalityComparer:nt,peek:function(){return this[y]},valueHasMutated:function(){this.notifySubscribers(this[y])},valueWillMutate:function(){this.notifySubscribers(this[y],"beforeChange")}};h.utils.canSetPrototype&&h.utils.setPrototypeOf(v,h.subscribable.fn);p=h.observable.protoProperty="__ko_proto__";v[p]=h.observable;h.hasPrototype=function(n,i){return n===null||n===t||n[p]===t?!1:n[p]===i?!0:h.hasPrototype(n[p],i)};h.isObservable=function(n){return h.hasPrototype(n,h.observable)};h.isWriteableObservable=function(n){return typeof n=="function"&&n[p]===h.observable?!0:typeof n=="function"&&n[p]===h.dependentObservable&&n.hasWriteFunction?!0:!1};h.exportSymbol("observable",h.observable);h.exportSymbol("isObservable",h.isObservable);h.exportSymbol("isWriteableObservable",h.isWriteableObservable);h.exportSymbol("isWritableObservable",h.isWriteableObservable);h.exportSymbol("observable.fn",v);h.exportProperty(v,"peek",v.peek);h.exportProperty(v,"valueHasMutated",v.valueHasMutated);h.exportProperty(v,"valueWillMutate",v.valueWillMutate);h.observableArray=function(n){if(n=n||[],typeof n!="object"||!("length"in n))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var t=h.observable(n);return h.utils.setPrototypeOfOrExtend(t,h.observableArray.fn),t.extend({trackArrayChanges:!0})};h.observableArray.fn={remove:function(n){for(var u,r=this.peek(),i=[],f=typeof n=="function"&&!h.isObservable(n)?n:function(t){return t===n},t=0;t<r.length;t++)u=r[t],f(u)&&(i.length===0&&this.valueWillMutate(),i.push(u),r.splice(t,1),t--);return i.length&&this.valueHasMutated(),i},removeAll:function(n){if(n===t){var i=this.peek(),r=i.slice(0);return this.valueWillMutate(),i.splice(0,i.length),this.valueHasMutated(),r}return n?this.remove(function(t){return h.utils.arrayIndexOf(n,t)>=0}):[]},destroy:function(n){var i=this.peek(),u=typeof n=="function"&&!h.isObservable(n)?n:function(t){return t===n},t,r;for(this.valueWillMutate(),t=i.length-1;t>=0;t--)r=i[t],u(r)&&(i[t]._destroy=!0);this.valueHasMutated()},destroyAll:function(n){return n===t?this.destroy(function(){return!0}):n?this.destroy(function(t){return h.utils.arrayIndexOf(n,t)>=0}):[]},indexOf:function(n){var t=this();return h.utils.arrayIndexOf(t,n)},replace:function(n,t){var i=this.indexOf(n);i>=0&&(this.valueWillMutate(),this.peek()[i]=t,this.valueHasMutated())}};h.utils.canSetPrototype&&h.utils.setPrototypeOf(h.observableArray.fn,h.observable.fn);h.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(n){h.observableArray.fn[n]=function(){var t=this.peek(),i;return this.valueWillMutate(),this.cacheDiffForKnownOperation(t,n,arguments),i=t[n].apply(t,arguments),this.valueHasMutated(),i===t?this:i}});h.utils.arrayForEach(["slice"],function(n){h.observableArray.fn[n]=function(){var t=this();return t[n].apply(t,arguments)}});h.exportSymbol("observableArray",h.observableArray);b="arrayChange";h.extenders.trackArrayChanges=function(n,i){function l(){if(!f){f=!0;u=n.notifySubscribers;n.notifySubscribers=function(n,t){return t&&t!==w||++e,u.apply(this,arguments)};var t=[].concat(n.peek()||[]);r=null;o=n.subscribe(function(i){if(i=[].concat(i||[]),n.hasSubscriptionsForEvent(b))var u=a(t,i);t=i;r=null;e=0;u&&u.length&&n.notifySubscribers(u,b)})}}function a(t,i){return(!r||e>1)&&(r=h.utils.compareArrays(t,i,n.compareArrayOptions)),r}if(n.compareArrayOptions={},i&&typeof i=="object"&&h.utils.extend(n.compareArrayOptions,i),n.compareArrayOptions.sparse=!0,!n.cacheDiffForKnownOperation){var f=!1,r=null,o,e=0,u,s=n.beforeSubscriptionAdd,c=n.afterSubscriptionRemove;n.beforeSubscriptionAdd=function(t){s&&s.call(n,t);t===b&&l()};n.afterSubscriptionRemove=function(i){c&&c.call(n,i);i!==b||n.hasSubscriptionsForEvent(b)||(u&&(n.notifySubscribers=u,u=t),o.dispose(),f=!1)};n.cacheDiffForKnownOperation=function(n,t,i){function c(n,t,i){return l[l.length]={status:n,value:t,index:i}}var u,y;if(f&&!e){var l=[],o=n.length,a=i.length,s=0;switch(t){case"push":s=o;case"unshift":for(u=0;u<a;u++)c("added",i[u],s+u);break;case"pop":s=o-1;case"shift":o&&c("deleted",n[s],s);break;case"splice":var v=Math.min(Math.max(0,i[0]<0?o+i[0]:i[0]),o),p=a===1?o:Math.min(v+(i[1]||0),o),w=v+a-2,d=Math.max(p,w),b=[],k=[];for(u=v,y=2;u<d;++u,++y)u<p&&k.push(c("deleted",n[u],u)),u<w&&b.push(c("added",i[y],u));h.utils.findMovesInArrayComparison(k,b);break;default:return}r=l}}}};c=h.utils.createSymbolOrString("_state");h.computed=h.dependentObservable=function(i,r,u){function f(){if(arguments.length>0){if(typeof o=="function")o.apply(e.evaluatorFunctionTarget,arguments);else throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}return h.dependencyDetection.registerDependency(f),(e.isStale||e.isSleeping&&f.haveDependenciesChanged())&&f.evaluateImmediate(),e.latestValue}if(typeof i=="object"?u=i:(u=u||{},i&&(u.read=i)),typeof u.read!="function")throw Error("Pass a function that returns the value of the ko.computed");var o=u.write,e={latestValue:t,isStale:!0,isBeingEvaluated:!1,suppressDisposalUntilDisposeWhenReturnsFalse:!1,isDisposed:!1,pure:!1,isSleeping:!1,readFunction:u.read,evaluatorFunctionTarget:r||u.owner,disposeWhenNodeIsRemoved:u.disposeWhenNodeIsRemoved||u.disposeWhenNodeIsRemoved||null,disposeWhen:u.disposeWhen||u.disposeWhen,domNodeDisposalCallback:null,dependencyTracking:{},dependenciesCount:0,evaluationTimeoutInstance:null};return f[c]=e,f.hasWriteFunction=typeof o=="function",h.utils.canSetPrototype||h.utils.extend(f,h.subscribable.fn),h.subscribable.fn.init(f),h.utils.setPrototypeOfOrExtend(f,l),u.pure?(e.pure=!0,e.isSleeping=!0,h.utils.extend(f,at)):u.deferEvaluation&&h.utils.extend(f,vt),h.options.deferUpdates&&h.extenders.deferred(f,!0),n&&(f._options=u),e.disposeWhenNodeIsRemoved&&(e.suppressDisposalUntilDisposeWhenReturnsFalse=!0,e.disposeWhenNodeIsRemoved.nodeType||(e.disposeWhenNodeIsRemoved=null)),e.isSleeping||u.deferEvaluation||f.evaluateImmediate(),e.disposeWhenNodeIsRemoved&&f.isActive()&&h.utils.domNodeDisposal.addDisposeCallback(e.disposeWhenNodeIsRemoved,e.domNodeDisposalCallback=function(){f.dispose()}),f};var l={equalityComparer:nt,getDependenciesCount:function(){return this[c].dependenciesCount},addDependencyTracking:function(n,t,i){if(this[c].pure&&t===this)throw Error("A 'pure' computed must not be called recursively");this[c].dependencyTracking[n]=i;i._order=this[c].dependenciesCount++;i._version=t.getVersion()},haveDependenciesChanged:function(){var n,t,i=this[c].dependencyTracking;for(n in i)if(i.hasOwnProperty(n)&&(t=i[n],t._target.hasChanged(t._version)))return!0},markDirty:function(){this._evalDelayed&&!this[c].isBeingEvaluated&&this._evalDelayed()},isActive:function(){return this[c].isStale||this[c].dependenciesCount>0},respondToChange:function(){this._notificationIsPending||this.evaluatePossiblyAsync()},subscribeToDependency:function(n){if(n._deferUpdates&&!this[c].disposeWhenNodeIsRemoved){var t=n.subscribe(this.markDirty,this,"dirty"),i=n.subscribe(this.respondToChange,this);return{_target:n,dispose:function(){t.dispose();i.dispose()}}}return n.subscribe(this.evaluatePossiblyAsync,this)},evaluatePossiblyAsync:function(){var n=this,t=n.throttleEvaluation;t&&t>=0?(clearTimeout(this[c].evaluationTimeoutInstance),this[c].evaluationTimeoutInstance=h.utils.setTimeout(function(){n.evaluateImmediate(!0)},t)):n._evalDelayed?n._evalDelayed():n.evaluateImmediate(!0)},evaluateImmediate:function(n){var i=this,t=i[c],r=t.disposeWhen,u=!1;if(!t.isBeingEvaluated&&!t.isDisposed){if(t.disposeWhenNodeIsRemoved&&!h.utils.domNodeIsAttachedToDocument(t.disposeWhenNodeIsRemoved)||r&&r()){if(!t.suppressDisposalUntilDisposeWhenReturnsFalse){i.dispose();return}}else t.suppressDisposalUntilDisposeWhenReturnsFalse=!1;t.isBeingEvaluated=!0;try{u=this.evaluateImmediate_CallReadWithDependencyDetection(n)}finally{t.isBeingEvaluated=!1}return t.dependenciesCount||i.dispose(),u}},evaluateImmediate_CallReadWithDependencyDetection:function(i){var u=this,r=u[c],e=!1,o=r.pure?t:!r.dependenciesCount,s={computedObservable:u,disposalCandidates:r.dependencyTracking,disposalCount:r.dependenciesCount},f;return h.dependencyDetection.begin({callbackTarget:s,callback:lt,computed:u,isInitial:o}),r.dependencyTracking={},r.dependenciesCount=0,f=this.evaluateImmediate_CallReadThenEndDependencyDetection(r,s),u.isDifferent(r.latestValue,f)&&(r.isSleeping||u.notifySubscribers(r.latestValue,"beforeChange"),r.latestValue=f,n&&(u._latestValue=f),r.isSleeping?u.updateVersion():i&&u.notifySubscribers(r.latestValue),e=!0),o&&u.notifySubscribers(r.latestValue,"awake"),e},evaluateImmediate_CallReadThenEndDependencyDetection:function(n,t){try{var i=n.readFunction;return n.evaluatorFunctionTarget?i.call(n.evaluatorFunctionTarget):i()}finally{h.dependencyDetection.end();t.disposalCount&&!n.isSleeping&&h.utils.objectForEach(t.disposalCandidates,ct);n.isStale=!1}},peek:function(){var n=this[c];return(n.isStale&&!n.dependenciesCount||n.isSleeping&&this.haveDependenciesChanged())&&this.evaluateImmediate(),n.latestValue},limit:function(n){h.subscribable.fn.limit.call(this,n);this._evalDelayed=function(){this._limitBeforeChange(this[c].latestValue);this[c].isStale=!0;this._limitChange(this)}},dispose:function(){var n=this[c];!n.isSleeping&&n.dependencyTracking&&h.utils.objectForEach(n.dependencyTracking,function(n,t){t.dispose&&t.dispose()});n.disposeWhenNodeIsRemoved&&n.domNodeDisposalCallback&&h.utils.domNodeDisposal.removeDisposeCallback(n.disposeWhenNodeIsRemoved,n.domNodeDisposalCallback);n.dependencyTracking=null;n.dependenciesCount=0;n.isDisposed=!0;n.isStale=!1;n.isSleeping=!1;n.disposeWhenNodeIsRemoved=null}},at={beforeSubscriptionAdd:function(n){var i=this,t=i[c],r;!t.isDisposed&&t.isSleeping&&n=="change"&&(t.isSleeping=!1,t.isStale||i.haveDependenciesChanged()?(t.dependencyTracking=null,t.dependenciesCount=0,t.isStale=!0,i.evaluateImmediate()&&i.updateVersion()):(r=[],h.utils.objectForEach(t.dependencyTracking,function(n,t){r[t._order]=n}),h.utils.arrayForEach(r,function(n,r){var f=t.dependencyTracking[n],u=i.subscribeToDependency(f._target);u._order=r;u._version=f._version;t.dependencyTracking[n]=u})),t.isDisposed||i.notifySubscribers(t.latestValue,"awake"))},afterSubscriptionRemove:function(n){var i=this[c];i.isDisposed||n!="change"||this.hasSubscriptionsForEvent("change")||(h.utils.objectForEach(i.dependencyTracking,function(n,t){t.dispose&&(i.dependencyTracking[n]={_target:t._target,_order:t._order,_version:t._version},t.dispose())}),i.isSleeping=!0,this.notifySubscribers(t,"asleep"))},getVersion:function(){var n=this[c];return n.isSleeping&&(n.isStale||this.haveDependenciesChanged())&&this.evaluateImmediate(),h.subscribable.fn.getVersion.call(this)}},vt={beforeSubscriptionAdd:function(n){(n=="change"||n=="beforeChange")&&this.peek()}};h.utils.canSetPrototype&&h.utils.setPrototypeOf(l,h.subscribable.fn);tt=h.observable.protoProperty;h.computed[tt]=h.observable;l[tt]=h.computed;h.isComputed=function(n){return h.hasPrototype(n,h.computed)};h.isPureComputed=function(n){return h.hasPrototype(n,h.computed)&&n[c]&&n[c].pure};h.exportSymbol("computed",h.computed);h.exportSymbol("dependentObservable",h.computed);h.exportSymbol("isComputed",h.isComputed);h.exportSymbol("isPureComputed",h.isPureComputed);h.exportSymbol("computed.fn",l);h.exportProperty(l,"peek",l.peek);h.exportProperty(l,"dispose",l.dispose);h.exportProperty(l,"isActive",l.isActive);h.exportProperty(l,"getDependenciesCount",l.getDependenciesCount);h.pureComputed=function(n,t){return typeof n=="function"?h.computed(n,t,{pure:!0}):(n=h.utils.extend({},n),n.pure=!0,h.computed(n,t))};h.exportSymbol("pureComputed",h.pureComputed),function(){function i(r,f,e){var s,o;return(e=e||new n,r=f(r),s=typeof r=="object"&&r!==null&&r!==t&&!(r instanceof RegExp)&&!(r instanceof Date)&&!(r instanceof String)&&!(r instanceof Number)&&!(r instanceof Boolean),!s)?r:(o=r instanceof Array?[]:{},e.save(r,o),u(r,function(n){var u=f(r[n]),s;switch(typeof u){case"boolean":case"number":case"string":case"function":o[n]=u;break;case"object":case"undefined":s=e.get(u);o[n]=s!==t?s:i(u,f,e)}}),o)}function u(n,t){var i,r;if(n instanceof Array){for(i=0;i<n.length;i++)t(i);typeof n.toJSON=="function"&&t("toJSON")}else for(r in n)t(r)}function n(){this.keys=[];this.values=[]}var r=10;h.toJS=function(n){if(arguments.length==0)throw new Error("When calling ko.toJS, pass the object you want to convert.");return i(n,function(n){for(var t=0;h.isObservable(n)&&t<r;t++)n=n();return n})};h.toJSON=function(n,t,i){var r=h.toJS(n);return h.utils.stringifyJson(r,t,i)};n.prototype={constructor:n,save:function(n,t){var i=h.utils.arrayIndexOf(this.keys,n);i>=0?this.values[i]=t:(this.keys.push(n),this.values.push(t))},get:function(n){var i=h.utils.arrayIndexOf(this.keys,n);return i>=0?this.values[i]:t}}}();h.exportSymbol("toJS",h.toJS);h.exportSymbol("toJSON",h.toJSON),function(){var n="__ko__hasDomDataOptionValue__";h.selectExtensions={readValue:function(i){switch(h.utils.tagNameLower(i)){case"option":return i[n]===!0?h.utils.domData.get(i,h.bindingHandlers.options.optionValueDomDataKey):h.utils.ieVersion<=7?i.getAttributeNode("value")&&i.getAttributeNode("value").specified?i.value:i.text:i.value;case"select":return i.selectedIndex>=0?h.selectExtensions.readValue(i.options[i.selectedIndex]):t;default:return i.value}},writeValue:function(i,r,u){var e,f,s,o;switch(h.utils.tagNameLower(i)){case"option":switch(typeof r){case"string":h.utils.domData.set(i,h.bindingHandlers.options.optionValueDomDataKey,t);n in i&&delete i[n];i.value=r;break;default:h.utils.domData.set(i,h.bindingHandlers.options.optionValueDomDataKey,r);i[n]=!0;i.value=typeof r=="number"?r:""}break;case"select":for((r===""||r===null)&&(r=t),e=-1,f=0,s=i.options.length;f<s;++f)if(o=h.selectExtensions.readValue(i.options[f]),o==r||o==""&&r===t){e=f;break}(u||e>=0||r===t&&i.size>1)&&(i.selectedIndex=e);break;default:(r===null||r===t)&&(r="");i.value=r}}}}();h.exportSymbol("selectExtensions",h.selectExtensions);h.exportSymbol("selectExtensions.readValue",h.selectExtensions.readValue);h.exportSymbol("selectExtensions.writeValue",h.selectExtensions.writeValue);h.expressionRewriting=function(){function e(n){if(h.utils.arrayIndexOf(u,n)>=0)return!1;var t=n.match(f);return t===null?!1:t[1]?"Object("+t[1]+")"+t[2]:n}function i(n){var r=h.utils.stringTrim(n),l,f,i,v;r.charCodeAt(0)===123&&(r=r.slice(1,-1));var y=[],o=r.match(t),e,u=[],a=0;if(o)for(o.push(","),l=0;f=o[l];++l){if(i=f.charCodeAt(0),i===44){if(a<=0){y.push(e&&u.length?{key:e,value:u.join("")}:{unknown:e||u.join("")});e=a=0;u=[];continue}}else if(i===58){if(!a&&!e&&u.length===1){e=u.pop();continue}}else i===47&&l&&f.length>1?(v=o[l-1].match(s),v&&!c[v[0]]&&(r=r.substr(r.indexOf(f)+1),o=r.match(t),o.push(","),l=-1,f="/")):i===40||i===123||i===91?++a:i===41||i===125||i===93?--a:e||u.length||i!==34&&i!==39||(f=f.slice(1,-1));u.push(f)}return y}function l(n,t){function u(n,t){function l(i){return i&&i.preprocess?t=i.preprocess(t,n,u):!0}var i;if(!c){if(!l(h.getBindingHandler(n)))return;r[n]&&(i=e(t))&&f.push("'"+n+"':function(_z){"+i+"=_z}")}s&&(t="function(){return "+t+" }");o.push("'"+n+"':"+t)}t=t||{};var o=[],f=[],s=t.valueAccessors,c=t.bindingParams,l=typeof n=="string"?i(n):n;return h.utils.arrayForEach(l,function(n){u(n.key||n.unknown,n.value)}),f.length&&u("_ko_property_writers","{"+f.join(",")+" }"),o.join(",")}var u=["true","false","null","undefined"],f=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,n=",\"'{}()/:[\\]",o="[^\\s:,/][^"+n+"]*[^\\s"+n+"]",t=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|"+o+"|[^\\s]","g"),s=/[\])"'A-Za-z0-9_$]+$/,c={"in":1,"return":1,"typeof":1},r={};return{bindingRewriteValidators:[],twoWayBindings:r,parseObjectLiteral:i,preProcessBindings:l,keyValueArrayContainsKey:function(n,t){for(var i=0;i<n.length;i++)if(n[i].key==t)return!0;return!1},writeValueToProperty:function(n,t,i,r,u){if(n&&h.isObservable(n))h.isWriteableObservable(n)&&(!u||n.peek()!==r)&&n(r);else{var f=t.get("_ko_property_writers");f&&f[i]&&f[i](r)}}}}();h.exportSymbol("expressionRewriting",h.expressionRewriting);h.exportSymbol("expressionRewriting.bindingRewriteValidators",h.expressionRewriting.bindingRewriteValidators);h.exportSymbol("expressionRewriting.parseObjectLiteral",h.expressionRewriting.parseObjectLiteral);h.exportSymbol("expressionRewriting.preProcessBindings",h.expressionRewriting.preProcessBindings);h.exportSymbol("expressionRewriting._twoWayBindings",h.expressionRewriting.twoWayBindings);h.exportSymbol("jsonExpressionRewriting",h.expressionRewriting);h.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",h.expressionRewriting.preProcessBindings),function(){function n(n){return n.nodeType==8&&u.test(t?n.text:n.nodeValue)}function r(n){return n.nodeType==8&&o.test(t?n.text:n.nodeValue)}function f(t,i){for(var u=t,f=1,e=[];u=u.nextSibling;){if(r(u)&&(f--,f===0))return e;e.push(u);n(u)&&f++}if(!i)throw new Error("Cannot find closing comment tag to match: "+t.nodeValue);return null}function e(n,t){var i=f(n,t);return i?i.length>0?i[i.length-1].nextSibling:n.nextSibling:null}function c(t){var i=t.firstChild,u=null,f;if(i)do u?u.push(i):n(i)?(f=e(i,!0),f?i=f:u=[i]):r(i)&&(u=[i]);while(i=i.nextSibling);return u}var t=i&&i.createComment("test").text==="<!--test-->",u=t?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,o=t?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,s={ul:!0,ol:!0};h.virtualElements={allowedBindings:{},childNodes:function(t){return n(t)?f(t):t.childNodes},emptyNode:function(t){var r,i,u;if(n(t))for(r=h.virtualElements.childNodes(t),i=0,u=r.length;i<u;i++)h.removeNode(r[i]);else h.utils.emptyDomNode(t)},setDomNodeChildren:function(t,i){var u,r,f;if(n(t))for(h.virtualElements.emptyNode(t),u=t.nextSibling,r=0,f=i.length;r<f;r++)u.parentNode.insertBefore(i[r],u);else h.utils.setDomNodeChildren(t,i)},prepend:function(t,i){n(t)?t.parentNode.insertBefore(i,t.nextSibling):t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)},insertAfter:function(t,i,r){r?n(t)?t.parentNode.insertBefore(i,r.nextSibling):r.nextSibling?t.insertBefore(i,r.nextSibling):t.appendChild(i):h.virtualElements.prepend(t,i)},firstChild:function(t){return n(t)?!t.nextSibling||r(t.nextSibling)?null:t.nextSibling:t.firstChild},nextSibling:function(t){return(n(t)&&(t=e(t)),t.nextSibling&&r(t.nextSibling))?null:t.nextSibling},hasBindingValue:n,virtualNodeBindingValue:function(n){var i=(t?n.text:n.nodeValue).match(u);return i?i[1]:null},normaliseVirtualElementDomStructure:function(n){var t,i,u,r;if(s[h.utils.tagNameLower(n)]&&(t=n.firstChild,t))do if(t.nodeType===1&&(i=c(t),i))for(u=t.nextSibling,r=0;r<i.length;r++)u?n.insertBefore(i[r],u):n.appendChild(i[r]);while(t=t.nextSibling)}}}();h.exportSymbol("virtualElements",h.virtualElements);h.exportSymbol("virtualElements.allowedBindings",h.virtualElements.allowedBindings);h.exportSymbol("virtualElements.emptyNode",h.virtualElements.emptyNode);h.exportSymbol("virtualElements.insertAfter",h.virtualElements.insertAfter);h.exportSymbol("virtualElements.prepend",h.virtualElements.prepend);h.exportSymbol("virtualElements.setDomNodeChildren",h.virtualElements.setDomNodeChildren),function(){function t(n,t,r){var u=n+(r&&r.valueAccessors||"");return t[u]||(t[u]=i(n,r))}function i(n,t){var i=h.expressionRewriting.preProcessBindings(n,t),r="with($context){with($data||{}){return{"+i+"}}}";return new Function("$context","$element",r)}var n="data-bind";h.bindingProvider=function(){this.bindingCache={}};h.utils.extend(h.bindingProvider.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return t.getAttribute(n)!=null||h.components.getComponentNameForNode(t);case 8:return h.virtualElements.hasBindingValue(t);default:return!1}},getBindings:function(n,t){var i=this.getBindingsString(n,t),r=i?this.parseBindingsString(i,t,n):null;return h.components.addBindingsForCustomElement(r,n,t,!1)},getBindingAccessors:function(n,t){var i=this.getBindingsString(n,t),r=i?this.parseBindingsString(i,t,n,{valueAccessors:!0}):null;return h.components.addBindingsForCustomElement(r,n,t,!0)},getBindingsString:function(t){switch(t.nodeType){case 1:return t.getAttribute(n);case 8:return h.virtualElements.virtualNodeBindingValue(t);default:return null}},parseBindingsString:function(n,i,r,u){try{var e=t(n,this.bindingCache,u);return e(i,r)}catch(f){f.message="Unable to parse bindings.\nBindings value: "+n+"\nMessage: "+f.message;throw f;}}});h.bindingProvider.instance=new h.bindingProvider}();h.exportSymbol("bindingProvider",h.bindingProvider),function(){function v(n){return function(){return n}}function i(n){return n()}function s(n){return h.utils.objectMap(h.dependencyDetection.ignore(n),function(t,i){return function(){return n()[i]}})}function y(n,t,i){return typeof n=="function"?s(n.bind(null,t,i)):h.utils.objectMap(n,v)}function p(n,t){return s(this.getBindings.bind(this,n,t))}function w(n){var t=h.virtualElements.allowedBindings[n];if(!t)throw new Error("The binding '"+n+"' cannot be used with virtual elements");}function c(n,t,i){var r,u=h.virtualElements.firstChild(t),f=h.bindingProvider.instance,e=f.preprocessNode;if(e){while(r=u)u=h.virtualElements.nextSibling(r),e.call(f,r);u=h.virtualElements.firstChild(t)}while(r=u)u=h.virtualElements.nextSibling(r),l(n,r,i)}function l(n,t,i){var u=!0,r=t.nodeType===1,f;r&&h.virtualElements.normaliseVirtualElementDomStructure(t);f=r&&i||h.bindingProvider.instance.nodeHasBindings(t);f&&(u=a(t,null,n,i).shouldBindDescendants);u&&!o[h.utils.tagNameLower(t)]&&c(n,t,!r)}function b(n){var i=[],r={},t=[];return h.utils.objectForEach(n,function u(f){if(!r[f]){var e=h.getBindingHandler(f);e&&(e.after&&(t.push(f),h.utils.arrayForEach(e.after,function(i){if(n[i])if(h.utils.arrayIndexOf(t,i)!==-1)throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+t.join(", "));else u(i)}),t.length--),i.push({key:f,handler:e}));r[f]=!0}}),i}function a(n,r,u,e){var v=h.utils.domData.get(n,f),o,c,l,k;if(!r){if(v)throw Error("You cannot apply bindings multiple times to the same element.");h.utils.domData.set(n,f,!0)}if(!v&&e&&h.storedBindingContextForNode(n,u),r&&typeof r!="function")o=r;else{var y=h.bindingProvider.instance,d=y.getBindingAccessors||p,s=h.dependentObservable(function(){return o=r?r(u,n):d.call(y,n,u),o&&u._subscribable&&u._subscribable(),o},null,{disposeWhenNodeIsRemoved:n});o&&s.isActive()||(s=null)}if(o){l=s?function(n){return function(){return i(s()[n])}}:function(n){return o[n]};function a(){return h.utils.objectMap(s?s():o,i)}a.get=function(n){return o[n]&&i(l(n))};a.has=function(n){return n in o};k=b(o);h.utils.arrayForEach(k,function(i){var e=i.handler.init,s=i.handler.update,r=i.key;n.nodeType===8&&w(r);try{typeof e=="function"&&h.dependencyDetection.ignore(function(){var i=e(n,l(r),a,u.$data,u);if(i&&i.controlsDescendantBindings){if(c!==t)throw new Error("Multiple bindings ("+c+" and "+r+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");c=r}});typeof s=="function"&&h.dependentObservable(function(){s(n,l(r),a,u.$data,u)},null,{disposeWhenNodeIsRemoved:n})}catch(f){f.message='Unable to process binding "'+r+": "+o[r]+'"\nMessage: '+f.message;throw f;}})}return{shouldBindDescendants:c===t}}function n(n){return n&&n instanceof h.bindingContext?n:new h.bindingContext(n)}var o,f,e;h.bindingHandlers={};o={script:!0,textarea:!0,template:!0};h.getBindingHandler=function(n){return h.bindingHandlers[n]};h.bindingContext=function(n,i,r,u,f){function c(){var f=a?n():n,t=h.utils.unwrapObservable(f);return i?(i._subscribable&&i._subscribable(),h.utils.extend(e,i),e._subscribable=o):(e.$parents=[],e.$root=t,e.ko=h),e.$rawData=f,e.$data=t,r&&(e[r]=t),u&&u(e,i,t),e.$data}function l(){return s&&!h.utils.anyDomNodeIsAttachedToDocument(s)}var e=this,a=typeof n=="function"&&!h.isObservable(n),s,o;f&&f.exportDependencies?c():(o=h.dependentObservable(c,null,{disposeWhen:l,disposeWhenNodeIsRemoved:!0}),o.isActive()&&(e._subscribable=o,o.equalityComparer=null,s=[],o._addNode=function(n){s.push(n);h.utils.domNodeDisposal.addDisposeCallback(n,function(n){h.utils.arrayRemoveItem(s,n);s.length||(o.dispose(),e._subscribable=o=t)})}))};h.bindingContext.prototype.createChildContext=function(n,t,i,r){return new h.bindingContext(n,this,t,function(n,t){n.$parentContext=t;n.$parent=t.$data;n.$parents=(t.$parents||[]).slice(0);n.$parents.unshift(n.$parent);i&&i(n)},r)};h.bindingContext.prototype.extend=function(n){return new h.bindingContext(this._subscribable||this.$data,this,null,function(t,i){t.$rawData=i.$rawData;h.utils.extend(t,typeof n=="function"?n():n)})};h.bindingContext.prototype.createStaticChildContext=function(n,t){return this.createChildContext(n,t,null,{exportDependencies:!0})};f=h.utils.domData.nextKey();e=h.utils.domData.nextKey();h.storedBindingContextForNode=function(n,t){if(arguments.length==2)h.utils.domData.set(n,e,t),t._subscribable&&t._subscribable._addNode(n);else return h.utils.domData.get(n,e)};h.applyBindingAccessorsToNode=function(t,i,r){return t.nodeType===1&&h.virtualElements.normaliseVirtualElementDomStructure(t),a(t,i,n(r),!0)};h.applyBindingsToNode=function(t,i,r){var u=n(r);return h.applyBindingAccessorsToNode(t,y(i,u,t),u)};h.applyBindingsToDescendants=function(t,i){(i.nodeType===1||i.nodeType===8)&&c(n(t),i,!0)};h.applyBindings=function(t,i){if(!r&&u.jQuery&&(r=u.jQuery),i&&i.nodeType!==1&&i.nodeType!==8)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");i=i||u.document.body;l(n(t),i,!0)};h.contextFor=function(n){switch(n.nodeType){case 1:case 8:var i=h.storedBindingContextForNode(n);if(i)return i;if(n.parentNode)return h.contextFor(n.parentNode)}return t};h.dataFor=function(n){var i=h.contextFor(n);return i?i.$data:t};h.exportSymbol("bindingHandlers",h.bindingHandlers);h.exportSymbol("applyBindings",h.applyBindings);h.exportSymbol("applyBindingsToDescendants",h.applyBindingsToDescendants);h.exportSymbol("applyBindingAccessorsToNode",h.applyBindingAccessorsToNode);h.exportSymbol("applyBindingsToNode",h.applyBindingsToNode);h.exportSymbol("contextFor",h.contextFor);h.exportSymbol("dataFor",h.dataFor)}(),function(n){function u(t,i){return t.hasOwnProperty(i)?t[i]:n}function f(n,t){var f=u(i,n),o;f?f.subscribe(t):(f=i[n]=new h.subscribable,f.subscribe(t),e(n,function(t,u){var e=!!(u&&u.synchronous);r[n]={definition:t,isSynchronousComponent:e};delete i[n];o||e?f.notifySubscribers(t):h.tasks.schedule(function(){f.notifySubscribers(t)})}),o=!0)}function e(n,i){t("getConfig",[n],function(r){r?t("loadComponent",[n,r],function(n){i(n,r)}):i(null,null)})}function t(i,r,u,f){var e,o,s,c;if(f||(f=h.components.loaders.slice(0)),e=f.shift(),e)if(o=e[i],o){if(s=!1,c=o.apply(e,r.concat(function(n){s?u(null):n!==null?u(n):t(i,r,u,f)})),c!==n&&(s=!0,!e.suppressLoaderExceptions))throw new Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else t(i,r,u,f);else u(null)}var i={},r={};h.components={get:function(n,t){var i=u(r,n);i?i.isSynchronousComponent?h.dependencyDetection.ignore(function(){t(i.definition)}):h.tasks.schedule(function(){t(i.definition)}):f(n,t)},clearCachedDefinition:function(n){delete r[n]},_getFirstResultFromLoaders:t};h.components.loaders=[];h.exportSymbol("components",h.components);h.exportSymbol("components.get",h.components.get);h.exportSymbol("components.clearCachedDefinition",h.components.clearCachedDefinition)}(),function(){function l(n,i,u,f){var o={},l=2,e=function(){--l==0&&f(o)},s=u.template,c=u.viewModel;s?r(i,s,function(t){h.components._getFirstResultFromLoaders("loadTemplate",[n,t],function(n){o.template=n;e()})}):e();c?r(i,c,function(i){h.components._getFirstResultFromLoaders("loadViewModel",[n,i],function(n){o[t]=n;e()})}):e()}function a(n,t,r){var u,f;typeof t=="string"?r(h.utils.parseHtmlFragment(t)):t instanceof Array?r(t):c(t)?r(h.utils.makeArray(t.childNodes)):t.element?(u=t.element,v(u)?r(o(u)):typeof u=="string"?(f=i.getElementById(u),f?r(o(f)):n("Cannot find element with ID "+u)):n("Unknown element type: "+u)):n("Unknown template value: "+t)}function e(n,i,r){if(typeof i=="function")r(function(n){return new i(n)});else if(typeof i[t]=="function")r(i[t]);else if("instance"in i){var u=i.instance;r(function(){return u})}else"viewModel"in i?e(n,i.viewModel,r):n("Unknown viewModel value: "+i)}function o(n){switch(h.utils.tagNameLower(n)){case"script":return h.utils.parseHtmlFragment(n.text);case"textarea":return h.utils.parseHtmlFragment(n.value);case"template":if(c(n.content))return h.utils.cloneNodes(n.content.childNodes)}return h.utils.cloneNodes(n.childNodes)}function v(n){return u.HTMLElement?n instanceof HTMLElement:n&&n.tagName&&n.nodeType===1}function c(n){return u.DocumentFragment?n instanceof DocumentFragment:n&&n.nodeType===11}function r(n,t,i){typeof t.require=="string"?s||u.require?(s||u.require)([t.require],i):n("Uses require, but no AMD loader is present"):i(t)}function f(n){return function(t){throw new Error("Component '"+n+"': "+t);}}var n={},t;h.components.register=function(t,i){if(!i)throw new Error("Invalid configuration for "+t);if(h.components.isRegistered(t))throw new Error("Component "+t+" is already registered");n[t]=i};h.components.isRegistered=function(t){return n.hasOwnProperty(t)};h.components.unregister=function(t){delete n[t];h.components.clearCachedDefinition(t)};h.components.defaultLoader={getConfig:function(t,i){var r=n.hasOwnProperty(t)?n[t]:null;i(r)},loadComponent:function(n,t,i){var u=f(n);r(u,t,function(t){l(n,u,t,i)})},loadTemplate:function(n,t,i){a(f(n),t,i)},loadViewModel:function(n,t,i){e(f(n),t,i)}};t="createViewModel";h.exportSymbol("components.register",h.components.register);h.exportSymbol("components.isRegistered",h.components.isRegistered);h.exportSymbol("components.unregister",h.components.unregister);h.exportSymbol("components.defaultLoader",h.components.defaultLoader);h.components.loaders.push(h.components.defaultLoader);h.components._allRegisteredComponents=n}(),function(){function t(t,i){var u=t.getAttribute("params");if(u){var e=n.parseBindingsString(u,i,t,{valueAccessors:!0,bindingParams:!0}),f=h.utils.objectMap(e,function(n){return h.computed(n,null,{disposeWhenNodeIsRemoved:t})}),r=h.utils.objectMap(f,function(n){var i=n.peek();return n.isActive()?h.computed({read:function(){return h.utils.unwrapObservable(n())},write:h.isWriteableObservable(i)&&function(t){n()(t)},disposeWhenNodeIsRemoved:t}):i});return r.hasOwnProperty("$raw")||(r.$raw=f),r}return{$raw:{}}}h.components.getComponentNameForNode=function(n){var t=h.utils.tagNameLower(n);if(h.components.isRegistered(t)&&(t.indexOf("-")!=-1||""+n=="[object HTMLUnknownElement]"||h.utils.ieVersion<=8&&n.tagName===t))return t};h.components.addBindingsForCustomElement=function(n,i,r,u){var f,e;if(i.nodeType===1&&(f=h.components.getComponentNameForNode(i),f)){if(n=n||{},n.component)throw new Error('Cannot use the "component" binding on a custom element matching a component');e={name:f,params:t(i,r)};n.component=u?function(){return e}:e}return n};var n=new h.bindingProvider;h.utils.ieVersion<9&&(h.components.register=function(n){return function(t){return i.createElement(t),n.apply(this,arguments)}}(h.components.register),i.createDocumentFragment=function(n){return function(){var t=n(),i=h.components._allRegisteredComponents;for(var r in i)i.hasOwnProperty(r)&&t.createElement(r);return t}}(i.createDocumentFragment))}(),function(n){function i(n,t,i){var r=t.template,u;if(!r)throw new Error("Component '"+n+"' has no template");u=h.utils.cloneNodes(r);h.virtualElements.setDomNodeChildren(i,u)}function r(n,t,i,r){var u=n.createViewModel;return u?u.call(n,r,{element:t,templateNodes:i}):r}var t=0;h.bindingHandlers.component={init:function(u,f,e,o,s){var c,l,a=function(){var n=c&&c.dispose;typeof n=="function"&&n.call(c);c=null;l=null},v=h.utils.makeArray(h.virtualElements.childNodes(u));return h.utils.domNodeDisposal.addDisposeCallback(u,a),h.computed(function(){var o=h.utils.unwrapObservable(f()),e,y,p;if(typeof o=="string"?e=o:(e=h.utils.unwrapObservable(o.name),y=h.utils.unwrapObservable(o.params)),!e)throw new Error("No component name specified");p=l=++t;h.components.get(e,function(t){if(l===p){if(a(),!t)throw new Error("Unknown component '"+e+"'");i(e,t,u);var f=r(t,u,v,y),o=s.createChildContext(f,n,function(n){n.$component=f;n.$componentTemplateNodes=v});c=f;h.applyBindingsToDescendants(o,u)}})},null,{disposeWhenNodeIsRemoved:u}),{controlsDescendantBindings:!0}}};h.virtualElements.allowedBindings.component=!0}();it={"class":"className","for":"htmlFor"};h.bindingHandlers.attr={update:function(n,i){var r=h.utils.unwrapObservable(i())||{};h.utils.objectForEach(r,function(i,r){r=h.utils.unwrapObservable(r);var u=r===!1||r===null||r===t;u&&n.removeAttribute(i);h.utils.ieVersion<=8&&i in it?(i=it[i],u?n.removeAttribute(i):n[i]=r):u||n.setAttribute(i,r.toString());i==="name"&&h.utils.setElementName(n,u?"":r.toString())})}},function(){h.bindingHandlers.checked={after:["value","attr"],init:function(n,i,r){function l(){var l=n.checked,o=y?f():l,t,s;h.computedContext.isInitial()||(!e||l)&&(t=h.dependencyDetection.ignore(i),u?(s=a?t.peek():t,c!==o?(l&&(h.utils.addOrRemoveItem(s,o,!0),h.utils.addOrRemoveItem(s,c,!1)),c=o):h.utils.addOrRemoveItem(s,o,l),a&&h.isWriteableObservable(t)&&t(s)):h.expressionRewriting.writeValueToProperty(t,r,"checked",o,!0))}function v(){var t=h.utils.unwrapObservable(i());n.checked=u?h.utils.arrayIndexOf(t,f())>=0:s?t:f()===t}var f=h.pureComputed(function(){return r.has("checkedValue")?h.utils.unwrapObservable(r.get("checkedValue")):r.has("value")?h.utils.unwrapObservable(r.get("value")):n.value}),s=n.type=="checkbox",e=n.type=="radio";if(s||e){var o=i(),u=s&&h.utils.unwrapObservable(o)instanceof Array,a=!(u&&o.push&&o.splice),c=u?f():t,y=e||u;e&&!n.name&&h.bindingHandlers.uniqueName.init(n,function(){return!0});h.computed(l,null,{disposeWhenNodeIsRemoved:n});h.utils.registerEventHandler(n,"click",l);h.computed(v,null,{disposeWhenNodeIsRemoved:n});o=t}}};h.expressionRewriting.twoWayBindings.checked=!0;h.bindingHandlers.checkedValue={update:function(n,t){n.value=h.utils.unwrapObservable(t())}}}();rt="__ko__cssValue";h.bindingHandlers["class"]={update:function(n,t){var i=h.utils.stringTrim(h.utils.unwrapObservable(t()));h.utils.toggleDomNodeCssClass(n,n[rt],!1);n[rt]=i;h.utils.toggleDomNodeCssClass(n,i,!0)}};h.bindingHandlers.css={update:function(n,t){var i=h.utils.unwrapObservable(t());i!==null&&typeof i=="object"?h.utils.objectForEach(i,function(t,i){i=h.utils.unwrapObservable(i);h.utils.toggleDomNodeCssClass(n,t,i)}):h.bindingHandlers["class"].update(n,t)}};h.bindingHandlers.enable={update:function(n,t){var i=h.utils.unwrapObservable(t());i&&n.disabled?n.removeAttribute("disabled"):i||n.disabled||(n.disabled=!0)}};h.bindingHandlers.disable={update:function(n,t){h.bindingHandlers.enable.update(n,function(){return!h.utils.unwrapObservable(t())})}};h.bindingHandlers.event={init:function(n,t,i,r,u){var f=t()||{};h.utils.objectForEach(f,function(f){typeof f=="string"&&h.utils.registerEventHandler(n,f,function(n){var o,s=t()[f],e,c;if(s){try{e=h.utils.makeArray(arguments);r=u.$data;e.unshift(r);o=s.apply(r,e)}finally{o!==!0&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}c=i.get(f+"Bubble")!==!1;c||(n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation())}})})}};h.bindingHandlers.foreach={makeTemplateValueAccessor:function(n){return function(){var i=n(),t=h.utils.peekObservable(i);return!t||typeof t.length=="number"?{foreach:i,templateEngine:h.nativeTemplateEngine.instance}:(h.utils.unwrapObservable(i),{foreach:t.data,as:t.as,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:h.nativeTemplateEngine.instance})}},init:function(n,t){return h.bindingHandlers.template.init(n,h.bindingHandlers.foreach.makeTemplateValueAccessor(t))},update:function(n,t,i,r,u){return h.bindingHandlers.template.update(n,h.bindingHandlers.foreach.makeTemplateValueAccessor(t),i,r,u)}};h.expressionRewriting.bindingRewriteValidators.foreach=!1;h.virtualElements.allowedBindings.foreach=!0;k="__ko_hasfocusUpdating";d="__ko_hasfocusLastValue";h.bindingHandlers.hasfocus={init:function(n,t,i){var r=function(r){var u,f,e;if(n[k]=!0,u=n.ownerDocument,"activeElement"in u){try{f=u.activeElement}catch(o){f=u.body}r=f===n}e=t();h.expressionRewriting.writeValueToProperty(e,i,"hasfocus",r,!0);n[d]=r;n[k]=!1},u=r.bind(null,!0),f=r.bind(null,!1);h.utils.registerEventHandler(n,"focus",u);h.utils.registerEventHandler(n,"focusin",u);h.utils.registerEventHandler(n,"blur",f);h.utils.registerEventHandler(n,"focusout",f)},update:function(n,t){var i=!!h.utils.unwrapObservable(t());n[k]||n[d]===i||(i?n.focus():n.blur(),!i&&n[d]&&n.ownerDocument.body.focus(),h.dependencyDetection.ignore(h.utils.triggerEvent,null,[n,i?"focusin":"focusout"]))}};h.expressionRewriting.twoWayBindings.hasfocus=!0;h.bindingHandlers.hasFocus=h.bindingHandlers.hasfocus;h.expressionRewriting.twoWayBindings.hasFocus=!0;h.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){h.utils.setHtml(n,t())}};ut("if");ut("ifnot",!1,!0);ut("with",!0,!1,function(n,t){return n.createStaticChildContext(t)});h.bindingHandlers.let={init:function(n,t,i,r,u){var f=u.extend(t);return h.applyBindingsToDescendants(f,n),{controlsDescendantBindings:!0}}};h.virtualElements.allowedBindings.let=!0;g={};h.bindingHandlers.options={init:function(n){if(h.utils.tagNameLower(n)!=="select")throw new Error("options binding applies only to SELECT elements");while(n.length>0)n.remove(0);return{controlsDescendantBindings:!0}},update:function(n,i,r){function y(){return h.utils.arrayFilter(n.options,function(n){return n.selected})}function w(n,t,i){var r=typeof t;return r=="function"?t(n):r=="string"?n[t]:i}function nt(i,f,s){var c,l,a;return s.length&&(u=!e&&s[0].selected?[h.selectExtensions.readValue(s[0])]:[],o=!0),c=n.ownerDocument.createElement("option"),i===g?(h.utils.setTextContent(c,r.get("optionsCaption")),h.selectExtensions.writeValue(c,t)):(l=w(i,r.get("optionsValue"),i),h.selectExtensions.writeValue(c,h.utils.unwrapObservable(l)),a=w(i,r.get("optionsText"),l),h.utils.setTextContent(c,a)),[c]}function b(t,i){if(o&&e)h.selectExtensions.writeValue(n,h.utils.unwrapObservable(r.get("value")),!0);else if(u.length){var f=h.utils.arrayIndexOf(u,h.selectExtensions.readValue(i[0]))>=0;h.utils.setOptionNodeSelectionState(i[0],f);o&&!f&&h.dependencyDetection.ignore(h.utils.triggerEvent,null,[n,"change"])}}var k=n.length==0,s=n.multiple,c=!k&&s?n.scrollTop:null,f=h.utils.unwrapObservable(i()),e=r.get("valueAllowUnset")&&r.has("value"),d=r.get("optionsIncludeDestroyed"),p={},l,a,u=[],o,v;e||(s?u=h.utils.arrayMap(y(),h.selectExtensions.readValue):n.selectedIndex>=0&&u.push(h.selectExtensions.readValue(n.options[n.selectedIndex])));f&&(typeof f.length=="undefined"&&(f=[f]),a=h.utils.arrayFilter(f,function(n){return d||n===t||n===null||!h.utils.unwrapObservable(n._destroy)}),r.has("optionsCaption")&&(l=h.utils.unwrapObservable(r.get("optionsCaption")),l!==null&&l!==t&&a.unshift(g)));o=!1;p.beforeRemove=function(t){n.removeChild(t)};v=b;r.has("optionsAfterRender")&&typeof r.get("optionsAfterRender")=="function"&&(v=function(n,i){b(n,i);h.dependencyDetection.ignore(r.get("optionsAfterRender"),null,[i[0],n!==g?n:t])});h.utils.setDomNodeChildrenFromArrayMapping(n,a,nt,p,v);h.dependencyDetection.ignore(function(){if(e)h.selectExtensions.writeValue(n,h.utils.unwrapObservable(r.get("value")),!0);else{var t;t=s?u.length&&y().length<u.length:u.length&&n.selectedIndex>=0?h.selectExtensions.readValue(n.options[n.selectedIndex])!==u[0]:u.length||n.selectedIndex>=0;t&&h.utils.triggerEvent(n,"change")}});h.utils.ensureSelectElementIsRenderedCorrectly(n);c&&Math.abs(c-n.scrollTop)>20&&(n.scrollTop=c)}};h.bindingHandlers.options.optionValueDomDataKey=h.utils.domData.nextKey();h.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(n,t,i){h.utils.registerEventHandler(n,"change",function(){var u=t(),r=[];h.utils.arrayForEach(n.getElementsByTagName("option"),function(n){n.selected&&r.push(h.selectExtensions.readValue(n))});h.expressionRewriting.writeValueToProperty(u,i,"selectedOptions",r)})},update:function(n,t){if(h.utils.tagNameLower(n)!="select")throw new Error("values binding applies only to SELECT elements");var i=h.utils.unwrapObservable(t()),r=n.scrollTop;i&&typeof i.length=="number"&&h.utils.arrayForEach(n.getElementsByTagName("option"),function(n){var t=h.utils.arrayIndexOf(i,h.selectExtensions.readValue(n))>=0;n.selected!=t&&h.utils.setOptionNodeSelectionState(n,t)});n.scrollTop=r}};h.expressionRewriting.twoWayBindings.selectedOptions=!0;h.bindingHandlers.style={update:function(n,i){var r=h.utils.unwrapObservable(i()||{});h.utils.objectForEach(r,function(i,r){r=h.utils.unwrapObservable(r);(r===null||r===t||r===!1)&&(r="");n.style[i]=r})}};h.bindingHandlers.submit={init:function(n,t,i,r,u){if(typeof t()!="function")throw new Error("The value for a submit binding must be a function");h.utils.registerEventHandler(n,"submit",function(i){var r,f=t();try{r=f.call(u.$data,n)}finally{r!==!0&&(i.preventDefault?i.preventDefault():i.returnValue=!1)}})}};h.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){h.utils.setTextContent(n,t())}};h.virtualElements.allowedBindings.text=!0,function(){if(u&&u.navigator)var i=function(n){if(n)return parseFloat(n[1])},o=u.opera&&u.opera.version&&parseInt(u.opera.version()),r=u.navigator.userAgent,s=i(r.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),c=i(r.match(/Firefox\/([^ ]*)/));if(h.utils.ieVersion<10)var f=h.utils.domData.nextKey(),e=h.utils.domData.nextKey(),l=function(n){var t=this.activeElement,i=t&&h.utils.domData.get(t,e);i&&i(n)},a=function(n,t){var i=n.ownerDocument;h.utils.domData.get(i,f)||(h.utils.domData.set(i,f,!0),h.utils.registerEventHandler(i,"selectionchange",l));h.utils.domData.set(n,e,t)};h.bindingHandlers.textInput={init:function(i,r,u){var p=i.value,v,y,e=function(f){clearTimeout(v);y=v=t;var e=i.value;p!==e&&(n&&f&&(i._ko_textInputProcessedEvent=f.type),p=e,h.expressionRewriting.writeValueToProperty(r(),u,"textInput",e))},l=function(t){if(!v){y=i.value;var r=n?e.bind(i,{type:t.type}):e;v=h.utils.setTimeout(r,4)}},w=h.utils.ieVersion==9?l:e,b=function(){var n=h.utils.unwrapObservable(r());if((n===null||n===t)&&(n=""),y!==t&&n===y){h.utils.setTimeout(b,4);return}i.value!==n&&(p=n,i.value=n)},f=function(n,t){h.utils.registerEventHandler(i,n,t)};n&&h.bindingHandlers.textInput._forceUpdateOn?h.utils.arrayForEach(h.bindingHandlers.textInput._forceUpdateOn,function(n){n.slice(0,5)=="after"?f(n.slice(5),l):f(n,e)}):h.utils.ieVersion<10?(f("propertychange",function(n){n.propertyName==="value"&&w(n)}),h.utils.ieVersion==8&&(f("keyup",e),f("keydown",e)),h.utils.ieVersion>=8&&(a(i,w),f("dragend",l))):(f("input",e),s<5&&h.utils.tagNameLower(i)==="textarea"?(f("keydown",l),f("paste",l),f("cut",l)):o<11?f("keydown",l):c<4&&(f("DOMAutoComplete",e),f("dragdrop",e),f("drop",e)));f("change",e);h.computed(b,null,{disposeWhenNodeIsRemoved:i})}};h.expressionRewriting.twoWayBindings.textInput=!0;h.bindingHandlers.textinput={preprocess:function(n,t,i){i("textInput",n)}}}();h.bindingHandlers.uniqueName={init:function(n,t){if(t()){var i="ko_unique_"+ ++h.bindingHandlers.uniqueName.currentIndex;h.utils.setElementName(n,i)}}};h.bindingHandlers.uniqueName.currentIndex=0;h.bindingHandlers.value={after:["options","foreach"],init:function(n,t,i){var o,c,s;if(n.tagName.toLowerCase()=="input"&&(n.type=="checkbox"||n.type=="radio")){h.applyBindingAccessorsToNode(n,{checkedValue:t});return}var r=["change"],u=i.get("valueUpdate"),f=!1,e=null;u&&(typeof u=="string"&&(u=[u]),h.utils.arrayPushAll(r,u),r=h.utils.arrayGetDistinctValues(r));o=function(){e=null;f=!1;var r=t(),u=h.selectExtensions.readValue(n);h.expressionRewriting.writeValueToProperty(r,i,"value",u)};c=h.utils.ieVersion&&n.tagName.toLowerCase()=="input"&&n.type=="text"&&n.autocomplete!="off"&&(!n.form||n.form.autocomplete!="off");c&&h.utils.arrayIndexOf(r,"propertychange")==-1&&(h.utils.registerEventHandler(n,"propertychange",function(){f=!0}),h.utils.registerEventHandler(n,"focus",function(){f=!1}),h.utils.registerEventHandler(n,"blur",function(){f&&o()}));h.utils.arrayForEach(r,function(t){var i=o;h.utils.stringStartsWith(t,"after")&&(i=function(){e=h.selectExtensions.readValue(n);h.utils.setTimeout(o,0)},t=t.substring(5));h.utils.registerEventHandler(n,t,i)});s=function(){var r=h.utils.unwrapObservable(t()),c=h.selectExtensions.readValue(n),o,u,f;if(e!==null&&r===e){h.utils.setTimeout(s,0);return}o=r!==c;o&&(h.utils.tagNameLower(n)==="select"?(u=i.get("valueAllowUnset"),f=function(){h.selectExtensions.writeValue(n,r,u)},f(),u||r===h.selectExtensions.readValue(n)?h.utils.setTimeout(f,0):h.dependencyDetection.ignore(h.utils.triggerEvent,null,[n,"change"])):h.selectExtensions.writeValue(n,r))};h.computed(s,null,{disposeWhenNodeIsRemoved:n})},update:function(){}};h.expressionRewriting.twoWayBindings.value=!0;h.bindingHandlers.visible={update:function(n,t){var i=h.utils.unwrapObservable(t()),r=!(n.style.display=="none");i&&!r?n.style.display="":!i&&r&&(n.style.display="none")}};yt("click");h.templateEngine=function(){};h.templateEngine.prototype.renderTemplateSource=function(){throw new Error("Override renderTemplateSource");};h.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(){throw new Error("Override createJavaScriptEvaluatorBlock");};h.templateEngine.prototype.makeTemplateSource=function(n,t){if(typeof n=="string"){t=t||i;var r=t.getElementById(n);if(!r)throw new Error("Cannot find template with ID "+n);return new h.templateSources.domElement(r)}if(n.nodeType==1||n.nodeType==8)return new h.templateSources.anonymousTemplate(n);throw new Error("Unknown template type: "+n);};h.templateEngine.prototype.renderTemplate=function(n,t,i,r){var u=this.makeTemplateSource(n,r);return this.renderTemplateSource(u,t,i,r)};h.templateEngine.prototype.isTemplateRewritten=function(n,t){return this.allowTemplateRewriting===!1?!0:this.makeTemplateSource(n,t).data("isRewritten")};h.templateEngine.prototype.rewriteTemplate=function(n,t,i){var r=this.makeTemplateSource(n,i),u=t(r.text());r.text(u);r.data("isRewritten",!0)};h.exportSymbol("templateEngine",h.templateEngine);h.templateRewriting=function(){function r(n){for(var i,r,u,f=h.expressionRewriting.bindingRewriteValidators,t=0;t<n.length;t++)if(i=n[t].key,f.hasOwnProperty(i))if(r=f[i],typeof r=="function"){if(u=r(n[t].value),u)throw new Error(u);}else if(!r)throw new Error("This template engine does not support the '"+i+"' binding within its templates");}function n(n,t,i,u){var f=h.expressionRewriting.parseObjectLiteral(n),e,o;return r(f),e=h.expressionRewriting.preProcessBindings(f,{valueAccessors:!0}),o="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+e+" } })()},'"+i.toLowerCase()+"')",u.createJavaScriptEvaluatorBlock(o)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,i=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(n,t,i){t.isTemplateRewritten(n,i)||t.rewriteTemplate(n,function(n){return h.templateRewriting.memoizeBindingAttributeSyntax(n,t)},i)},memoizeBindingAttributeSyntax:function(r,u){return r.replace(t,function(){return n(arguments[4],arguments[1],arguments[2],u)}).replace(i,function(){return n(arguments[1],"<!-- ko -->","#comment",u)})},applyMemoizedBindingsToNextSibling:function(n,t){return h.memoization.memoize(function(i,r){var u=i.nextSibling;u&&u.nodeName.toLowerCase()===t&&h.applyBindingAccessorsToNode(u,n,r)})}}}();h.exportSymbol("__tr_ambtns",h.templateRewriting.applyMemoizedBindingsToNextSibling),function(){function o(n){return h.utils.domData.get(n,i)||{}}function s(n,t){h.utils.domData.set(n,i,t)}var n,i;h.templateSources={};var r=1,u=2,f=3,e=4;h.templateSources.domElement=function(n){if(this.domElement=n,n){var t=h.utils.tagNameLower(n);this.templateType=t==="script"?r:t==="textarea"?u:t=="template"&&n.content&&n.content.nodeType===11?f:e}};h.templateSources.domElement.prototype.text=function(){var n=this.templateType===r?"text":this.templateType===u?"value":"innerHTML",t;if(arguments.length==0)return this.domElement[n];t=arguments[0];n==="innerHTML"?h.utils.setHtml(this.domElement,t):this.domElement[n]=t};n=h.utils.domData.nextKey()+"_";h.templateSources.domElement.prototype.data=function(t){if(arguments.length===1)return h.utils.domData.get(this.domElement,n+t);h.utils.domData.set(this.domElement,n+t,arguments[1])};i=h.utils.domData.nextKey();h.templateSources.domElement.prototype.nodes=function(){var n=this.domElement,i,r,u;if(arguments.length==0)return i=o(n),r=i.containerData,r||(this.templateType===f?n.content:this.templateType===e?n:t);u=arguments[0];s(n,{containerData:u})};h.templateSources.anonymousTemplate=function(n){this.domElement=n};h.templateSources.anonymousTemplate.prototype=new h.templateSources.domElement;h.templateSources.anonymousTemplate.prototype.constructor=h.templateSources.anonymousTemplate;h.templateSources.anonymousTemplate.prototype.text=function(){var n,i;if(arguments.length==0)return n=o(this.domElement),n.textData===t&&n.containerData&&(n.textData=n.containerData.innerHTML),n.textData;i=arguments[0];s(this.domElement,{textData:i})};h.exportSymbol("templateSources",h.templateSources);h.exportSymbol("templateSources.domElement",h.templateSources.domElement);h.exportSymbol("templateSources.anonymousTemplate",h.templateSources.anonymousTemplate)}(),function(){function i(n,t,i){for(var u,r=n,f=h.virtualElements.nextSibling(t);r&&(u=r)!==f;)r=h.virtualElements.nextSibling(u),i(u,r)}function f(n,t){if(n.length){var r=n[0],u=n[n.length-1],f=r.parentNode,e=h.bindingProvider.instance,o=e.preprocessNode;if(o){if(i(r,u,function(n,t){var f=n.previousSibling,i=o.call(e,n);i&&(n===r&&(r=i[0]||t),n===u&&(u=i[i.length-1]||f))}),n.length=0,!r)return;r===u?n.push(r):(n.push(r,u),h.utils.fixUpContinuousNodeArray(n,f))}i(r,u,function(n){(n.nodeType===1||n.nodeType===8)&&h.applyBindings(t,n)});i(r,u,function(n){(n.nodeType===1||n.nodeType===8)&&h.memoization.unmemoizeDomNodeAndDescendants(n,[t])});h.utils.fixUpContinuousNodeArray(n,f)}}function r(n){return n.nodeType?n:n.length>0?n[0]:null}function e(t,i,u,e,o){var s,c;o=o||{};var v=t&&r(t),l=(v||u||{}).ownerDocument,a=o.templateEngine||n;if(h.templateRewriting.ensureTemplateIsRewritten(u,a,l),s=a.renderTemplate(u,e,o,l),typeof s.length!="number"||s.length>0&&typeof s[0].nodeType!="number")throw new Error("Template engine must return an array of DOM nodes");c=!1;switch(i){case"replaceChildren":h.virtualElements.setDomNodeChildren(t,s);c=!0;break;case"replaceNode":h.utils.replaceDomNodes(t,s);c=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+i);}return c&&(f(s,e),o.afterRender&&h.dependencyDetection.ignore(o.afterRender,null,[s,e.$data])),s}function o(n,t,i){return h.isObservable(n)?n():typeof n=="function"?n(t,i):n}function s(n,i){var r=h.utils.domData.get(n,u);r&&typeof r.dispose=="function"&&r.dispose();h.utils.domData.set(n,u,i&&i.isActive()?i:t)}var n,u;h.setTemplateEngine=function(i){if(i!=t&&!(i instanceof h.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");n=i};h.renderTemplate=function(i,u,f,s,c){if(f=f||{},(f.templateEngine||n)==t)throw new Error("Set a template engine before calling renderTemplate");if(c=c||"replaceChildren",s){var l=r(s),a=function(){return!l||!h.utils.domNodeIsAttachedToDocument(l)},v=l&&c=="replaceNode"?l.parentNode:l;return h.dependentObservable(function(){var n=u&&u instanceof h.bindingContext?u:new h.bindingContext(u,null,null,null,{exportDependencies:!0}),t=o(i,n.$data,n),a=e(s,c,t,n,f);c=="replaceNode"&&(s=a,l=r(s))},null,{disposeWhen:a,disposeWhenNodeIsRemoved:v})}return h.memoization.memoize(function(n){h.renderTemplate(i,u,f,n,"replaceNode")})};h.renderTemplateForEach=function(n,i,r,u,s){var c,l=function(t,i){c=s.createChildContext(t,r.as,function(n){n.$index=i});var u=o(n,t,c);return e(null,"ignoreTargetNode",u,c,r)},a=function(n,t){f(t,c);r.afterRender&&r.afterRender(t,n);c=null};return h.dependentObservable(function(){var n=h.utils.unwrapObservable(i)||[],f;typeof n.length=="undefined"&&(n=[n]);f=h.utils.arrayFilter(n,function(n){return r.includeDestroyed||n===t||n===null||!h.utils.unwrapObservable(n._destroy)});h.dependencyDetection.ignore(h.utils.setDomNodeChildrenFromArrayMapping,null,[u,f,l,r,a])},null,{disposeWhenNodeIsRemoved:u})};u=h.utils.domData.nextKey();h.bindingHandlers.template={init:function(n,t){var i=h.utils.unwrapObservable(t()),u,f,r;if(typeof i=="string"||i.name)h.virtualElements.emptyNode(n);else if("nodes"in i){if(u=i.nodes||[],h.isObservable(u))throw new Error('The "nodes" option must be a plain, non-observable array.');r=h.utils.moveCleanedNodesToContainerElement(u);new h.templateSources.anonymousTemplate(n).nodes(r)}else f=h.virtualElements.childNodes(n),r=h.utils.moveCleanedNodesToContainerElement(f),new h.templateSources.anonymousTemplate(n).nodes(r);return{controlsDescendantBindings:!0}},update:function(n,t,i,r,u){var l=t(),f=h.utils.unwrapObservable(l),e=!0,c=null,o,a,v;typeof f=="string"?(o=l,f={}):(o=f.name,"if"in f&&(e=h.utils.unwrapObservable(f["if"])),e&&"ifnot"in f&&(e=!h.utils.unwrapObservable(f.ifnot)));"foreach"in f?(a=e&&f.foreach||[],c=h.renderTemplateForEach(o||n,a,f,n,u)):e?(v="data"in f?u.createStaticChildContext(f.data,f.as):u,c=h.renderTemplate(o||n,v,f,n)):h.virtualElements.emptyNode(n);s(n,c)}};h.expressionRewriting.bindingRewriteValidators.template=function(n){var t=h.expressionRewriting.parseObjectLiteral(n);return t.length==1&&t[0].unknown?null:h.expressionRewriting.keyValueArrayContainsKey(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"};h.virtualElements.allowedBindings.template=!0}();h.exportSymbol("setTemplateEngine",h.setTemplateEngine);h.exportSymbol("renderTemplate",h.renderTemplate);h.utils.findMovesInArrayComparison=function(n,t,i){if(n.length&&t.length)for(var o,r,f,e,u=o=0;(!i||u<i)&&(f=n[o]);++o){for(r=0;e=t[r];++r)if(f.value===e.value){f.moved=e.index;e.moved=f.index;t.splice(r,1);u=r=0;break}u+=r}};h.utils.compareArrays=function(){function r(r,u,f){return f=typeof f=="boolean"?{dontLimitMoves:f}:f||{},r=r||[],u=u||[],r.length<u.length?i(r,u,n,t,f):i(u,r,t,n,f)}function i(n,t,i,r,u){for(var p=Math.min,it=Math.max,l=[],c=n.length,f,a=t.length,rt=a-c||1,w=c+a+1,o,v,b,k,d,g,e=0;e<=c;e++)for(v=o,l.push(o=[]),b=p(a,e+rt),k=it(0,e-1),f=k;f<=b;f++)f?e?n[e-1]===t[f-1]?o[f]=v[f-1]:(d=v[f]||w,g=o[f-1]||w,o[f]=p(d,g)+1):o[f]=f+1:o[f]=e+1;var s=[],y,nt=[],tt=[];for(e=c,f=a;e||f;)y=l[e][f]-1,f&&y===l[e][f-1]?nt.push(s[s.length]={status:i,value:t[--f],index:f}):e&&y===l[e-1][f]?tt.push(s[s.length]={status:r,value:n[--e],index:e}):(--f,--e,u.sparse||s.push({status:"retained",value:t[f]}));return h.utils.findMovesInArrayComparison(tt,nt,!u.dontLimitMoves&&c*10),s.reverse()}var n="added",t="deleted";return r}();h.exportSymbol("utils.compareArrays",h.utils.compareArrays),function(){function r(n,i,r,u,f){var e=[],o=h.dependentObservable(function(){var t=i(r,f,h.utils.fixUpContinuousNodeArray(e,n))||[];e.length>0&&(h.utils.replaceDomNodes(e,t),u&&h.dependencyDetection.ignore(u,null,[r,t,f]));e.length=0;h.utils.arrayPushAll(e,t)},null,{disposeWhenNodeIsRemoved:n,disposeWhen:function(){return!h.utils.anyDomNodeIsAttachedToDocument(e)}});return{mappedNodes:e,dependentObservable:o.isActive()?o:t}}var n=h.utils.domData.nextKey(),i=h.utils.domData.nextKey();h.utils.setDomNodeChildrenFromArrayMapping=function(u,f,e,o,s){function et(n,t){c=d[t];nt!==t&&(it[n]=c);c.indexObservable(nt++);h.utils.fixUpContinuousNodeArray(c.mappedNodes,u);y.push(c);p.push(c)}function w(n,t){if(n)for(var i=0,r=t.length;i<r;i++)t[i]&&h.utils.arrayForEach(t[i].mappedNodes,function(r){n(r,i,t[i].arrayEntry)})}var b,k,l,rt,ot,v,ut;f=f||[];o=o||{};var st=h.utils.domData.get(u,n)===t,d=h.utils.domData.get(u,n)||[],ht=h.utils.arrayMap(d,function(n){return n.arrayEntry}),ct=h.utils.compareArrays(ht,f,o.dontLimitMoves),y=[],g=0,nt=0,tt=[],p=[],a=[],it=[],ft=[],c;for(l=0;b=ct[l];l++){k=b.moved;switch(b.status){case"deleted":k===t&&(c=d[g],c.dependentObservable&&(c.dependentObservable.dispose(),c.dependentObservable=t),h.utils.fixUpContinuousNodeArray(c.mappedNodes,u).length&&(o.beforeRemove&&(y.push(c),p.push(c),c.arrayEntry===i?c=null:a[l]=c),c&&tt.push.apply(tt,c.mappedNodes)));g++;break;case"retained":et(l,g++);break;case"added":k!==t?et(l,k):(c={arrayEntry:b.value,indexObservable:h.observable(nt++)},y.push(c),p.push(c),st||(ft[l]=c))}}for(h.utils.domData.set(u,n,y),w(o.beforeMove,it),h.utils.arrayForEach(tt,o.beforeRemove?h.cleanNode:h.removeNode),l=0,rt=h.virtualElements.firstChild(u);c=p[l];l++){for(c.mappedNodes||h.utils.extend(c,r(u,e,c.arrayEntry,s,c.indexObservable)),ut=0;v=c.mappedNodes[ut];rt=v.nextSibling,ot=v,ut++)v!==rt&&h.virtualElements.insertAfter(u,v,ot);!c.initialized&&s&&(s(c.arrayEntry,c.mappedNodes,c.indexObservable),c.initialized=!0)}for(w(o.beforeRemove,a),l=0;l<a.length;++l)a[l]&&(a[l].arrayEntry=i);w(o.afterMove,it);w(o.afterAdd,ft)}}();h.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",h.utils.setDomNodeChildrenFromArrayMapping);h.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1};h.nativeTemplateEngine.prototype=new h.templateEngine;h.nativeTemplateEngine.prototype.constructor=h.nativeTemplateEngine;h.nativeTemplateEngine.prototype.renderTemplateSource=function(n,t,i,r){var e=!(h.utils.ieVersion<9),o=e?n.nodes:null,u=o?n.nodes():null,f;return u?h.utils.makeArray(u.cloneNode(!0).childNodes):(f=n.text(),h.utils.parseHtmlFragment(f,r))};h.nativeTemplateEngine.instance=new h.nativeTemplateEngine;h.setTemplateEngine(h.nativeTemplateEngine.instance);h.exportSymbol("nativeTemplateEngine",h.nativeTemplateEngine),function(){h.jqueryTmplTemplateEngine=function(){function t(){if(n<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");}function u(n,t,i){return r.tmpl(n,t,i)}var n=this.jQueryTmplVersion=function(){if(!r||!r.tmpl)return 0;try{if(r.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(n){}return 1}();this.renderTemplateSource=function(n,f,e,o){var s,h;o=o||i;e=e||{};t();s=n.data("precompiled");s||(h=n.text()||"",h="{{ko_with $item.koBindingContext}}"+h+"{{/ko_with}}",s=r.template(null,h),n.data("precompiled",s));var l=[f.$data],a=r.extend({koBindingContext:f},e.templateOptions),c=u(s,l,a);return c.appendTo(o.createElement("div")),r.fragments={},c};this.createJavaScriptEvaluatorBlock=function(n){return"{{ko_code ((function() { return "+n+" })()) }}"};this.addTemplate=function(n,t){i.write("<script type='text/html' id='"+n+"'>"+t+"<\/script>")};n>0&&(r.tmpl.tag.ko_code={open:"__.push($1 || '');"},r.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};h.jqueryTmplTemplateEngine.prototype=new h.templateEngine;h.jqueryTmplTemplateEngine.prototype.constructor=h.jqueryTmplTemplateEngine;var n=new h.jqueryTmplTemplateEngine;n.jQueryTmplVersion>0&&h.setTemplateEngine(n);h.exportSymbol("jqueryTmplTemplateEngine",h.jqueryTmplTemplateEngine)}()})})()})();
(function(n){if(typeof define=="function"&&define.amd)define(["knockout"],n);else if(typeof module=="object"){var t=require("knockout");n(t)}else n(window.ko)})(function(n){function r(n,t){return v(g(n),"preprocess",t)}function g(t){return typeof t=="object"?t:n.getBindingHandler(t)||(n.bindingHandlers[t]={})}function v(n,t,i){if(n[t]){var r=n[t];n[t]=function(n,t,u){return n=r.call(this,n,t,u),n?i.call(this,n,t,u):void 0}}else n[t]=i;return n}function s(t){var i=n.bindingProvider.instance,r;i.preprocessNode?(r=i.preprocessNode,i.preprocessNode=function(n){var i=r.call(this,n);return i||(i=t.call(this,n)),i}):i.preprocessNode=t}function nt(t,i){var r=n.getBindingHandler;n.getBindingHandler=function(n){var u;return r(n)||(u=n.match(t))&&i(u,n)}}function y(n){var t,f,r,u,e,i;if(n.indexOf("|")===-1)return n;if(t=n.match(/"([^"\\]|\\.)*"|'([^'\\]|\\.)*'|\|\||[|:]|[^\s|:"'][^|:"']*[^\s|:"']|[^\s|:"']/g),t&&t.length>1)for(t.push("|"),n=t[0],r=!1,u=!1,e=1;i=t[e];++e)i==="|"?(r&&(f===":"&&(n+="undefined"),n+=")"),u=!0,r=!0):(u?n="ko.filters['"+i+"']("+n:r&&i===":"?(f===":"&&(n+="undefined"),n+=","):n+=i,u=!1),f=i;return n}function p(n){r(n,y)}function b(t,i,r){function f(r){u[r]&&(u[r]=function(u,f){function o(){var n={};return n[t]=f(),n}var e=Array.prototype.slice.call(arguments,0);return e[1]=o,n.bindingHandlers[i][r].apply(this,e)})}var u=n.utils.extend({},this);return f("init"),f("update"),u.preprocess&&(u.preprocess=null),n.virtualElements.allowedBindings[i]&&(n.virtualElements.allowedBindings[r]=!0),u}function h(t,i){var u=n.getBindingHandler(t),f;u&&(f=u.getNamespacedHandler||b,u.getNamespacedHandler=function(){return r(f.apply(this,arguments),i)})}function it(t,i,r){if(t.charAt(0)!=="{")return t;var u=n.expressionRewriting.parseObjectLiteral(t);n.utils.arrayForEach(u,function(n){r(i+w+n.key,n.value)})}function e(n){r(n,it)}function f(n){return/^([$_a-z][$\w]*|.+(\.\s*[$_a-z][$\w]*|\[.+\]))$/i.test(n)?"function(_x,_y,_z){return("+n+")(_x,_y,_z);}":n}function c(n){r(n,f)}function o(n,t,i){var r=g(n);r._propertyPreprocessors||(v(r,"preprocess",at),r._propertyPreprocessors={});v(r._propertyPreprocessors,t,i)}function at(t,i,r){if(t.charAt(0)!=="{")return t;var e=n.expressionRewriting.parseObjectLiteral(t),u=[],f=this._propertyPreprocessors||{};return n.utils.arrayForEach(e,function(n){var t=n.key,i=n.value;f[t]&&(i=f[t](i,t,r));i&&u.push("'"+t+"':"+i)}),"{"+u.join(",")+"}"}function k(n){return function(t){return"function("+n+"){return("+t+");}"}}function vt(n,t){var t=Array.prototype.slice.call(arguments,1).join();r(n,k(t))}function rt(n,t,i){function u(n){var r=n.match(/^([\s\S]*)}}([\s\S]*?)\{\{([\s\S]*)$/);r?(u(r[1]),t(r[2]),i(r[3])):i(n)}var r=n.match(/^([\s\S]*?)\{\{([\s\S]*)}}([\s\S]*)$/);r&&(t(r[1]),u(r[2]),t(r[3]))}function l(n){return n==null?"":n.trim?n.trim():n.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function ut(n){var t;if(n.nodeType===3&&n.nodeValue&&n.nodeValue.indexOf("{{")!==-1&&(n.parentNode||{}).nodeName!="TEXTAREA"){t=[];function u(n){n&&t.push(document.createTextNode(n))}function f(i){i&&t.push.apply(t,ot.wrapExpression(i,n))}if(rt(n.nodeValue,u,f),t.length){if(n.parentNode){for(var i=0,e=t.length,r=n.parentNode;i<e;++i)r.insertBefore(t[i],n);r.removeChild(n)}return t}}}function yt(n,t){var e=t?t.ownerDocument:document,o=!0,i,n=l(n),r=n[0],s=n[n.length-1],u=[],f;return r==="#"?(s==="/"?i=n.slice(1,-1):(i=n.slice(1),o=!1),(f=i.match(/^([^,"'{}()\/:[\]\s]+)\s+([^\s:].*)/))&&(i=f[1]+":"+f[2])):r==="/"||(i=r==="{"&&s==="}"?"html:"+l(n.slice(1,-1)):"text:"+l(n)),i&&u.push(e.createComment("ko "+i)),o&&u.push(e.createComment("/ko")),u}function et(){s(ut)}function st(t){var u,i,f,r,o,s;if(t.nodeType===1&&t.attributes.length){u=t.getAttribute(a);for(var h=n.utils.arrayPushAll([],t.attributes),c=h.length,e=0;e<c;++e)if(i=h[e],i.specified&&i.name!=a&&i.value.indexOf("{{")!==-1){f=[];r="";function l(n){n&&f.push('"'+n.replace(/"/g,'\\"')+'"')}function v(n){n&&(r=n,f.push("ko.unwrap("+n+")"))}rt(i.value,l,v);f.length>1&&(r='""+'+f.join("+"));r&&(o=i.name.toLowerCase(),s=lt.attributeBinding(o,r,t)||ht(o,r,t),u?u+=","+s:u=s,t.setAttribute(a,u),t.removeAttribute(i.name))}}}function ht(t,i){return n.getBindingHandler(t)?t+":"+i:"attr."+t+":"+i}function ct(){s(st)}var u=n.unwrap,t=n.punches={utils:{addBindingPreprocessor:r,addNodePreprocessor:s,addBindingHandlerCreator:nt,setBindingPreprocessor:r,setNodePreprocessor:s}},i,tt,w,d,ft,ot,a,lt;return t.enableAll=function(){et();ct();e("attr");e("css");e("event");e("style");n.bindingHandlers.checked.after.push("attr.value");p("text");p("html");h("attr",y);c("click");c("submit");c("optionsAfterRender");h("event",f);o("template","beforeRemove",f);o("template","afterAdd",f);o("template","afterRender",f)},i={},i.uppercase=function(n){return String.prototype.toUpperCase.call(u(n))},i.lowercase=function(n){return String.prototype.toLowerCase.call(u(n))},i["default"]=function(n,t){return(n=u(n),typeof n=="function")?n:typeof n=="string"?l(n)===""?t:n:n==null||n.length==0?t:n},i.replace=function(n,t,i){return String.prototype.replace.call(u(n),t,i)},i.fit=function(n,t,i,r){if(n=u(n),t&&(""+n).length>t){i=""+(i||"...");t=t-i.length;n=""+n;switch(r){case"left":return i+n.slice(-t);case"middle":var f=Math.ceil(t/2);return n.substr(0,f)+i+n.slice(f-t);default:return n.substr(0,t)+i}}else return n},i.json=function(t,i,r){return n.toJSON(t,r,i)},i.number=function(n){return(+u(n)).toLocaleString()},n.filters=i,t.textFilter={preprocessor:y,enableForBinding:p},tt=/([^\.]+)\.(.+)/,w=".",nt(tt,function(t,i){var u=t[1],r=n.bindingHandlers[u];if(r){var e=t[2],o=r.getNamespacedHandler||b,f=o.call(r,e,u,i);return n.bindingHandlers[i]=f,f}}),t.namespacedBinding={defaultGetHandler:b,setDefaultBindingPreprocessor:h,addDefaultBindingPreprocessor:h,preprocessor:it,enableForBinding:e},t.wrappedCallback={preprocessor:f,enableForBinding:c},t.preprocessBindingProperty={setPreprocessor:o,addPreprocessor:o},d=k("$data,$event"),t.expressionCallback={makePreprocessor:k,eventPreprocessor:d,enableForBinding:vt},n.bindingHandlers.on={getNamespacedHandler:function(t){var i=n.getBindingHandler("event"+w+t);return r(i,d)}},n.virtualElements.allowedBindings.html||(ft=n.bindingHandlers.html.update,n.bindingHandlers.html.update=function(t,i){var r,f;t.nodeType===8?(r=u(i()),r!=null?(f=n.utils.parseHtmlFragment(""+r),n.virtualElements.setDomNodeChildren(t,f)):n.virtualElements.emptyNode(t)):ft(t,i)},n.virtualElements.allowedBindings.html=!0),ot=t.interpolationMarkup={preprocessor:ut,enable:et,wrapExpression:yt},a="data-bind",lt=t.attributeInterpolationMarkup={preprocessor:st,enable:ct,attributeBinding:ht},t});
(function(n){typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?n(require("knockout"),exports):typeof define=="function"&&define.amd?define(["knockout","exports"],n):n(ko,ko.mapping={})})(function(n,t){function rt(n,t){for(var u,f,r={},i=n.length-1;i>=0;--i)r[n[i]]=n[i];for(i=t.length-1;i>=0;--i)r[t[i]]=t[i];u=[];for(f in r)u.push(r[f]);return u}function y(n,i){var u,r,f;for(r in i)i.hasOwnProperty(r)&&i[r]&&(u=t.getType(n[r]),r&&n[r]&&u!=="array"&&u!=="string"?y(n[r],i[r]):(f=t.getType(n[r])==="array"&&t.getType(i[r])==="array",n[r]=f?rt(n[r],i[r]):i[r]))}function c(n,t){var i={};return y(i,n),y(i,t),i}function p(n,t){for(var f,i=c({},n),e=w.length-1;e>=0;e--)(f=w[e],i[f])&&(i[""]instanceof Object||(i[""]={}),i[""][f]=i[f],delete i[f]);return t&&(i.ignore=u(t.ignore,i.ignore),i.include=u(t.include,i.include),i.copy=u(t.copy,i.copy),i.observe=u(t.observe,i.observe)),i.ignore=u(i.ignore,r.ignore),i.include=u(i.include,r.include),i.copy=u(i.copy,r.copy),i.observe=u(i.observe,r.observe),i.mappedProperties=i.mappedProperties||{},i.copiedProperties=i.copiedProperties||{},i}function u(i,r){return t.getType(i)!=="array"&&(i=t.getType(i)==="undefined"?[]:[i]),t.getType(r)!=="array"&&(r=t.getType(r)==="undefined"?[]:[r]),n.utils.arrayGetDistinctValues(i.concat(r))}function ut(t,i){var u=n.dependentObservable,r;return n.dependentObservable=function(i,r,u){var f;u=u||{};i&&typeof i=="object"&&(u=i);var s=u.deferEvaluation,o=!1,h=function(i){var f=n.dependentObservable,u,r;return n.dependentObservable=e,u=n.isWriteableObservable(i),n.dependentObservable=f,r=e({read:function(){return o||(n.utils.arrayRemoveItem(t,i),o=!0),i.apply(i,arguments)},write:u&&function(n){return i(n)},deferEvaluation:!0}),it&&(r._wrapper=!0),r.__DO=i,r};return u.deferEvaluation=!0,f=new e(i,r,u),s||(f=h(f),t.push(f)),f},n.dependentObservable.fn=e.fn,n.computed=n.dependentObservable,r=i(),n.dependentObservable=u,n.computed=n.dependentObservable,r}function l(r,u,e,h,v,y,p){var si=t.getType(n.utils.unwrapObservable(u))==="array",ti,ot,ri,lt,ei,wt,yt,gt,d,it,ni,st,ht;y=y||"";t.isMapped(r)&&(ti=n.utils.unwrapObservable(r)[i],e=c(ti,e));var et={data:u,parent:p||v},ct=function(){return e[h]&&e[h].create instanceof Function},pt=function(t){return ut(o,function(){return n.utils.unwrapObservable(v)instanceof Array?e[h].create({data:t||et.data,parent:et.parent,skip:b}):e[h].create({data:t||et.data,parent:et.parent})})},rt=function(){return e[h]&&e[h].update instanceof Function},ft=function(t,i){var r={data:i||et.data,parent:et.parent,target:n.utils.unwrapObservable(t)};return n.isWriteableObservable(t)&&(r.observable=t),e[h].update(r)},ii=s.get(u);if(ii)return ii;if(h=h||"",si){var ui=[],fi=!1,w=function(n){return n};e[h]&&e[h].key&&(w=e[h].key,fi=!0);n.isObservable(r)||(r=n.observableArray([]),r.mappedRemove=function(n){var t=typeof n=="function"?n:function(t){return t===w(n)};return r.remove(function(n){return t(w(n))})},r.mappedRemoveAll=function(t){var i=f(t,w);return r.remove(function(t){return n.utils.arrayIndexOf(i,w(t))!=-1})},r.mappedDestroy=function(n){var t=typeof n=="function"?n:function(t){return t===w(n)};return r.destroy(function(n){return t(w(n))})},r.mappedDestroyAll=function(t){var i=f(t,w);return r.destroy(function(t){return n.utils.arrayIndexOf(i,w(t))!=-1})},r.mappedIndexOf=function(t){var i=f(r(),w),u=w(t);return n.utils.arrayIndexOf(i,u)},r.mappedGet=function(n){return r()[r.mappedIndexOf(n)]},r.mappedCreate=function(t){var i,u;if(r.mappedIndexOf(t)!==-1)throw new Error("There already is an object with the key that you specified.");return i=ct()?pt(t):t,rt()&&(u=ft(i,t),n.isWriteableObservable(i)?i(u):i=u),r.push(i),i});ei=f(n.utils.unwrapObservable(r),w).sort();wt=f(u,w);fi&&wt.sort();for(var oi=n.utils.compareArrays(ei,wt),at={},bt=n.utils.unwrapObservable(u),kt={},dt=!0,tt=0,vt=bt.length;tt<vt;tt++){if(d=w(bt[tt]),d===undefined||d instanceof Object){dt=!1;break}kt[d]=bt[tt]}for(yt=[],gt=0,tt=0,vt=oi.length;tt<vt;tt++){d=oi[tt];ni=y+"["+tt+"]";switch(d.status){case"added":st=dt?kt[d.value]:a(n.utils.unwrapObservable(u),d.value,w);it=l(undefined,st,e,h,r,ni,v);ct()||(it=n.utils.unwrapObservable(it));ht=k(n.utils.unwrapObservable(u),st,at);it===b?gt++:yt[ht-gt]=it;at[ht]=!0;break;case"retained":st=dt?kt[d.value]:a(n.utils.unwrapObservable(u),d.value,w);it=a(r,d.value,w);l(it,st,e,h,r,ni,v);ht=k(n.utils.unwrapObservable(u),st,at);yt[ht]=it;at[ht]=!0;break;case"deleted":it=a(r,d.value,w)}ui.push({event:d.status,item:it})}r(yt);e[h]&&e[h].arrayChanged&&n.utils.arrayForEach(ui,function(n){e[h].arrayChanged(n.event,n.item)})}else if(nt(u)){if(r=n.utils.unwrapObservable(r),!r){if(ct())return lt=pt(),rt()&&(lt=ft(lt)),lt;if(rt())return ft(lt);r={}}if(rt()&&(r=ft(r)),s.save(u,r),rt())return r;g(u,function(t){var f=y.length?y+"."+t:t;if(n.utils.arrayIndexOf(e.ignore,f)==-1){if(n.utils.arrayIndexOf(e.copy,f)!=-1){r[t]=u[t];return}if(typeof u[t]!="object"&&typeof u[t]!="array"&&e.observe.length>0&&n.utils.arrayIndexOf(e.observe,f)==-1){r[t]=u[t];e.copiedProperties[f]=!0;return}var o=s.get(u[t]),h=l(r[t],u[t],e,t,r,f,r),i=o||h;if(e.observe.length>0&&n.utils.arrayIndexOf(e.observe,f)==-1){r[t]=i();e.copiedProperties[f]=!0;return}n.isWriteableObservable(r[t])?(i=n.utils.unwrapObservable(i),r[t]()!==i&&r[t](i)):(i=r[t]===undefined?i:n.utils.unwrapObservable(i),r[t]=i);e.mappedProperties[f]=!0}})}else switch(t.getType(u)){case"function":rt()?n.isWriteableObservable(u)?(u(ft(u)),r=u):r=ft(u):r=u;break;default:if(n.isWriteableObservable(r))return rt()?(ot=ft(r),r(ot),ot):(ot=n.utils.unwrapObservable(u),r(ot),ot);if(ri=ct()||rt(),r=ct()?pt():n.observable(n.utils.unwrapObservable(u)),rt()&&r(ft(r)),ri)return r}return r}function k(n,t,i){for(var r=0,u=n.length;r<u;r++)if(i[r]!==!0&&n[r]===t)return r;return null}function d(i,r){var u;return r&&(u=r(i)),t.getType(u)==="undefined"&&(u=i),n.utils.unwrapObservable(u)}function a(t,i,r){var u,e,f;for(t=n.utils.unwrapObservable(t),u=0,e=t.length;u<e;u++)if(f=t[u],d(f,r)===i)return f;throw new Error("When calling ko.update*, the key '"+i+"' was not found!");}function f(t,i){return n.utils.arrayMap(n.utils.unwrapObservable(t),function(n){return i?d(n,i):n})}function g(n,i){var r,u;if(t.getType(n)==="array")for(r=0;r<n.length;r++)i(r);else for(u in n)i(u)}function nt(n){var i=t.getType(n);return(i==="object"||i==="array")&&n!==null}function ft(n,i,r){var u=n||"";return t.getType(i)==="array"?n&&(u+="["+r+"]"):(n&&(u+="."),u+=r),u}function et(){var t=[],i=[];this.save=function(r,u){var f=n.utils.arrayIndexOf(t,r);f>=0?i[f]=u:(t.push(r),i.push(u))};this.get=function(r){var u=n.utils.arrayIndexOf(t,r);return u>=0?i[u]:undefined}}function tt(){var n={},t=function(t){var r,i;try{r=t}catch(u){r="$$$"}return i=n[r],i===undefined&&(i=new et,n[r]=i),i};this.save=function(n,i){t(n).save(n,i)};this.get=function(n){return t(n).get(n)}}var it=!0,i="__ko_mapping__",e=n.dependentObservable,v=0,o,s,w=["create","update","key","arrayChanged"],b={},h={include:["_destroy"],ignore:[],copy:[],observe:[]},r=h;t.isMapped=function(t){var r=n.utils.unwrapObservable(t);return r&&r[i]};t.fromJS=function(n){var t,r,u,f;if(arguments.length==0)throw new Error("When calling ko.fromJS, pass the object you want to convert.");try{if(v++||(o=[],s=new tt),arguments.length==2&&(arguments[1][i]?r=arguments[1]:t=arguments[1]),arguments.length==3&&(t=arguments[1],r=arguments[2]),r&&(t=c(t,r[i])),t=p(t),u=l(r,n,t),r&&(u=r),!--v)while(o.length)f=o.pop(),f&&(f(),f.__DO.throttleEvaluation=f.throttleEvaluation);return u[i]=c(u[i],t),u}catch(e){v=0;throw e;}};t.fromJSON=function(i){var r=n.utils.parseJson(i);return arguments[0]=r,t.fromJS.apply(this,arguments)};t.updateFromJS=function(){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");};t.updateFromJSON=function(){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");};t.toJS=function(u,f){if(r||t.resetDefaultOptions(),arguments.length==0)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if(t.getType(r.ignore)!=="array")throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if(t.getType(r.include)!=="array")throw new Error("ko.mapping.defaultOptions().include should be an array.");if(t.getType(r.copy)!=="array")throw new Error("ko.mapping.defaultOptions().copy should be an array.");return f=p(f,u[i]),t.visitModel(u,function(t){return n.utils.unwrapObservable(t)},f)};t.toJSON=function(i,r){var u=t.toJS(i,r);return n.utils.stringifyJson(u)};t.defaultOptions=function(){if(arguments.length>0)r=arguments[0];else return r};t.resetDefaultOptions=function(){r={include:h.include.slice(0),ignore:h.ignore.slice(0),copy:h.copy.slice(0)}};t.getType=function(n){if(n&&typeof n=="object"){if(n.constructor===Date)return"date";if(n.constructor===Array)return"array"}return typeof n};t.visitModel=function(r,u,f){var o,e,s;if(f=f||{},f.visitedObjects=f.visitedObjects||new tt,e=n.utils.unwrapObservable(r),nt(e))f=p(f,e[i]),u(r,f.parentName),o=t.getType(e)==="array"?[]:{};else return u(r,f.parentName);return f.visitedObjects.save(r,o),s=f.parentName,g(e,function(r){var h,c;if((!f.ignore||n.utils.arrayIndexOf(f.ignore,r)==-1)&&(h=e[r],f.parentName=ft(s,e,r),n.utils.arrayIndexOf(f.copy,r)!==-1||n.utils.arrayIndexOf(f.include,r)!==-1||!e[i]||!e[i].mappedProperties||e[i].mappedProperties[r]||!e[i].copiedProperties||e[i].copiedProperties[r]||t.getType(e)==="array"))switch(t.getType(n.utils.unwrapObservable(h))){case"object":case"array":case"undefined":c=f.visitedObjects.get(h);o[r]=t.getType(c)!=="undefined"?c:t.visitModel(h,u,f);break;default:o[r]=u(h,f.parentName)}}),o}});
(function(n){typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?n(require("knockout"),exports):typeof define=="function"&&define.amd?define(["knockout","exports"],n):n(ko,ko.validation={})})(function(n,t){function a(n){var t=n==="max";return function(r,u){var o,h,s,f,e;if(i.utils.isEmptyVal(r))return!0;u.typeAttr===undefined?(h="text",o=u):(h=u.typeAttr,o=u.value);isNaN(o)||o instanceof Date||(h="number");switch(h.toLowerCase()){case"week":if(s=/^(\d{4})-W(\d{2})$/,f=r.match(s),f===null)throw new Error("Invalid value for "+n+" attribute for week input.  Should look like '2000-W33' http://www.w3.org/TR/html-markup/input.week.html#input.week.attrs.min");return(e=o.match(s),!e)?!1:t?f[1]<e[1]||f[1]===e[1]&&f[2]<=e[2]:f[1]>e[1]||f[1]===e[1]&&f[2]>=e[2];case"month":if(s=/^(\d{4})-(\d{2})$/,f=r.match(s),f===null)throw new Error("Invalid value for "+n+" attribute for month input.  Should look like '2000-03' http://www.w3.org/TR/html-markup/input.month.html#input.month.attrs.min");return(e=o.match(s),!e)?!1:t?f[1]<e[1]||f[1]===e[1]&&f[2]<=e[2]:f[1]>e[1]||f[1]===e[1]&&f[2]>=e[2];case"number":case"range":return t?!isNaN(r)&&parseFloat(r)<=parseFloat(o):!isNaN(r)&&parseFloat(r)>=parseFloat(o);default:return t?r<=o:r>=o}}}function y(n,t,r){return t.validator(n(),r.params===undefined?!0:f(r.params))?!0:(n.setError(i.formatMessage(r.message||t.message,f(r.params),n)),!1)}function p(n,t,r){n.isValidating(!0);var u=function(u){var e=!1,o="";if(!n.__valid__()){n.isValidating(!1);return}u.message?(e=u.isValid,o=u.message):e=u;e||(n.error(i.formatMessage(o||r.message||t.message,f(r.params),n)),n.__valid__(e));n.isValidating(!1)};t.validator(n(),f(r.params||!0),u)}var l,s,h,v;if(typeof n=="undefined")throw new Error("Knockout is required, please ensure it is loaded before loading this validation plug-in");n.validation=t;var i=n.validation,u=n.utils,f=u.unwrapObservable,e=u.arrayForEach,r=u.extend,c={registerExtenders:!0,messagesOnModified:!0,errorsAsTitle:!0,errorsAsTitleOnModified:!1,messageTemplate:null,insertMessages:!0,parseInputAttributes:!1,writeInputAttributes:!1,decorateInputElement:!1,decorateElementOnModified:!0,errorClass:null,errorElementClass:"validationElement",errorMessageClass:"validationMessage",allowHtmlMessages:!1,grouping:{deep:!1,observable:!0,live:!1},validate:{}},o=r({},c);o.html5Attributes=["required","pattern","min","max","step"];o.html5InputTypes=["email","number","date"];o.reset=function(){r(o,c)};i.configuration=o;i.utils=function(){var r=(new Date).getTime(),t={},n="__ko_validation__";return{isArray:function(n){return n.isArray||Object.prototype.toString.call(n)==="[object Array]"},isObject:function(n){return n!==null&&typeof n=="object"},isNumber:function(n){return!isNaN(n)},isObservableArray:function(n){return!!n&&typeof n.remove=="function"&&typeof n.removeAll=="function"&&typeof n.destroy=="function"&&typeof n.destroyAll=="function"&&typeof n.indexOf=="function"&&typeof n.replace=="function"},values:function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(n[i]);return t},getValue:function(n){return typeof n=="function"?n():n},hasAttribute:function(n,t){return n.getAttribute(t)!==null},getAttribute:function(n,t){return n.getAttribute(t)},setAttribute:function(n,t,i){return n.setAttribute(t,i)},isValidatable:function(n){return!!(n&&n.rules&&n.isValid&&n.isModified)},insertAfter:function(n,t){n.parentNode.insertBefore(t,n.nextSibling)},newId:function(){return r+=1},getConfigOptions:function(n){var t=i.utils.contextFor(n);return t||i.configuration},setDomData:function(r,u){var f=r[n];f||(r[n]=f=i.utils.newId());t[f]=u},getDomData:function(i){var r=i[n];return r?t[r]:undefined},contextFor:function(n){switch(n.nodeType){case 1:case 8:var t=i.utils.getDomData(n);if(t)return t;if(n.parentNode)return i.utils.contextFor(n.parentNode)}return undefined},isEmptyVal:function(n){return n===undefined?!0:n===null?!0:n===""?!0:void 0},getOriginalElementTitle:function(n){var t=i.utils.getAttribute(n,"data-orig-title"),r=n.title,u=i.utils.hasAttribute(n,"data-orig-title");return u?t:r},async:function(n){window.setImmediate?window.setImmediate(n):window.setTimeout(n,0)},forEach:function(n,t){if(i.utils.isArray(n))return e(n,t);for(var r in n)n.hasOwnProperty(r)&&t(n[r],r)}}}();l=function(){function l(n){e(n.subscriptions,function(n){n.dispose()});n.subscriptions=[]}function v(n){n.options.deep&&(e(n.flagged,function(n){delete n.__kv_traversed}),n.flagged.length=0);n.options.live||l(n)}function s(n,t){t.validatables=[];l(t);a(n,t);v(t)}function a(i,r,u){var e=[],f=i.peek?i.peek():i;i.__kv_traversed!==!0&&(r.options.deep&&(i.__kv_traversed=!0,r.flagged.push(i)),u=u!==undefined?u:r.options.deep?1:-1,n.isObservable(i)&&(i.errors||t.isValidatable(i)||i.extend({validatable:!0}),r.validatables.push(i),r.options.live&&t.isObservableArray(i)&&r.subscriptions.push(i.subscribe(function(){r.graphMonitor.valueHasMutated()}))),f&&!f._destroy&&(t.isArray(f)?e=f:t.isObject(f)&&(e=t.values(f))),u!==0&&t.forEach(e,function(t){t&&!t.nodeType&&(!n.isComputed(t)||t.rules)&&a(t,r,u+1)}))}function h(n){var i=[];return e(n,function(n){t.isValidatable(n)&&!n.isValid()&&i.push(n.error.peek())}),i}var c=0,o=i.configuration,t=i.utils;return{init:function(n,t){c>0&&!t||(n=n||{},n.errorElementClass=n.errorElementClass||n.errorClass||o.errorElementClass,n.errorMessageClass=n.errorMessageClass||n.errorClass||o.errorMessageClass,r(o,n),o.registerExtenders&&i.registerExtenders(),c=1)},reset:i.configuration.reset,group:function(i,f){f=r(r({},o.grouping),f);var l={options:f,graphMonitor:n.observable(),flagged:[],subscriptions:[],validatables:[]},c=null;return c=f.observable?n.computed(function(){return l.graphMonitor(),s(i,l),h(l.validatables)}):function(){return s(i,l),h(l.validatables)},c.showAllMessages=function(n){n===undefined&&(n=!0);c.forEach(function(i){t.isValidatable(i)&&i.isModified(n)})},c.isAnyMessageShown=function(){return!!c.find(function(n){return t.isValidatable(n)&&!n.isValid()&&n.isModified()})},c.filter=function(n){return n=n||function(){return!0},c(),u.arrayFilter(l.validatables,n)},c.find=function(n){return n=n||function(){return!0},c(),u.arrayFirst(l.validatables,n)},c.forEach=function(n){n=n||function(){};c();e(l.validatables,n)},c.map=function(n){return n=n||function(n){return n},c(),u.arrayMap(l.validatables,n)},c._updateState=function(n){if(!t.isObject(n))throw new Error("An object is required.");if(i=n,f.observable)l.graphMonitor.valueHasMutated();else return s(n,l),h(l.validatables)},c},formatMessage:function(n,i,r){if(t.isObject(i)&&i.typeAttr&&(i=i.value),typeof n=="function")return n(i,r);var u=f(i)||[];return t.isArray(u)||(u=[u]),n.replace(/{(\d+)}/gi,function(n,t){return typeof u[t]!="undefined"?u[t]:n})},addRule:function(n,t){n.extend({validatable:!0});var i=!!u.arrayFirst(n.rules(),function(n){return n.rule&&n.rule===t.rule});return i||n.rules.push(t),n},addAnonymousRule:function(n,t){t.message===undefined&&(t.message="Error");t.onlyIf&&(t.condition=t.onlyIf);i.addRule(n,t)},addExtender:function(r){n.extenders[r]=function(n,u){return u&&(u.message||u.onlyIf)?i.addRule(n,{rule:r,message:u.message,params:t.isEmptyVal(u.params)?!0:u.params,condition:u.onlyIf}):i.addRule(n,{rule:r,params:u})}},registerExtenders:function(){if(o.registerExtenders)for(var t in i.rules)i.rules.hasOwnProperty(t)&&(n.extenders[t]||i.addExtender(t))},insertValidationMessage:function(n){var i=document.createElement("SPAN");return i.className=t.getConfigOptions(n).errorMessageClass,t.insertAfter(n,i),i},parseInputValidationAttributes:function(n,r){e(i.configuration.html5Attributes,function(u){var e,f;t.hasAttribute(n,u)&&(e=n.getAttribute(u)||!0,(u==="min"||u==="max")&&(f=n.getAttribute("type"),typeof f!="undefined"&&f||(f="text"),e={typeAttr:f,value:e}),i.addRule(r(),{rule:u,params:e}))});var u=n.getAttribute("type");e(i.configuration.html5InputTypes,function(n){n===u&&i.addRule(r(),{rule:n==="date"?"dateISO":n,params:!0})})},writeInputValidationAttributes:function(t,r){var f=r(),o;f&&f.rules&&(o=f.rules(),e(i.configuration.html5Attributes,function(i){var r=u.arrayFirst(o,function(n){return n.rule&&n.rule.toLowerCase()===i.toLowerCase()});r&&n.computed({read:function(){var u=n.unwrap(r.params);r.rule==="pattern"&&u instanceof RegExp&&(u=u.source);t.setAttribute(i,u)},disposeWhenNodeIsRemoved:t})}),o=null)},makeBindingHandlerValidatable:function(t){var i=n.bindingHandlers[t].init;n.bindingHandlers[t].init=function(t,r,u,f,e){return i(t,r,u,f,e),n.bindingHandlers.validationCore.init(t,r,u,f,e)}},setRules:function(r,u){var e=function(r,u){var s,h,o,l;if(r&&u)for(s in u)if(u.hasOwnProperty(s)&&(h=u[s],r[s])){var a=r[s],c=f(a),y={},v={};for(o in h)h.hasOwnProperty(o)&&(i.rules[o]?y[o]=h[o]:v[o]=h[o]);if(n.isObservable(a)&&a.extend(y),c&&t.isArray(c))for(l=0;l<c.length;l++)e(c[l],v);else e(c,v)}};e(r,u)}}}();r(n.validation,l);i.rules={};i.rules.required={validator:function(n,t){var i;return n===undefined||n===null?!t:(i=n,typeof n=="string"&&(i=String.prototype.trim?n.trim():n.replace(/^\s+|\s+$/g,"")),!t)?!0:(i+"").length>0},message:"This field is required."};i.rules.min={validator:a("min"),message:"Please enter a value greater than or equal to {0}."};i.rules.max={validator:a("max"),message:"Please enter a value less than or equal to {0}."};i.rules.minLength={validator:function(n,t){if(i.utils.isEmptyVal(n))return!0;var r=i.utils.isNumber(n)?""+n:n;return r.length>=t},message:"Please enter at least {0} characters."};i.rules.maxLength={validator:function(n,t){if(i.utils.isEmptyVal(n))return!0;var r=i.utils.isNumber(n)?""+n:n;return r.length<=t},message:"Please enter no more than {0} characters."};i.rules.pattern={validator:function(n,t){return i.utils.isEmptyVal(n)||n.toString().match(t)!==null},message:"Please check this value."};i.rules.step={validator:function(n,t){if(i.utils.isEmptyVal(n)||t==="any")return!0;var r=n*100%(t*100);return Math.abs(r)<1e-5||Math.abs(1-r)<1e-5},message:"The value must increment by {0}."};i.rules.email={validator:function(n,t){return t?i.utils.isEmptyVal(n)||t&&/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(n):!0},message:"Please enter a proper email address."};i.rules.date={validator:function(n,t){return t?i.utils.isEmptyVal(n)||t&&!/Invalid|NaN/.test(new Date(n)):!0},message:"Please enter a proper date."};i.rules.dateISO={validator:function(n,t){return t?i.utils.isEmptyVal(n)||t&&/^\d{4}[-/](?:0?[1-9]|1[012])[-/](?:0?[1-9]|[12][0-9]|3[01])$/.test(n):!0},message:"Please enter a proper date."};i.rules.number={validator:function(n,t){return t?i.utils.isEmptyVal(n)||t&&/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n):!0},message:"Please enter a number."};i.rules.digit={validator:function(n,t){return t?i.utils.isEmptyVal(n)||t&&/^\d+$/.test(n):!0},message:"Please enter a digit."};i.rules.phoneUS={validator:function(n,t){return t?i.utils.isEmptyVal(n)?!0:typeof n!="string"?!1:(n=n.replace(/\s+/g,""),t&&n.length>9&&n.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)):!0},message:"Please specify a valid phone number."};i.rules.equal={validator:function(n,t){var r=t;return n===i.utils.getValue(r)},message:"Values must equal."};i.rules.notEqual={validator:function(n,t){var r=t;return n!==i.utils.getValue(r)},message:"Please choose another value."};i.rules.unique={validator:function(n,t){var r=i.utils.getValue(t.collection),e=i.utils.getValue(t.externalValue),f=0;return!n||!r?!0:(u.arrayFilter(r,function(i){n===(t.valueAccessor?t.valueAccessor(i):i)&&f++}),f<(!e?2:1))},message:"Please make sure the value is unique."},function(){i.registerExtenders()}();n.bindingHandlers.validationCore=function(){return{init:function(t,r){var u=i.utils.getConfigOptions(t),f=r(),e;u.parseInputAttributes&&i.utils.async(function(){i.parseInputValidationAttributes(t,r)});u.insertMessages&&i.utils.isValidatable(f)&&(e=i.insertValidationMessage(t),u.messageTemplate?n.renderTemplate(u.messageTemplate,{field:f},null,e,"replaceNode"):n.applyBindingsToNode(e,{validationMessage:f}));u.writeInputAttributes&&i.utils.isValidatable(f)&&i.writeInputValidationAttributes(t,r);u.decorateInputElement&&i.utils.isValidatable(f)&&n.applyBindingsToNode(t,{validationElement:f})}}}();i.makeBindingHandlerValidatable("value");i.makeBindingHandlerValidatable("checked");n.bindingHandlers.textInput&&i.makeBindingHandlerValidatable("textInput");i.makeBindingHandlerValidatable("selectedOptions");n.bindingHandlers.validationMessage={update:function(t,r){var e=r(),s=i.utils.getConfigOptions(t),v=f(e),h=!1,c=!1,o,l,a;if(e===null||typeof e=="undefined")throw new Error("Cannot bind validationMessage to undefined value. data-bind expression: "+t.getAttribute("data-bind"));h=e.isModified&&e.isModified();c=e.isValid&&e.isValid();o=null;(!s.messagesOnModified||h)&&(o=c?null:e.error);l=!s.messagesOnModified||h?!c:!1;a=t.style.display!=="none";s.allowHtmlMessages?u.setHtml(t,o):n.bindingHandlers.text.update(t,function(){return o});a&&!l?t.style.display="none":!a&&l&&(t.style.display="")}};n.bindingHandlers.validationElement={update:function(t,r,u){var e=r(),o=i.utils.getConfigOptions(t),l=f(e),h=!1,s=!1,c;if(e===null||typeof e=="undefined")throw new Error("Cannot bind validationElement to undefined value. data-bind expression: "+t.getAttribute("data-bind"));(h=e.isModified&&e.isModified(),s=e.isValid&&e.isValid(),c=function(){var n={},t=!o.decorateElementOnModified||h?!s:!1;return n[o.errorElementClass]=t,n},n.bindingHandlers.css.update(t,c,u),o.errorsAsTitle)&&n.bindingHandlers.attr.update(t,function(){var n=!o.errorsAsTitleOnModified||h,r=i.utils.getOriginalElementTitle(t);return n&&!s?{title:e.error,"data-orig-title":r}:!n||s?{title:r,"data-orig-title":null}:void 0})}};n.bindingHandlers.validationOptions=function(){return{init:function(n,t){var e=f(t()),u;e&&(u=r({},i.configuration),r(u,e),i.utils.setDomData(n,u))}}}();n.extenders.validation=function(n,t){return e(i.utils.isArray(t)?t:[t],function(t){i.addAnonymousRule(n,t)}),n};n.extenders.validatable=function(t,u){var o,f,s,e;return i.utils.isObject(u)||(u={enable:u}),"enable"in u||(u.enable=!0),u.enable&&!i.utils.isValidatable(t)?(o=i.configuration.validate||{},f={throttleEvaluation:u.throttle||o.throttle},t.error=n.observable(null),t.rules=n.observableArray(),t.isValidating=n.observable(!1),t.__valid__=n.observable(!0),t.isModified=n.observable(!1),t.isValid=n.computed(t.__valid__),t.setError=function(n){var i=t.error.peek(),r=t.__valid__.peek();t.error(n);t.__valid__(!1);i===n||r||t.isValid.notifySubscribers()},t.clearError=function(){return t.error(null),t.__valid__(!0),t},s=t.subscribe(function(){t.isModified(!0)}),e=n.computed(r({read:function(){var n=t(),r=t.rules();return i.validateObservable(t),!0}},f)),r(e,f),t._disposeValidation=function(){t.isValid.dispose();t.rules.removeAll();s.dispose();e.dispose();delete t.rules;delete t.error;delete t.isValid;delete t.isValidating;delete t.__valid__;delete t.isModified;delete t.setError;delete t.clearError;delete t._disposeValidation}):u.enable===!1&&t._disposeValidation&&t._disposeValidation(),t};i.validateObservable=function(n){for(var u=0,r,t,f=n.rules(),e=f.length;u<e;u++)if(t=f[u],!t.condition||t.condition())if(r=t.rule?i.rules[t.rule]:t,r.async||t.async)p(n,r,t);else if(!y(n,r,t))return!1;return n.clearError(),!0};s={};i.defineLocale=function(n,t){return n&&t?(s[n.toLowerCase()]=t,t):null};i.locale=function(n){if(n)if(n=n.toLowerCase(),s.hasOwnProperty(n))i.localize(s[n]),h=n;else throw new Error("Localization "+n+" has not been loaded.");return h};i.localize=function(n){var r=i.rules;for(var t in n)r.hasOwnProperty(t)&&(r[t].message=n[t])},function(){var r={},n=i.rules;for(var t in n)n.hasOwnProperty(t)&&(r[t]=n[t].message);i.defineLocale("en-us",r)}();h="en-us";n.applyBindingsWithValidation=function(t,u,f){var o=document.body,e;u&&u.nodeType?(o=u,e=f):e=u;i.init();e&&(e=r(r({},i.configuration),e),i.utils.setDomData(o,e));n.applyBindings(t,o)};v=n.applyBindings;n.applyBindings=function(n,t){i.init();v(n,t)};n.validatedObservable=function(t,r){if(!r&&!i.utils.isObject(t))return n.observable(t).extend({validatable:!0});var u=n.observable(t);return u.errors=i.group(i.utils.isObject(t)?t:{},r),u.isValid=n.observable(u.errors().length===0),n.isObservable(u.errors)?u.errors.subscribe(function(n){u.isValid(n.length===0)}):n.computed(u.errors).subscribe(function(n){u.isValid(n.length===0)}),u.subscribe(function(n){i.utils.isObject(n)||(n={});u.errors._updateState(n);u.isValid(u.errors().length===0)}),u}});
(function(n){return typeof define=="function"&&define.amd?define(["jquery"],function(t){return n(t,window,document)}):typeof exports=="object"?module.exports=n(require("jquery"),window,document):n(jQuery,window,document)})(function(n,t,i){"use strict";var a,u,o,s,v,y,ct,lt,p,w,b,k,f,d,it,h,r,at,g,e,rt,c,ut,ft,et,ot,nt,tt,st,ht,l;ut={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",enabledClass:"has-scrollbar",flashedClass:"flashed",activeClass:"active",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null};at="scrollbar";r="scroll";p="mousedown";w="mouseenter";b="mousemove";f="mousewheel";k="mouseup";h="resize";v="drag";y="enter";e="up";it="panedown";o="DOMMouseScroll";s="down";rt="wheel";ct="keydown";lt="keyup";g="touchmove";a=t.navigator.appName==="Microsoft Internet Explorer"&&/msie 7./i.test(t.navigator.appVersion)&&t.ActiveXObject;u=null;nt=t.requestAnimationFrame;c=t.cancelAnimationFrame;st=i.createElement("div").style;l=function(){var n,r,f,t,i,u;for(t=["t","webkitT","MozT","msT","OT"],n=i=0,u=t.length;i<u;n=++i)if(f=t[n],r=t[n]+"ransform",r in st)return t[n].substr(0,t[n].length-1);return!1}();ht=function(n){return l===!1?!1:l===""?n:l+n.charAt(0).toUpperCase()+n.substr(1)};tt=ht("transform");et=tt!==!1;ft=function(){var n,t,u;return n=i.createElement("div"),t=n.style,t.position="absolute",t.width="100px",t.height="100px",t.overflow=r,t.top="-9999px",i.body.appendChild(n),u=n.offsetWidth-n.clientWidth,i.body.removeChild(n),u};ot=function(){var i,r,n;return(r=t.navigator.userAgent,i=/(?=.+Mac OS X)(?=.+Firefox)/.test(r),!i)?!1:(n=/Firefox\/\d{2}\./.exec(r),n&&(n=n[0].replace(/\D+/g,"")),i&&+n>23)};d=function(){function l(r,f){this.el=r;this.options=f;u||(u=ft());this.$el=n(this.el);this.doc=n(this.options.documentContext||i);this.win=n(this.options.windowContext||t);this.body=this.doc.find("body");this.$content=this.$el.children("."+this.options.contentClass);this.$content.attr("tabindex",this.options.tabIndex||0);this.content=this.$content[0];this.previousPosition=0;this.options.iOSNativeScrolling&&this.el.style.WebkitOverflowScrolling!=null?this.nativeScrolling():this.generate();this.createEvents();this.addEvents();this.reset()}return l.prototype.preventScrolling=function(n,t){if(this.isActive)if(n.type===o)(t===s&&n.originalEvent.detail>0||t===e&&n.originalEvent.detail<0)&&n.preventDefault();else if(n.type===f){if(!n.originalEvent||!n.originalEvent.wheelDelta)return;(t===s&&n.originalEvent.wheelDelta<0||t===e&&n.originalEvent.wheelDelta>0)&&n.preventDefault()}},l.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"});this.iOSNativeScrolling=!0;this.isActive=!0},l.prototype.updateScrollValues=function(){var n,t;n=this.content;this.maxScrollTop=n.scrollHeight-n.clientHeight;this.prevScrollTop=this.contentScrollTop||0;this.contentScrollTop=n.scrollTop;t=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same";this.previousPosition=this.contentScrollTop;t!=="same"&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:t});this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=this.maxScrollTop===0?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},l.prototype.setOnScrollStyles=function(){var n;et?(n={},n[tt]="translate(0, "+this.sliderTop+"px)"):n={top:this.sliderTop};nt?(c&&this.scrollRAF&&c(this.scrollRAF),this.scrollRAF=nt(function(t){return function(){return t.scrollRAF=null,t.slider.css(n)}}(this))):this.slider.css(n)},l.prototype.createEvents=function(){this.events={down:function(n){return function(t){return n.isBeingDragged=!0,n.offsetY=t.pageY-n.slider.offset().top,n.slider.is(t.target)||(n.offsetY=0),n.pane.addClass(n.options.activeClass),n.doc.bind(b,n.events[v]).bind(k,n.events[e]),n.body.bind(w,n.events[y]),!1}}(this),drag:function(n){return function(t){return n.sliderY=t.pageY-n.$el.offset().top-n.paneTop-(n.offsetY||n.sliderHeight*.5),n.scroll(),n.contentScrollTop>=n.maxScrollTop&&n.prevScrollTop!==n.maxScrollTop?n.$el.trigger("scrollend"):n.contentScrollTop===0&&n.prevScrollTop!==0&&n.$el.trigger("scrolltop"),!1}}(this),up:function(n){return function(){return n.isBeingDragged=!1,n.pane.removeClass(n.options.activeClass),n.doc.unbind(b,n.events[v]).unbind(k,n.events[e]),n.body.unbind(w,n.events[y]),!1}}(this),resize:function(n){return function(){n.reset()}}(this),panedown:function(n){return function(t){return n.sliderY=(t.offsetY||t.originalEvent.layerY)-n.sliderHeight*.5,n.scroll(),n.events.down(t),!1}}(this),scroll:function(n){return function(t){(n.updateScrollValues(),n.isBeingDragged)||(n.iOSNativeScrolling||(n.sliderY=n.sliderTop,n.setOnScrollStyles()),t!=null)&&(n.contentScrollTop>=n.maxScrollTop?(n.options.preventPageScrolling&&n.preventScrolling(t,s),n.prevScrollTop!==n.maxScrollTop&&n.$el.trigger("scrollend")):n.contentScrollTop===0&&(n.options.preventPageScrolling&&n.preventScrolling(t,e),n.prevScrollTop!==0&&n.$el.trigger("scrolltop")))}}(this),wheel:function(n){return function(t){var i;if(t!=null)return i=t.delta||t.wheelDelta||t.originalEvent&&t.originalEvent.wheelDelta||-t.detail||t.originalEvent&&-t.originalEvent.detail,i&&(n.sliderY+=-i/3),n.scroll(),!1}}(this),enter:function(n){return function(t){var i;if(n.isBeingDragged)return(t.buttons||t.which)!==1?(i=n.events)[e].apply(i,arguments):void 0}}(this)}},l.prototype.addEvents=function(){var n;this.removeEvents();n=this.events;this.options.disableResize||this.win.bind(h,n[h]);this.iOSNativeScrolling||(this.slider.bind(p,n[s]),this.pane.bind(p,n[it]).bind(""+f+" "+o,n[rt]));this.$content.bind(""+r+" "+f+" "+o+" "+g,n[r])},l.prototype.removeEvents=function(){var n;n=this.events;this.win.unbind(h,n[h]);this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind());this.$content.unbind(""+r+" "+f+" "+o+" "+g,n[r])},l.prototype.generate=function(){var s,i,e,n,o,r,f;return n=this.options,r=n.paneClass,f=n.sliderClass,s=n.contentClass,(o=this.$el.children("."+r)).length||o.children("."+f).length||this.$el.append('<div class="'+r+'"><div class="'+f+'" /><\/div>'),this.pane=this.$el.children("."+r),this.slider=this.pane.find("."+f),u===0&&ot()?(e=t.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,""),i={right:-14,paddingRight:+e+14}):u&&(i={right:-u},this.$el.addClass(n.enabledClass)),i!=null&&this.$content.css(i),this},l.prototype.restore=function(){this.stopped=!1;this.iOSNativeScrolling||this.pane.show();this.addEvents()},l.prototype.reset=function(){var t,h,c,l,f,p,e,o,v,s,y,i;if(this.$el=n(this.el),this.$content=this.$el.children("."+this.options.contentClass),this.content=this.$content[0],this.iOSNativeScrolling){this.contentHeight=this.content.scrollHeight;return}return this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),t=this.content,l=t.style,f=l.overflowY,a&&this.$content.css({height:this.$content.height()}),h=t.scrollHeight+u,s=parseInt(this.$el.css("max-height"),10),s>0&&(this.$el.height(""),this.$el.height(t.scrollHeight>s?s:t.scrollHeight)),e=this.pane.outerHeight(!1),v=parseInt(this.pane.css("top"),10),p=parseInt(this.pane.css("bottom"),10),o=e+v+p,i=Math.round(o/h*e),i<this.options.sliderMinHeight?i=this.options.sliderMinHeight:this.options.sliderMaxHeight!=null&&i>this.options.sliderMaxHeight&&(i=this.options.sliderMaxHeight),f===r&&l.overflowX!==r&&(i+=u),this.maxSliderTop=o-i,this.contentHeight=h,this.paneHeight=e,this.paneOuterHeight=o,this.sliderHeight=i,this.paneTop=v,this.slider.height(i),this.events.scroll(),this.pane.show(),this.isActive=!0,t.scrollHeight===t.clientHeight||this.pane.outerHeight(!0)>=t.scrollHeight&&f!==r?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===t.scrollHeight&&f===r?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),c=this.$content.css("position"),(c==="static"||c==="relative")&&(y=parseInt(this.$content.css("right"),10),y&&this.$content.css({right:"",marginRight:y})),this},l.prototype.scroll=function(){if(this.isActive)return this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this},l.prototype.scrollBottom=function(n){if(this.isActive)return this.$content.scrollTop(this.contentHeight-this.$content.height()-n).trigger(f),this.stop().restore(),this},l.prototype.scrollTop=function(n){if(this.isActive)return this.$content.scrollTop(+n).trigger(f),this.stop().restore(),this},l.prototype.scrollTo=function(n){if(this.isActive)return this.scrollTop(this.$el.find(n).get(0).offsetTop),this},l.prototype.stop=function(){return c&&this.scrollRAF&&(c(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},l.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),a&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass(this.options.enabledClass)&&(this.$el.removeClass(this.options.enabledClass),this.$content.css({right:""})),this},l.prototype.flash=function(){if(!this.iOSNativeScrolling)return this.isActive?(this.reset(),this.pane.addClass(this.options.flashedClass),setTimeout(function(n){return function(){n.pane.removeClass(n.options.flashedClass)}}(this),this.options.flashDelay),this):void 0},l}();n.fn.nanoScroller=function(t){return this.each(function(){var r,i;if((i=this.nanoscroller)||(r=n.extend({},ut,t),this.nanoscroller=i=new d(this,r)),t&&typeof t=="object"){if(n.extend(i.options,t),t.scrollBottom!=null)return i.scrollBottom(t.scrollBottom);if(t.scrollTop!=null)return i.scrollTop(t.scrollTop);if(t.scrollTo)return i.scrollTo(t.scrollTo);if(t.scroll==="bottom")return i.scrollBottom(0);if(t.scroll==="top")return i.scrollTop(0);if(t.scroll&&t.scroll instanceof n)return i.scrollTo(t.scroll);if(t.stop)return i.stop();if(t.destroy)return i.destroy();if(t.flash)return i.flash()}return i.reset()})};n.fn.nanoScroller.Constructor=d});ko.bindingHandlers.nanoScroller={init:function(n){$(n).nanoScroller();$(n).nanoScroller()}};
(function(n,t){function e(n,t,i){if(n.addEventListener){n.addEventListener(t,i,!1);return}n.attachEvent("on"+t,i)}function l(n){if(n.type=="keypress"){var t=String.fromCharCode(n.which);return n.shiftKey||(t=t.toLowerCase()),t}return u[n.which]?u[n.which]:s[n.which]?s[n.which]:String.fromCharCode(n.which).toLowerCase()}function y(n,t){return n.sort().join(",")===t.sort().join(",")}function p(n){var t=[];return n.shiftKey&&t.push("shift"),n.altKey&&t.push("alt"),n.ctrlKey&&t.push("ctrl"),n.metaKey&&t.push("meta"),t}function w(n){if(n.preventDefault){n.preventDefault();return}n.returnValue=!1}function b(n){if(n.stopPropagation){n.stopPropagation();return}n.cancelBubble=!0}function o(n){return n=="shift"||n=="ctrl"||n=="alt"||n=="meta"}function k(){if(!f){f={};for(var n in u)n>95&&n<112||u.hasOwnProperty(n)&&(f[u[n]]=n)}return f}function d(n,t,i){return i||(i=k()[n]?"keydown":"keypress"),i=="keypress"&&t.length&&(i="keydown"),i}function g(n){return n==="+"?["+"]:(n=n.replace(/\+{2}/g,"+plus"),n.split("+"))}function a(n,t){for(var i,u=[],f=g(n),r=0;r<f.length;++r)i=f[r],c[i]&&(i=c[i]),t&&t!="keypress"&&h[i]&&(i=h[i],u.push("shift")),o(i)&&u.push(i);return t=d(i,u,t),{key:i,modifiers:u,action:t}}function v(n,i){return n===null||n===t?!1:n===i?!0:v(n.parentNode,i)}function i(n){function h(n){n=n||{};var t=!1;for(var i in u){if(n[i]){t=!0;continue}u[i]=0}t||(s=!1)}function g(n,t,i,f,e,s){var c,h,a=[],l=i.type,v,p;if(!r._callbacks[n])return[];for(l=="keyup"&&o(n)&&(t=[n]),c=0;c<r._callbacks[n].length;++c)(h=r._callbacks[n][c],f||!h.seq||u[h.seq]==h.level)&&l==h.action&&((l!="keypress"||i.metaKey||i.ctrlKey)&&!y(t,h.modifiers)||(v=!f&&h.combo==e,p=f&&h.seq==f&&h.level==s,(v||p)&&r._callbacks[n].splice(c,1),a.push(h)));return a}function c(n,t,i,u){r.stopCallback(t,t.target||t.srcElement,i,u)||n(t,i)===!1&&(w(t),b(t))}function v(n){typeof n.which!="number"&&(n.which=n.keyCode);var t=l(n);if(t){if(n.type=="keyup"&&f===t){f=!1;return}r.handleKey(t,p(n),n)}}function tt(){clearTimeout(k);k=setTimeout(h,1e3)}function it(n,t,i,r){function y(t){return function(){s=t;++u[n];tt()}}function p(t){c(i,t,n);r!=="keyup"&&(f=l(t));setTimeout(h,10)}var e,o,v;for(u[n]=0,e=0;e<t.length;++e)o=e+1===t.length,v=o?p:y(r||a(t[e+1]).action),nt(t[e],v,r,n,e)}function nt(n,t,i,u,f){r._directMap[n+":"+i]=t;n=n.replace(/\s+/g," ");var o=n.split(" "),e;if(o.length>1){it(n,o,t,i);return}e=a(n,i);r._callbacks[e.key]=r._callbacks[e.key]||[];g(e.key,e.modifiers,{type:e.action},u,n,f);r._callbacks[e.key][u?"unshift":"push"]({callback:t,modifiers:e.modifiers,action:e.action,seq:u,level:f,combo:n})}var r=this;if(n=n||t,!(r instanceof i))return new i(n);r.target=n;r._callbacks={};r._directMap={};var u={},k,f=!1,d=!1,s=!1;r._handleKey=function(n,t,i){for(var u=g(n,t,i),l={},f=0,e=!1,a,r=0;r<u.length;++r)u[r].seq&&(f=Math.max(f,u[r].level));for(r=0;r<u.length;++r){if(u[r].seq){if(u[r].level!=f)continue;e=!0;l[u[r].seq]=1;c(u[r].callback,i,u[r].combo,u[r].seq);continue}e||c(u[r].callback,i,u[r].combo)}a=i.type=="keypress"&&d;i.type!=s||o(n)||a||h(l);d=e&&i.type=="keydown"};r._bindMultiple=function(n,t,i){for(var r=0;r<n.length;++r)nt(n[r],t,i)};e(n,"keypress",v);e(n,"keydown",v);e(n,"keyup",v)}for(var u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},h={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},c={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},f,r=1;r<20;++r)u[111+r]="f"+r;for(r=0;r<=9;++r)u[r+96]=r;i.prototype.bind=function(n,t,i){var r=this;return n=n instanceof Array?n:[n],r._bindMultiple.call(r,n,t,i),r};i.prototype.unbind=function(n,t){var i=this;return i.bind.call(i,n,function(){},t)};i.prototype.trigger=function(n,t){var i=this;return i._directMap[n+":"+t]&&i._directMap[n+":"+t]({},n),i};i.prototype.reset=function(){var n=this;return n._callbacks={},n._directMap={},n};i.prototype.stopCallback=function(n,t){var i=this;return(" "+t.className+" ").indexOf(" mousetrap ")>-1?!1:v(t,i.target)?!1:t.tagName=="INPUT"||t.tagName=="SELECT"||t.tagName=="TEXTAREA"||t.isContentEditable};i.prototype.handleKey=function(){var n=this;return n._handleKey.apply(n,arguments)};i.init=function(){var n=i(t);for(var r in n)r.charAt(0)!=="_"&&(i[r]=function(t){return function(){return n[t].apply(n,arguments)}}(r))};i.init();n.Mousetrap=i;typeof module!="undefined"&&module.exports&&(module.exports=i);typeof define=="function"&&define.amd&&define(function(){return i})})(window,document);0;
(function(){"use strict";function n(t,r){function h(n,t){return function(){return n.apply(t,arguments)}}var o,f,e,u,s;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=t,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!n.notNeeded(t)){for(f=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],e=this,u=0,s=f.length;u<s;u++)e[f[u]]=h(e[f[u]],e);i&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0));t.addEventListener("click",this.onClick,!0);t.addEventListener("touchstart",this.onTouchStart,!1);t.addEventListener("touchmove",this.onTouchMove,!1);t.addEventListener("touchend",this.onTouchEnd,!1);t.addEventListener("touchcancel",this.onTouchCancel,!1);Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(n,i,r){var u=Node.prototype.removeEventListener;n==="click"?u.call(t,n,i.hijacked||i,r):u.call(t,n,i,r)},t.addEventListener=function(n,i,r){var u=Node.prototype.addEventListener;n==="click"?u.call(t,n,i.hijacked||(i.hijacked=function(n){n.propagationStopped||i(n)}),r):u.call(t,n,i,r)});typeof t.onclick=="function"&&(o=t.onclick,t.addEventListener("click",function(n){o(n)},!1),t.onclick=null)}}var r=navigator.userAgent.indexOf("Windows Phone")>=0,i=navigator.userAgent.indexOf("Android")>0&&!r,t=/iP(ad|hone|od)/.test(navigator.userAgent)&&!r,u=t&&/OS 4_\d(_\d)?/.test(navigator.userAgent),f=t&&/OS [6-7]_\d/.test(navigator.userAgent),e=navigator.userAgent.indexOf("BB10")>0;n.prototype.needsClick=function(n){switch(n.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(n.disabled)return!0;break;case"input":if(t&&n.type==="file"||n.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(n.className)};n.prototype.needsFocus=function(n){switch(n.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!i;case"input":switch(n.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!n.disabled&&!n.readOnly;default:return/\bneedsfocus\b/.test(n.className)}};n.prototype.sendClick=function(n,t){var r,i;document.activeElement&&document.activeElement!==n&&document.activeElement.blur();i=t.changedTouches[0];r=document.createEvent("MouseEvents");r.initMouseEvent(this.determineEventType(n),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);r.forwardedTouchEvent=!0;n.dispatchEvent(r)};n.prototype.determineEventType=function(n){return i&&n.tagName.toLowerCase()==="select"?"mousedown":"click"};n.prototype.focus=function(n){var i;t&&n.setSelectionRange&&n.type.indexOf("date")!==0&&n.type!=="time"&&n.type!=="month"?(i=n.value.length,n.setSelectionRange(i,i)):n.focus()};n.prototype.updateScrollParent=function(n){var i,t;if(i=n.fastClickScrollParent,!i||!i.contains(n)){t=n;do{if(t.scrollHeight>t.offsetHeight){i=t;n.fastClickScrollParent=t;break}t=t.parentElement}while(t)}i&&(i.fastClickLastScrollTop=i.scrollTop)};n.prototype.getTargetElementFromEventTarget=function(n){return n.nodeType===Node.TEXT_NODE?n.parentNode:n};n.prototype.onTouchStart=function(n){var r,i,f;if(n.targetTouches.length>1)return!0;if(r=this.getTargetElementFromEventTarget(n.target),i=n.targetTouches[0],t){if(f=window.getSelection(),f.rangeCount&&!f.isCollapsed)return!0;if(!u){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return n.preventDefault(),!1;this.lastTouchIdentifier=i.identifier;this.updateScrollParent(r)}}return this.trackingClick=!0,this.trackingClickStart=n.timeStamp,this.targetElement=r,this.touchStartX=i.pageX,this.touchStartY=i.pageY,n.timeStamp-this.lastClickTime<this.tapDelay&&n.preventDefault(),!0};n.prototype.touchHasMoved=function(n){var t=n.changedTouches[0],i=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>i||Math.abs(t.pageY-this.touchStartY)>i?!0:!1};n.prototype.onTouchMove=function(n){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(n.target)||this.touchHasMoved(n))&&(this.trackingClick=!1,this.targetElement=null),!0):!0};n.prototype.findControl=function(n){return n.control!==undefined?n.control:n.htmlFor?document.getElementById(n.htmlFor):n.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};n.prototype.onTouchEnd=function(n){var s,c,e,o,h,r=this.targetElement;if(!this.trackingClick)return!0;if(n.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(n.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=n.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,f&&(h=n.changedTouches[0],r=document.elementFromPoint(h.pageX-window.pageXOffset,h.pageY-window.pageYOffset)||r,r.fastClickScrollParent=this.targetElement.fastClickScrollParent),e=r.tagName.toLowerCase(),e==="label"){if(s=this.findControl(r),s){if(this.focus(r),i)return!1;r=s}}else if(this.needsFocus(r))return n.timeStamp-c>100||t&&window.top!==window&&e==="input"?(this.targetElement=null,!1):(this.focus(r),this.sendClick(r,n),t&&e==="select"||(this.targetElement=null,n.preventDefault()),!1);return t&&!u&&(o=r.fastClickScrollParent,o&&o.fastClickLastScrollTop!==o.scrollTop)?!0:(this.needsClick(r)||(n.preventDefault(),this.sendClick(r,n)),!1)};n.prototype.onTouchCancel=function(){this.trackingClick=!1;this.targetElement=null};n.prototype.onMouse=function(n){return this.targetElement?n.forwardedTouchEvent?!0:n.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(n.stopImmediatePropagation?n.stopImmediatePropagation():n.propagationStopped=!0,n.stopPropagation(),n.preventDefault(),!1):!0:!0:!0};n.prototype.onClick=function(n){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):n.target.type==="submit"&&n.detail===0?!0:(t=this.onMouse(n),t||(this.targetElement=null),t)};n.prototype.destroy=function(){var n=this.layer;i&&(n.removeEventListener("mouseover",this.onMouse,!0),n.removeEventListener("mousedown",this.onMouse,!0),n.removeEventListener("mouseup",this.onMouse,!0));n.removeEventListener("click",this.onClick,!0);n.removeEventListener("touchstart",this.onTouchStart,!1);n.removeEventListener("touchmove",this.onTouchMove,!1);n.removeEventListener("touchend",this.onTouchEnd,!1);n.removeEventListener("touchcancel",this.onTouchCancel,!1)};n.notNeeded=function(n){var t,r,u,f;if(typeof ontouchstart=="undefined")return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],r)if(i){if(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||r>31&&document.documentElement.scrollWidth<=window.outerWidth))return!0}else return!0;return e&&(u=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),u[1]>=10&&u[2]>=3&&(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))?!0:n.style.msTouchAction==="none"||n.style.touchAction==="manipulation"?!0:(f=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],f>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))?!0:n.style.touchAction==="none"||n.style.touchAction==="manipulation"?!0:!1};n.attach=function(t,i){return new n(t,i)};typeof define=="function"&&typeof define.amd=="object"&&define.amd?define(function(){return n}):typeof module!="undefined"&&module.exports?(module.exports=n.attach,module.exports.FastClick=n):window.FastClick=n})();
var _gsScope=typeof module!="undefined"&&module.exports&&typeof global!="undefined"?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(n,t){var r=function(){n.call(this,"css");this._overwriteProps.length=0;this.setRatio=r.prototype.setRatio},nu=_gsScope._gsDefine.globals,ft,wt,f,fi,a={},i=r.prototype=new n("css"),br,yt,kr,dr,gr,pt;i.constructor=r;r.version="1.18.2";r.API=2;r.defaultTransformPerspective=0;r.defaultSkewType="compensated";r.defaultSmoothOrigin=!0;i="px";r.suffixMap={top:i,right:i,bottom:i,left:i,width:i,height:i,fontSize:i,padding:i,margin:i,perspective:i,lineHeight:""};var bt=/(?:\d|\-\d|\.\d|\-\.\d)+/g,ei=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,oi=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,si=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,kt=/(?:\d|\-|\+|=|#|\.)*/g,hi=/opacity *= *([^)]*)/i,tu=/opacity:([^;]*)/i,iu=/alpha\(opacity *=.+?\)/i,ru=/^(rgb|hsl)/,di=/([A-Z])/g,gi=/-([a-z])/gi,uu=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,nr=function(n,t){return t.toUpperCase()},fu=/(?:Left|Right|Width)/i,eu=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,ou=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,p=/,(?=[^\)]*(?:\(|$))/gi,d=Math.PI/180,it=180/Math.PI,dt={},v=document,ci=function(n){return v.createElementNS?v.createElementNS("http://www.w3.org/1999/xhtml",n):v.createElement(n)},g=ci("div"),li=ci("img"),w=r._internals={_specialProps:a},b=navigator.userAgent,ai,tr,gt,ni,ir,rt,tt=function(){var t=b.indexOf("Android"),n=ci("a");return(gt=b.indexOf("Safari")!==-1&&b.indexOf("Chrome")===-1&&(t===-1||Number(b.substr(t+8,1))>3),ir=gt&&Number(b.substr(b.indexOf("Version/")+8,1))<6,ni=b.indexOf("Firefox")!==-1,(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(b)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(b))&&(rt=parseFloat(RegExp.$1)),!n)?!1:(n.style.cssText="top:1px;opacity:.55;",/^0.55/.test(n.style.opacity))}(),rr=function(n){return hi.test(typeof n=="string"?n:(n.currentStyle?n.currentStyle.filter:n.style.filter)||"")?parseFloat(RegExp.$1)/100:1},ur=function(n){window.console&&console.log(n)},fr="",vi="",et=function(n,t){t=t||g;var u=t.style,r,i;if(u[n]!==undefined)return n;for(n=n.charAt(0).toUpperCase()+n.substr(1),r=["O","Moz","ms","Ms","Webkit"],i=5;--i>-1&&u[r[i]+n]===undefined;);return i>=0?(vi=i===3?"ms":r[i],fr="-"+vi.toLowerCase()+"-",vi+n):null},ot=v.defaultView?v.defaultView.getComputedStyle:function(){},u=r.getStyle=function(n,t,i,r,u){var f;return!tt&&t==="opacity"?rr(n):(!r&&n.style[t]?f=n.style[t]:(i=i||ot(n))?f=i[t]||i.getPropertyValue(t)||i.getPropertyValue(t.replace(di,"-$1").toLowerCase()):n.currentStyle&&(f=n.currentStyle[t]),u!=null&&(!f||f==="none"||f==="auto"||f==="auto auto")?u:f)},k=w.convertToPixels=function(n,i,f,e,o){if(e==="px"||!e)return f;if(e==="auto"||!f)return 0;var l=fu.test(i),s=n,a=g.style,p=f<0,h,c,y;if(p&&(f=-f),e==="%"&&i.indexOf("border")!==-1)h=f/100*(l?n.clientWidth:n.clientHeight);else{if(a.cssText="border:0 solid red;position:"+u(n,"position")+";line-height:0;",e!=="%"&&s.appendChild&&e.charAt(0)!=="v"&&e!=="rem")a[l?"borderLeftWidth":"borderTopWidth"]=f+e;else{if(s=n.parentNode||v.body,c=s._gsCache,y=t.ticker.frame,c&&l&&c.time===y)return c.width*f/100;a[l?"width":"height"]=f+e}s.appendChild(g);h=parseFloat(g[l?"offsetWidth":"offsetHeight"]);s.removeChild(g);l&&e==="%"&&r.cacheWidths!==!1&&(c=s._gsCache=s._gsCache||{},c.time=y,c.width=h/f*100);h!==0||o||(h=k(n,i,f,e,!0))}return p?-h:h},er=w.calculateOffset=function(n,t,i){if(u(n,"position",i)!=="absolute")return 0;var r=t==="left"?"Left":"Top",f=u(n,"margin"+r,i);return n["offset"+r]-(k(n,t,parseFloat(f),f.replace(kt,""))||0)},st=function(n,t){var i={},r,u,f;if(t=t||ot(n,null))if(r=t.length)while(--r>-1)f=t[r],(f.indexOf("-transform")===-1||lr===f)&&(i[f.replace(gi,nr)]=t.getPropertyValue(f));else for(r in t)(r.indexOf("Transform")===-1||h===r)&&(i[r]=t[r]);else if(t=n.currentStyle||n.style)for(r in t)typeof r=="string"&&i[r]===undefined&&(i[r.replace(gi,nr)]=t[r]);return tt||(i.opacity=rr(n)),u=ut(n,t,!1),i.rotation=u.rotation,i.skewX=u.skewX,i.scaleX=u.scaleX,i.scaleY=u.scaleY,i.x=u.x,i.y=u.y,y&&(i.z=u.z,i.rotationX=u.rotationX,i.rotationY=u.rotationY,i.scaleZ=u.scaleZ),i.filters&&delete i.filters,i},yi=function(n,t,i,r,u){var o={},s=n.style,e,f,h;for(f in i)f!=="cssText"&&f!=="length"&&isNaN(f)&&(t[f]!==(e=i[f])||u&&u[f])&&f.indexOf("Origin")===-1&&(typeof e=="number"||typeof e=="string")&&(o[f]=e==="auto"&&(f==="left"||f==="top")?er(n,f):(e===""||e==="auto"||e==="none")&&typeof t[f]=="string"&&t[f].replace(si,"")!==""?0:e,s[f]!==undefined&&(h=new bi(s,f,s[f],h)));if(r)for(f in r)f!=="className"&&(o[f]=r[f]);return{difs:o,firstMPT:h}},su={width:["Left","Right"],height:["Top","Bottom"]},hu=["marginLeft","marginRight","marginTop","marginBottom"],cu=function(n,t,i){var r=parseFloat(t==="width"?n.offsetWidth:n.offsetHeight),f=su[t],e=f.length;for(i=i||ot(n,null);--e>-1;)r-=parseFloat(u(n,"padding"+f[e],i,!0))||0,r-=parseFloat(u(n,"border"+f[e]+"Width",i,!0))||0;return r},ht=function(n,t){if(n==="contain"||n==="auto"||n==="auto auto")return n+" ";(n==null||n==="")&&(n="0 0");var u=n.split(" "),i=n.indexOf("left")!==-1?"0%":n.indexOf("right")!==-1?"100%":u[0],r=n.indexOf("top")!==-1?"0%":n.indexOf("bottom")!==-1?"100%":u[1];return r==null?r=i==="center"?"50%":"0":r==="center"&&(r="50%"),(i==="center"||isNaN(parseFloat(i))&&(i+"").indexOf("=")===-1)&&(i="50%"),n=i+" "+r+(u.length>2?" "+u[2]:""),t&&(t.oxp=i.indexOf("%")!==-1,t.oyp=r.indexOf("%")!==-1,t.oxr=i.charAt(1)==="=",t.oyr=r.charAt(1)==="=",t.ox=parseFloat(i.replace(si,"")),t.oy=parseFloat(r.replace(si,"")),t.v=n),t||n},ct=function(n,t){return typeof n=="string"&&n.charAt(1)==="="?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-parseFloat(t)},c=function(n,t){return n==null?t:typeof n=="string"&&n.charAt(1)==="="?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2))+t:parseFloat(n)},lt=function(n,t,i,r){var h=1e-6,f,o,u,e,s;return n==null?e=t:typeof n=="number"?e=n:(f=360,o=n.split("_"),s=n.charAt(1)==="=",u=(s?parseInt(n.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(n.indexOf("rad")===-1?1:it)-(s?0:t),o.length&&(r&&(r[i]=t+u),n.indexOf("short")!==-1&&(u=u%f,u!==u%(f/2)&&(u=u<0?u+f:u-f)),n.indexOf("_cw")!==-1&&u<0?u=(u+f*9999999999)%f-(u/f|0)*f:n.indexOf("ccw")!==-1&&u>0&&(u=(u-f*9999999999)%f-(u/f|0)*f)),e=t+u),e<h&&e>-h&&(e=0),e},at={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},pi=function(n,t,i){return n=n<0?n+1:n>1?n-1:n,(n*6<1?t+(i-t)*n*6:n<.5?i:n*3<2?t+(i-t)*(2/3-n)*6:t)*255+.5|0},ti=r.parseColor=function(n,t){var i,u,r,f,s,h,e,o,c,l,a;if(n)if(typeof n=="number")i=[n>>16,n>>8&255,n&255];else{if(n.charAt(n.length-1)===","&&(n=n.substr(0,n.length-1)),at[n])i=at[n];else if(n.charAt(0)==="#")n.length===4&&(u=n.charAt(1),r=n.charAt(2),f=n.charAt(3),n="#"+u+u+r+r+f+f),n=parseInt(n.substr(1),16),i=[n>>16,n>>8&255,n&255];else if(n.substr(0,3)==="hsl")if(i=a=n.match(bt),t){if(n.indexOf("=")!==-1)return n.match(ei)}else s=Number(i[0])%360/360,h=Number(i[1])/100,e=Number(i[2])/100,r=e<=.5?e*(h+1):e+h-e*h,u=e*2-r,i.length>3&&(i[3]=Number(n[3])),i[0]=pi(s+1/3,u,r),i[1]=pi(s,u,r),i[2]=pi(s-1/3,u,r);else i=n.match(bt)||at.transparent;i[0]=Number(i[0]);i[1]=Number(i[1]);i[2]=Number(i[2]);i.length>3&&(i[3]=Number(i[3]))}else i=at.black;return t&&!a&&(u=i[0]/255,r=i[1]/255,f=i[2]/255,o=Math.max(u,r,f),c=Math.min(u,r,f),e=(o+c)/2,o===c?s=h=0:(l=o-c,h=e>.5?l/(2-o-c):l/(o+c),s=(o===u?(r-f)/l+(r<f?6:0):o===r?(f-u)/l+2:(u-r)/l+4)*60),i[0]=s+.5|0,i[1]=h*100+.5|0,i[2]=e*100+.5|0),i},or=function(n,t){for(var f=n.match(l)||[],r=0,o=f.length?"":n,i,e,u=0;u<f.length;u++)i=f[u],e=n.substr(r,n.indexOf(i,r)-r),r+=e.length+i.length,i=ti(i,t),i.length===3&&i.push(1),o+=e+(t?"hsla("+i[0]+","+i[1]+"%,"+i[2]+"%,"+i[3]:"rgba("+i.join(","))+")";return o},l="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(i in at)l+="|"+i+"\\b";l=new RegExp(l+")","gi");r.colorStringFilter=function(n){var t=n[0]+n[1],i;l.lastIndex=0;l.test(t)&&(i=t.indexOf("hsl(")!==-1||t.indexOf("hsla(")!==-1,n[0]=or(n[0],i),n[1]=or(n[1],i))};t.defaultStringFilter||(t.defaultStringFilter=r.colorStringFilter);var sr=function(n,t,i,r){if(n==null)return function(n){return n};var s=t?(n.match(l)||[""])[0]:"",f=n.split(s).join("").match(oi)||[],h=n.substr(0,n.indexOf(f[0])),c=n.charAt(n.length-1)===")"?")":"",e=n.indexOf(" ")!==-1?" ":",",u=f.length,a=u>0?f[0].replace(bt,""):"",o;return u?o=t?function(n){var w,v,t,y;if(typeof n=="number")n+=a;else if(r&&p.test(n)){for(y=n.replace(p,"|").split("|"),t=0;t<y.length;t++)y[t]=o(y[t]);return y.join(",")}if(w=(n.match(l)||[s])[0],v=n.split(w).join("").match(oi)||[],t=v.length,u>t--)while(++t<u)v[t]=i?v[(t-1)/2|0]:f[t];return h+v.join(e)+e+w+c+(n.indexOf("inset")!==-1?" inset":"")}:function(n){var s,l,t;if(typeof n=="number")n+=a;else if(r&&p.test(n)){for(l=n.replace(p,"|").split("|"),t=0;t<l.length;t++)l[t]=o(l[t]);return l.join(",")}if(s=n.match(oi)||[],t=s.length,u>t--)while(++t<u)s[t]=i?s[(t-1)/2|0]:f[t];return h+s.join(e)+c}:function(n){return n}},wi=function(n){return n=n.split(","),function(t,i,r,u,f,e,o){var h=(i+"").split(" "),s;for(o={},s=0;s<4;s++)o[n[s]]=h[s]=h[s]||h[(s-1)/2>>0];return u.parse(t,o,f,e)}},wu=w._setPluginRatio=function(n){this.plugin.setRatio(n);for(var u=this.data,s=u.proxy,i=u.firstMPT,h=1e-6,r,t,f,e,o;i;)r=s[i.v],i.r?r=Math.round(r):r<h&&r>-h&&(r=0),i.t[i.p]=r,i=i._next;if(u.autoRotate&&(u.autoRotate.rotation=s.rotation),n===1||n===0)for(i=u.firstMPT,o=n===1?"e":"b";i;){if(t=i.t,t.type){if(t.type===1){for(e=t.xs0+t.s+t.xs1,f=1;f<t.l;f++)e+=t["xn"+f]+t["xs"+(f+1)];t[o]=e}}else t[o]=t.s+t.xs0;i=i._next}},bi=function(n,t,i,r,u){this.t=n;this.p=t;this.v=i;this.r=u;r&&(r._prev=this,this._next=r)},bu=w._parseToProxy=function(n,t,i,r,u,f){var s=r,c={},l={},y=i._transform,p=dt,a,e,o,h,v;for(i._transform=null,dt=t,r=v=i.parse(n,t,r,u),dt=p,f&&(i._transform=y,s&&(s._prev=null,s._prev&&(s._prev._next=null)));r&&r!==s;){if(r.type<=1&&(e=r.p,l[e]=r.s+r.c,c[e]=r.s,f||(h=new bi(r,"s",e,h,r.r),r.c=0),r.type===1))for(a=r.l;--a>0;)o="xn"+a,e=r.p+"_"+o,l[e]=r.data[o],c[e]=r[o],f||(h=new bi(r,o,e,h,r.rxp[o]));r=r._next}return{proxy:c,end:l,firstMPT:h,pt:v}},o=w.CSSPropTween=function(n,t,i,r,u,f,e,s,h,c,l){this.t=n;this.p=t;this.s=i;this.c=r;this.n=e||t;n instanceof o||fi.push(this.n);this.r=s;this.type=f||0;h&&(this.pr=h,ft=!0);this.b=c===undefined?i:c;this.e=l===undefined?i+r:l;u&&(this._next=u,u._prev=this)},ii=function(n,t,i,r,u,f){var e=new o(n,t,i,r-i,u,-1,f);return e.b=i,e.e=e.xs0=r,e},ri=r.parseComplex=function(n,t,i,r,u,f,e,s,h,c){i=i||f||"";e=new o(n,t,0,0,e,c?2:1,null,!1,s,i,r);r+="";var b=i.split(", ").join(",").split(" "),it=r.split(", ").join(",").split(" "),ft=b.length,ht=ai!==!1,y,d,g,a,v,rt,et,ut,w,ot,nt,k,st;for((r.indexOf(",")!==-1||i.indexOf(",")!==-1)&&(b=b.join(" ").replace(p,", ").split(" "),it=it.join(" ").replace(p,", ").split(" "),ft=b.length),ft!==it.length&&(b=(f||"").split(" "),ft=b.length),e.plugin=h,e.setRatio=c,l.lastIndex=0,y=0;y<ft;y++)if(a=b[y],v=it[y],ut=parseFloat(a),ut||ut===0)e.appendXtra("",ut,ct(v,ut),v.replace(ei,""),ht&&v.indexOf("px")!==-1,!0);else if(u&&l.test(a))k=v.charAt(v.length-1)===","?"),":")",st=v.indexOf("hsl")!==-1&&tt,a=ti(a,st),v=ti(v,st),w=a.length+v.length>6,w&&!tt&&v[3]===0?(e["xs"+e.l]+=e.l?" transparent":"transparent",e.e=e.e.split(it[y]).join("transparent")):(tt||(w=!1),st?e.appendXtra(w?"hsla(":"hsl(",a[0],ct(v[0],a[0]),",",!1,!0).appendXtra("",a[1],ct(v[1],a[1]),"%,",!1).appendXtra("",a[2],ct(v[2],a[2]),w?"%,":"%"+k,!1):e.appendXtra(w?"rgba(":"rgb(",a[0],v[0]-a[0],",",!0,!0).appendXtra("",a[1],v[1]-a[1],",",!0).appendXtra("",a[2],v[2]-a[2],w?",":k,!0),w&&(a=a.length<4?1:a[3],e.appendXtra("",a,(v.length<4?1:v[3])-a,k,!1))),l.lastIndex=0;else if(rt=a.match(bt),rt){if(et=v.match(ei),!et||et.length!==rt.length)return e;for(g=0,d=0;d<rt.length;d++)nt=rt[d],ot=a.indexOf(nt,g),e.appendXtra(a.substr(g,ot-g),Number(nt),ct(et[d],nt),"",ht&&a.substr(ot+nt.length,2)==="px",d===0),g=ot+nt.length;e["xs"+e.l]+=a.substr(g)}else e["xs"+e.l]+=e.l?" "+v:v;if(r.indexOf("=")!==-1&&e.data){for(k=e.xs0+e.data.s,y=1;y<e.l;y++)k+=e["xs"+y]+e.data["xn"+y];e.e=k+e["xs"+y]}return e.l||(e.type=-1,e.xs0=e.e),e.xfirst||e},s=9;for(i=o.prototype,i.l=i.pr=0;--s>0;)i["xn"+s]=0,i["xs"+s]="";i.xs0="";i._next=i._prev=i.xfirst=i.data=i.plugin=i.setRatio=i.rxp=null;i.appendXtra=function(n,t,i,r,u,f){var e=this,s=e.l;return(e["xs"+s]+=f&&s?" "+n:n||"",!i&&s!==0&&!e.plugin)?(e["xs"+s]+=t+(r||""),e):(e.l++,e.type=e.setRatio?2:1,e["xs"+e.l]=r||"",s>0)?(e.data["xn"+s]=t+i,e.rxp["xn"+s]=u,e["xn"+s]=t,e.plugin||(e.xfirst=new o(e,"xn"+s,t,i,e.xfirst||e,0,e.n,u,e.pr),e.xfirst.xs0=0),e):(e.data={s:t+i},e.rxp={},e.s=t,e.c=i,e.r=u,e)};var hr=function(n,t){t=t||{};this.p=t.prefix?et(n)||n:n;a[n]=a[this.p]=this;this.format=t.formatter||sr(t.defaultValue,t.color,t.collapsible,t.multi);t.parser&&(this.parse=t.parser);this.clrs=t.color;this.multi=t.multi;this.keyword=t.keyword;this.dflt=t.defaultValue;this.pr=t.priority||0},e=w._registerComplexSpecialProp=function(n,t,i){typeof t!="object"&&(t={parser:i});var u=n.split(","),f=t.defaultValue,r,e;for(i=i||[f],r=0;r<u.length;r++)t.prefix=r===0&&t.prefix,t.defaultValue=i[r]||f,e=new hr(u[r],t)},lu=function(n){if(!a[n]){var t=n.charAt(0).toUpperCase()+n.substr(1)+"Plugin";e(n,{parser:function(n,i,r,u,f,e,o){var s=nu.com.greensock.plugins[t];return s?(s._cssRegister(),a[r].parse(n,i,r,u,f,e,o)):(ur("Error: "+t+" js file not loaded."),f)}})}};i=hr.prototype;i.parseComplex=function(n,t,i,r,u,f){var h=this.keyword,e,o,s,a,c,l;if(this.multi&&(p.test(i)||p.test(t)?(o=t.replace(p,"|").split("|"),s=i.replace(p,"|").split("|")):h&&(o=[t],s=[i])),s){for(a=s.length>o.length?s.length:o.length,e=0;e<a;e++)t=o[e]=o[e]||this.dflt,i=s[e]=s[e]||this.dflt,h&&(c=t.indexOf(h),l=i.indexOf(h),c!==l&&(l===-1?o[e]=o[e].split(h).join(""):c===-1&&(o[e]+=" "+h)));t=o.join(", ");i=s.join(", ")}return ri(n,this.p,t,i,this.clrs,this.dflt,r,this.pr,u,f)};i.parse=function(n,t,i,r,e,o){return this.parseComplex(n.style,this.format(u(n,this.p,f,!1,this.dflt)),this.format(t),e,o)};r.registerSpecialProp=function(n,t,i){e(n,{parser:function(n,r,u,f,e,s){var h=new o(n,u,0,0,e,2,u,!1,i);return h.plugin=s,h.setRatio=t(n,r,f._tween,u),h},priority:i})};r.useSVGTransformAttr=gt||ni;var cr="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),h=et("transform"),lr=fr+"transform",vt=et("transformOrigin"),y=et("perspective")!==null,ui=w.Transform=function(){this.perspective=parseFloat(r.defaultTransformPerspective)||0;this.force3D=r.defaultForce3D===!1||!y?!1:r.defaultForce3D||"auto"},au=window.SVGElement,nt,ar=function(n,t,i){var r=v.createElementNS("http://www.w3.org/2000/svg",n),f=/([a-z])([A-Z])/g;for(var u in i)r.setAttributeNS(null,u.replace(f,"$1-$2").toLowerCase(),i[u]);return t.appendChild(r),r},vr=v.documentElement,vu=function(){var t=rt||/Android/i.test(b)&&!window.chrome,i,n,r;return v.createElementNS&&!t&&(i=ar("svg",vr),n=ar("rect",i,{width:100,height:50,x:100}),r=n.getBoundingClientRect().width,n.style[vt]="50% 50%",n.style[h]="scaleX(0.5)",t=r===n.getBoundingClientRect().width&&!(ni&&y),vr.removeChild(i)),t}(),yr=function(n,t,i,u,f){var s=n._gsTransform,e=wr(n,!0),h,l,a,v,y,p,o,w,b,k,d,c,g,nt;s&&(g=s.xOrigin,nt=s.yOrigin);(!u||(h=u.split(" ")).length<2)&&(o=n.getBBox(),t=ht(t).split(" "),h=[(t[0].indexOf("%")!==-1?parseFloat(t[0])/100*o.width:parseFloat(t[0]))+o.x,(t[1].indexOf("%")!==-1?parseFloat(t[1])/100*o.height:parseFloat(t[1]))+o.y]);i.xOrigin=v=parseFloat(h[0]);i.yOrigin=y=parseFloat(h[1]);u&&e!==ki&&(p=e[0],o=e[1],w=e[2],b=e[3],k=e[4],d=e[5],c=p*b-o*w,l=v*(b/c)+y*(-w/c)+(w*d-b*k)/c,a=v*(-o/c)+y*(p/c)-(p*d-o*k)/c,v=i.xOrigin=h[0]=l,y=i.yOrigin=h[1]=a);s&&(f||f!==!1&&r.defaultSmoothOrigin!==!1?(l=v-g,a=y-nt,s.xOffset+=l*e[0]+a*e[2]-l,s.yOffset+=l*e[1]+a*e[3]-a):s.xOffset=s.yOffset=0);n.setAttribute("data-svg-origin",h.join(" "))},pr=function(n){return!!(au&&typeof n.getBBox=="function"&&n.getCTM&&(!n.parentNode||n.parentNode.getBBox&&n.parentNode.getCTM))},ki=[1,0,0,1,0,0],wr=function(n,t){var o=n._gsTransform||new ui,l=1e5,f,r,i,e,c;if(h?r=u(n,lr,null,!0):n.currentStyle&&(r=n.currentStyle.filter.match(eu),r=r&&r.length===4?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),o.x||0,o.y||0].join(","):""),f=!r||r==="none"||r==="matrix(1, 0, 0, 1, 0, 0)",(o.svg||n.getBBox&&pr(n))&&(f&&(n.style[h]+"").indexOf("matrix")!==-1&&(r=n.style[h],f=0),i=n.getAttribute("transform"),f&&i&&(i.indexOf("matrix")!==-1?(r=i,f=0):i.indexOf("translate")!==-1&&(r="matrix(1,0,0,1,"+i.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",f=0))),f)return ki;for(i=(r||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],s=i.length;--s>-1;)e=Number(i[s]),i[s]=(c=e-(e|=0))?(c*l+(c<0?-.5:.5)|0)/l+e:e;return t&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i},ut=w.getTransform=function(n,i,e,o){if(n._gsTransform&&e&&!o)return n._gsTransform;var s=e?n._gsTransform||new ui:new ui,ei=s.scaleX<0,ti=2e-5,ut=1e5,oi=y?parseFloat(u(n,vt,i,!1,"0 0 0").split(" ")[2])||s.zOrigin||0:0,si=parseFloat(r.defaultTransformPerspective)||0,c,bt,gt,ni,ft,rt;if(s.svg=!!(n.getBBox&&pr(n)),s.svg&&(yr(n,u(n,vt,f,!1,"50% 50%")+"",s,n.getAttribute("data-svg-origin")),nt=r.useSVGTransformAttr||vu),c=wr(n),c!==ki){if(c.length===16){var d=c[0],w=c[1],st=c[2],hi=c[3],ht=c[4],b=c[5],g=c[6],ci=c[7],ct=c[8],k=c[9],p=c[10],ii=c[12],ri=c[13],et=c[14],tt=c[11],v=Math.atan2(g,p),kt,ot,dt,l,a;s.zOrigin&&(et=-s.zOrigin,ii=ct*et-c[12],ri=k*et-c[13],et=p*et+s.zOrigin-c[14]);s.rotationX=v*it;v&&(l=Math.cos(-v),a=Math.sin(-v),kt=ht*l+ct*a,ot=b*l+k*a,dt=g*l+p*a,ct=ht*-a+ct*l,k=b*-a+k*l,p=g*-a+p*l,tt=ci*-a+tt*l,ht=kt,b=ot,g=dt);v=Math.atan2(-st,p);s.rotationY=v*it;v&&(l=Math.cos(-v),a=Math.sin(-v),kt=d*l-ct*a,ot=w*l-k*a,dt=st*l-p*a,k=w*a+k*l,p=st*a+p*l,tt=hi*a+tt*l,d=kt,w=ot,st=dt);v=Math.atan2(w,d);s.rotation=v*it;v&&(l=Math.cos(-v),a=Math.sin(-v),d=d*l+ht*a,ot=w*l+b*a,b=w*-a+b*l,g=st*-a+g*l,w=ot);s.rotationX&&Math.abs(s.rotationX)+Math.abs(s.rotation)>359.9&&(s.rotationX=s.rotation=0,s.rotationY=180-s.rotationY);s.scaleX=(Math.sqrt(d*d+w*w)*ut+.5|0)/ut;s.scaleY=(Math.sqrt(b*b+k*k)*ut+.5|0)/ut;s.scaleZ=(Math.sqrt(g*g+p*p)*ut+.5|0)/ut;s.skewX=0;s.perspective=tt?1/(tt<0?-tt:tt):0;s.x=ii;s.y=ri;s.z=et;s.svg&&(s.x-=s.xOrigin-(s.xOrigin*d-s.yOrigin*ht),s.y-=s.yOrigin-(s.yOrigin*w-s.xOrigin*b))}else if((!y||o||!c.length||s.x!==c[4]||s.y!==c[5]||!s.rotationX&&!s.rotationY)&&!(s.x!==undefined&&u(n,"display",i)==="none")){var fi=c.length>=6,lt=fi?c[0]:1,at=c[1]||0,pt=c[2]||0,wt=fi?c[3]:1;s.x=c[4]||0;s.y=c[5]||0;gt=Math.sqrt(lt*lt+at*at);ni=Math.sqrt(wt*wt+pt*pt);ft=lt||at?Math.atan2(at,lt)*it:s.rotation||0;rt=pt||wt?Math.atan2(pt,wt)*it+ft:s.skewX||0;Math.abs(rt)>90&&Math.abs(rt)<270&&(ei?(gt*=-1,rt+=ft<=0?180:-180,ft+=ft<=0?180:-180):(ni*=-1,rt+=rt<=0?180:-180));s.scaleX=gt;s.scaleY=ni;s.rotation=ft;s.skewX=rt;y&&(s.rotationX=s.rotationY=s.z=0,s.perspective=si,s.scaleZ=1);s.svg&&(s.x-=s.xOrigin-(s.xOrigin*lt+s.yOrigin*pt),s.y-=s.yOrigin-(s.xOrigin*at+s.yOrigin*wt))}s.zOrigin=oi;for(bt in s)s[bt]<ti&&s[bt]>-ti&&(s[bt]=0)}return e&&(n._gsTransform=s,s.svg&&(nt&&n.style[h]?t.delayedCall(.001,function(){yt(n.style,h)}):!nt&&n.getAttribute("transform")&&t.delayedCall(.001,function(){n.removeAttribute("transform")}))),s},yu=function(n){var t=this.data,nt=-t.rotation*d,ft=nt+t.skewX*d,e=1e5,o=(Math.cos(nt)*t.scaleX*e|0)/e,u=(Math.sin(nt)*t.scaleX*e|0)/e,f=(Math.sin(ft)*-t.scaleY*e|0)/e,h=(Math.cos(ft)*t.scaleY*e|0)/e,b=this.t.style,g=this.t.currentStyle,c,y,et,w,v,ot;if(g){y=u;u=-f;f=-y;c=g.filter;b.filter="";var l=this.t.offsetWidth,a=this.t.offsetHeight,tt=g.position!=="absolute",p="progid:DXImageTransform.Microsoft.Matrix(M11="+o+", M12="+u+", M21="+f+", M22="+h,it=t.x+l*t.xPercent/100,ut=t.y+a*t.yPercent/100,i,r;if(t.ox!=null&&(i=(t.oxp?l*t.ox*.01:t.ox)-l/2,r=(t.oyp?a*t.oy*.01:t.oy)-a/2,it+=i-(i*o+r*u),ut+=r-(i*f+r*h)),tt?(i=l/2,r=a/2,p+=", Dx="+(i-(i*o+r*u)+it)+", Dy="+(r-(i*f+r*h)+ut)+")"):p+=", sizingMethod='auto expand')",b.filter=c.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?c.replace(ou,p):p+" "+c,(n===0||n===1)&&o===1&&u===0&&f===0&&h===1&&(tt&&p.indexOf("Dx=0, Dy=0")===-1||hi.test(c)&&parseFloat(RegExp.$1)!==100||c.indexOf("gradient("&&c.indexOf("Alpha"))===-1&&b.removeAttribute("filter")),!tt)for(et=rt<8?1:-1,i=t.ieOffsetX||0,r=t.ieOffsetY||0,t.ieOffsetX=Math.round((l-((o<0?-o:o)*l+(u<0?-u:u)*a))/2+it),t.ieOffsetY=Math.round((a-((h<0?-h:h)*a+(f<0?-f:f)*l))/2+ut),s=0;s<4;s++)v=hu[s],w=g[v],y=w.indexOf("px")!==-1?parseFloat(w):k(this.t,v,parseFloat(w),w.replace(kt,""))||0,ot=y!==t[v]?s<2?-t.ieOffsetX:-t.ieOffsetY:s<2?i-t.ieOffsetX:r-t.ieOffsetY,b[v]=(t[v]=Math.round(y-ot*(s===0||s===2?1:et)))+"px"}},pu=w.set3DTransformRatio=w.setTransformRatio=function(n){var t=this.data,wt=this.t.style,r=t.rotation,bt=t.rotationX,kt=t.rotationY,b=t.scaleX,k=t.scaleY,tt=t.scaleZ,c=t.x,l=t.y,ot=t.z,ht=t.svg,st=t.perspective,dt=t.force3D,a,v,it,p,w,rt,lt,at,ut,vt,yt,ft,ct,i,f,e,u,gt,g,o,s,pt,et;if(((n===1||n===0)&&dt==="auto"&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!dt)&&!ot&&!st&&!kt&&!bt&&tt===1||nt&&ht||!y){r||t.skewX||ht?(r*=d,pt=t.skewX*d,et=1e5,a=Math.cos(r)*b,p=Math.sin(r)*b,v=Math.sin(r-pt)*-k,w=Math.cos(r-pt)*k,pt&&t.skewType==="simple"&&(u=Math.tan(pt),u=Math.sqrt(1+u*u),v*=u,w*=u,t.skewY&&(a*=u,p*=u)),ht&&(c+=t.xOrigin-(t.xOrigin*a+t.yOrigin*v)+t.xOffset,l+=t.yOrigin-(t.xOrigin*p+t.yOrigin*w)+t.yOffset,nt&&(t.xPercent||t.yPercent)&&(i=this.t.getBBox(),c+=t.xPercent*.01*i.width,l+=t.yPercent*.01*i.height),i=1e-6,c<i&&c>-i&&(c=0),l<i&&l>-i&&(l=0)),g=(a*et|0)/et+","+(p*et|0)/et+","+(v*et|0)/et+","+(w*et|0)/et+","+c+","+l+")",ht&&nt?this.t.setAttribute("transform","matrix("+g):wt[h]=(t.xPercent||t.yPercent?"translate("+t.xPercent+"%,"+t.yPercent+"%) matrix(":"matrix(")+g):wt[h]=(t.xPercent||t.yPercent?"translate("+t.xPercent+"%,"+t.yPercent+"%) matrix(":"matrix(")+b+",0,0,"+k+","+c+","+l+")";return}if(ni&&(i=.0001,b<i&&b>-i&&(b=tt=2e-5),k<i&&k>-i&&(k=tt=2e-5),!st||t.z||t.rotationX||t.rotationY||(st=0)),r||t.skewX)r*=d,f=a=Math.cos(r),e=p=Math.sin(r),t.skewX&&(r-=t.skewX*d,f=Math.cos(r),e=Math.sin(r),t.skewType==="simple"&&(u=Math.tan(t.skewX*d),u=Math.sqrt(1+u*u),f*=u,e*=u,t.skewY&&(a*=u,p*=u))),v=-e,w=f;else if(kt||bt||tt!==1||st||ht)a=w=1,v=p=0;else{wt[h]=(t.xPercent||t.yPercent?"translate("+t.xPercent+"%,"+t.yPercent+"%) translate3d(":"translate3d(")+c+"px,"+l+"px,"+ot+"px)"+(b!==1||k!==1?" scale("+b+","+k+")":"");return}ut=1;it=rt=lt=at=vt=yt=0;ft=st?-1/st:0;ct=t.zOrigin;i=1e-6;o=",";s="0";r=kt*d;r&&(f=Math.cos(r),e=Math.sin(r),lt=-e,vt=ft*-e,it=a*e,rt=p*e,ut=f,ft*=f,a*=f,p*=f);r=bt*d;r&&(f=Math.cos(r),e=Math.sin(r),u=v*f+it*e,gt=w*f+rt*e,at=ut*e,yt=ft*e,it=v*-e+it*f,rt=w*-e+rt*f,ut=ut*f,ft=ft*f,v=u,w=gt);tt!==1&&(it*=tt,rt*=tt,ut*=tt,ft*=tt);k!==1&&(v*=k,w*=k,at*=k,yt*=k);b!==1&&(a*=b,p*=b,lt*=b,vt*=b);(ct||ht)&&(ct&&(c+=it*-ct,l+=rt*-ct,ot+=ut*-ct+ct),ht&&(c+=t.xOrigin-(t.xOrigin*a+t.yOrigin*v)+t.xOffset,l+=t.yOrigin-(t.xOrigin*p+t.yOrigin*w)+t.yOffset),c<i&&c>-i&&(c=s),l<i&&l>-i&&(l=s),ot<i&&ot>-i&&(ot=0));g=t.xPercent||t.yPercent?"translate("+t.xPercent+"%,"+t.yPercent+"%) matrix3d(":"matrix3d(";g+=(a<i&&a>-i?s:a)+o+(p<i&&p>-i?s:p)+o+(lt<i&&lt>-i?s:lt);g+=o+(vt<i&&vt>-i?s:vt)+o+(v<i&&v>-i?s:v)+o+(w<i&&w>-i?s:w);bt||kt||tt!==1?(g+=o+(at<i&&at>-i?s:at)+o+(yt<i&&yt>-i?s:yt)+o+(it<i&&it>-i?s:it),g+=o+(rt<i&&rt>-i?s:rt)+o+(ut<i&&ut>-i?s:ut)+o+(ft<i&&ft>-i?s:ft)+o):g+=",0,0,0,0,1,0,";g+=c+o+l+o+ot+o+(st?1+-ot/st:1)+")";wt[h]=g};for(i=ui.prototype,i.x=i.y=i.z=i.skewX=i.skewY=i.rotation=i.rotationX=i.rotationY=i.zOrigin=i.xPercent=i.yPercent=i.xOffset=i.yOffset=0,i.scaleX=i.scaleY=i.scaleZ=1,e("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(n,t,i,e,s,l,a){if(e._lastParsedTransform===a)return s;e._lastParsedTransform=a;var ft=n._gsTransform,et=n.style,pt=1e-6,wt=cr.length,w=a,it={},rt="transformOrigin",p,b,ct,d,k,ot,st,tt,at,yt;if(a.display?(d=u(n,"display"),et.display="block",p=ut(n,f,!0,a.parseTransform),et.display=d):p=ut(n,f,!0,a.parseTransform),e._transform=p,typeof w.transform=="string"&&h)d=g.style,d[h]=w.transform,d.display="block",d.position="absolute",v.body.appendChild(g),b=ut(g,null,!1),v.body.removeChild(g),b.perspective||(b.perspective=p.perspective),w.xPercent!=null&&(b.xPercent=c(w.xPercent,p.xPercent)),w.yPercent!=null&&(b.yPercent=c(w.yPercent,p.yPercent));else if(typeof w=="object"){if(b={scaleX:c(w.scaleX!=null?w.scaleX:w.scale,p.scaleX),scaleY:c(w.scaleY!=null?w.scaleY:w.scale,p.scaleY),scaleZ:c(w.scaleZ,p.scaleZ),x:c(w.x,p.x),y:c(w.y,p.y),z:c(w.z,p.z),xPercent:c(w.xPercent,p.xPercent),yPercent:c(w.yPercent,p.yPercent),perspective:c(w.transformPerspective,p.perspective)},tt=w.directionalRotation,tt!=null)if(typeof tt=="object")for(d in tt)w[d]=tt[d];else w.rotation=tt;typeof w.x=="string"&&w.x.indexOf("%")!==-1&&(b.x=0,b.xPercent=c(w.x,p.xPercent));typeof w.y=="string"&&w.y.indexOf("%")!==-1&&(b.y=0,b.yPercent=c(w.y,p.yPercent));b.rotation=lt("rotation"in w?w.rotation:"shortRotation"in w?w.shortRotation+"_short":"rotationZ"in w?w.rotationZ:p.rotation,p.rotation,"rotation",it);y&&(b.rotationX=lt("rotationX"in w?w.rotationX:"shortRotationX"in w?w.shortRotationX+"_short":p.rotationX||0,p.rotationX,"rotationX",it),b.rotationY=lt("rotationY"in w?w.rotationY:"shortRotationY"in w?w.shortRotationY+"_short":p.rotationY||0,p.rotationY,"rotationY",it));b.skewX=w.skewX==null?p.skewX:lt(w.skewX,p.skewX);b.skewY=w.skewY==null?p.skewY:lt(w.skewY,p.skewY);(ct=b.skewY-p.skewY)&&(b.skewX+=ct,b.rotation+=ct)}for(y&&w.force3D!=null&&(p.force3D=w.force3D,st=!0),p.skewType=w.skewType||p.skewType||r.defaultSkewType,ot=p.force3D||p.z||p.rotationX||p.rotationY||b.z||b.rotationX||b.rotationY||b.perspective,ot||w.scale==null||(b.scaleZ=1);--wt>-1;)i=cr[wt],k=b[i]-p[i],(k>pt||k<-pt||w[i]!=null||dt[i]!=null)&&(st=!0,s=new o(p,i,p[i],k,s),i in it&&(s.e=it[i]),s.xs0=0,s.plugin=l,e._overwriteProps.push(s.n));return k=w.transformOrigin,p.svg&&(k||w.svgOrigin)&&(at=p.xOffset,yt=p.yOffset,yr(n,ht(k),b,w.svgOrigin,w.smoothOrigin),s=ii(p,"xOrigin",(ft?p:b).xOrigin,b.xOrigin,s,rt),s=ii(p,"yOrigin",(ft?p:b).yOrigin,b.yOrigin,s,rt),(at!==p.xOffset||yt!==p.yOffset)&&(s=ii(p,"xOffset",ft?at:p.xOffset,p.xOffset,s,rt),s=ii(p,"yOffset",ft?yt:p.yOffset,p.yOffset,s,rt)),k=nt?null:"0px 0px"),(k||y&&ot&&p.zOrigin)&&(h?(st=!0,i=vt,k=(k||u(n,i,f,!1,"50% 50%"))+"",s=new o(et,i,0,0,s,-1,rt),s.b=et[i],s.plugin=l,y?(d=p.zOrigin,k=k.split(" "),p.zOrigin=(k.length>2&&!(d!==0&&k[2]==="0px")?parseFloat(k[2]):d)||0,s.xs0=s.e=k[0]+" "+(k[1]||"50%")+" 0px",s=new o(p,"zOrigin",0,0,s,-1,s.n),s.b=d,s.xs0=s.e=p.zOrigin):s.xs0=s.e=k):ht(k+"",p)),st&&(e._transformType=!(p.svg&&nt)&&(ot||this._transformType===3)?3:2),s},prefix:!0}),e("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),e("borderRadius",{defaultValue:"0px",parser:function(n,t,i,r,e){t=this.format(t);var v=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],ut=n.style,tt,l,d,h,o,s,p,a,it,rt,c,y,g,w,b,nt;for(it=parseFloat(n.offsetWidth),rt=parseFloat(n.offsetHeight),tt=t.split(" "),l=0;l<v.length;l++)this.p.indexOf("border")&&(v[l]=et(v[l])),o=h=u(n,v[l],f,!1,"0px"),o.indexOf(" ")!==-1&&(h=o.split(" "),o=h[0],h=h[1]),s=d=tt[l],p=parseFloat(o),y=o.substr((p+"").length),g=s.charAt(1)==="=",g?(a=parseInt(s.charAt(0)+"1",10),s=s.substr(2),a*=parseFloat(s),c=s.substr((a+"").length-(a<0?1:0))||""):(a=parseFloat(s),c=s.substr((a+"").length)),c===""&&(c=wt[i]||y),c!==y&&(w=k(n,"borderLeft",p,y),b=k(n,"borderTop",p,y),c==="%"?(o=w/it*100+"%",h=b/rt*100+"%"):c==="em"?(nt=k(n,"borderLeft",1,"em"),o=w/nt+"em",h=b/nt+"em"):(o=w+"px",h=b+"px"),g&&(s=parseFloat(o)+a+c,d=parseFloat(h)+a+c)),e=ri(ut,v[l],o+" "+h,s+" "+d,!1,"0px",e);return e},prefix:!0,formatter:sr("0px 0px 0px 0px",!1,!0)}),e("backgroundPosition",{defaultValue:"0 0",parser:function(n,t,i,r,e,o){var v="background-position",c=f||ot(n,null),s=this.format((c?rt?c.getPropertyValue(v+"-x")+" "+c.getPropertyValue(v+"-y"):c.getPropertyValue(v):n.currentStyle.backgroundPositionX+" "+n.currentStyle.backgroundPositionY)||"0 0"),y=this.format(t),l,b,h,p,w,a;if(s.indexOf("%")!==-1!=(y.indexOf("%")!==-1)&&(a=u(n,"backgroundImage").replace(uu,""),a&&a!=="none")){for(l=s.split(" "),b=y.split(" "),li.setAttribute("src",a),h=2;--h>-1;)s=l[h],p=s.indexOf("%")!==-1,p!==(b[h].indexOf("%")!==-1)&&(w=h===0?n.offsetWidth-li.width:n.offsetHeight-li.height,l[h]=p?parseFloat(s)/100*w+"px":parseFloat(s)/w*100+"%");s=l.join(" ")}return this.parseComplex(n.style,s,y,e,o)},formatter:ht}),e("backgroundSize",{defaultValue:"0 0",formatter:ht}),e("perspective",{defaultValue:"0px",prefix:!0}),e("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),e("transformStyle",{prefix:!0}),e("backfaceVisibility",{prefix:!0}),e("userSelect",{prefix:!0}),e("margin",{parser:wi("marginTop,marginRight,marginBottom,marginLeft")}),e("padding",{parser:wi("paddingTop,paddingRight,paddingBottom,paddingLeft")}),e("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(n,t,i,r,e,o){var c,s,h;return rt<9?(s=n.currentStyle,h=rt<8?" ":",",c="rect("+s.clipTop+h+s.clipRight+h+s.clipBottom+h+s.clipLeft+")",t=this.format(t).split(",").join(h)):(c=this.format(u(n,this.p,f,!1,this.dflt)),t=this.format(t)),this.parseComplex(n.style,c,t,e,o)}}),e("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),e("autoRound,strictUnits",{parser:function(n,t,i,r,u){return u}}),e("border",{defaultValue:"0px solid #000",parser:function(n,t,i,r,e,o){return this.parseComplex(n.style,this.format(u(n,"borderTopWidth",f,!1,"0px")+" "+u(n,"borderTopStyle",f,!1,"solid")+" "+u(n,"borderTopColor",f,!1,"#000")),this.format(t),e,o)},color:!0,formatter:function(n){var t=n.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(n.match(l)||["#000"])[0]}}),e("borderWidth",{parser:wi("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),e("float,cssFloat,styleFloat",{parser:function(n,t,i,r,u){var f=n.style,e="cssFloat"in f?"cssFloat":"styleFloat";return new o(f,e,0,0,u,-1,i,!1,0,f[e],t)}}),br=function(n){var i=this.t,t=i.filter||u(this.data,"filter")||"",r=this.s+this.c*n|0,f;r===100&&(t.indexOf("atrix(")===-1&&t.indexOf("radient(")===-1&&t.indexOf("oader(")===-1?(i.removeAttribute("filter"),f=!u(this.data,"filter")):(i.filter=t.replace(iu,""),f=!0));f||(this.xn1&&(i.filter=t=t||"alpha(opacity="+r+")"),t.indexOf("pacity")===-1?r===0&&this.xn1||(i.filter=t+" alpha(opacity="+r+")"):i.filter=t.replace(hi,"opacity="+r))},e("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(n,t,i,r,e,s){var h=parseFloat(u(n,"opacity",f,!1,"1")),c=n.style,l=i==="autoAlpha";return typeof t=="string"&&t.charAt(1)==="="&&(t=(t.charAt(0)==="-"?-1:1)*parseFloat(t.substr(2))+h),l&&h===1&&u(n,"visibility",f)==="hidden"&&t!==0&&(h=0),tt?e=new o(c,"opacity",h,t-h,e):(e=new o(c,"opacity",h*100,(t-h)*100,e),e.xn1=l?1:0,c.zoom=1,e.type=2,e.b="alpha(opacity="+e.s+")",e.e="alpha(opacity="+(e.s+e.c)+")",e.data=n,e.plugin=s,e.setRatio=br),l&&(e=new o(c,"visibility",0,0,e,-1,null,!1,0,h!==0?"inherit":"hidden",t===0?"hidden":"inherit"),e.xs0="inherit",r._overwriteProps.push(e.n),r._overwriteProps.push(i)),e}}),yt=function(n,t){t&&(n.removeProperty?((t.substr(0,2)==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(t.replace(di,"-$1").toLowerCase())):n.removeAttribute(t))},kr=function(n){if(this.t._gsClassPT=this,n===1||n===0){this.t.setAttribute("class",n===0?this.b:this.e);for(var t=this.data,i=this.t.style;t;)t.v?i[t.p]=t.v:yt(i,t.p),t=t._next;n===1&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)},e("className",{parser:function(n,t,i,r,u,e,s){var l=n.getAttribute("class")||"",p=n.style.cssText,a,y,c,v,h;if(u=r._classNamePT=new o(n,i,0,0,u,2),u.setRatio=kr,u.pr=-11,ft=!0,u.b=l,y=st(n,f),c=n._gsClassPT,c){for(v={},h=c.data;h;)v[h.p]=1,h=h._next;c.setRatio(1)}return n._gsClassPT=u,u.e=t.charAt(1)!=="="?t:l.replace(new RegExp("\\s*\\b"+t.substr(2)+"\\b"),"")+(t.charAt(0)==="+"?" "+t.substr(2):""),n.setAttribute("class",u.e),a=yi(n,y,st(n),s,v),n.setAttribute("class",l),u.data=a.firstMPT,n.style.cssText=p,u.xfirst=r.parse(n,a.difs,u,e)}}),dr=function(n){if((n===1||n===0)&&this.data._totalTime===this.data._totalDuration&&this.data.data!=="isFromStart"){var i=this.t.style,o=a.transform.parse,r,t,u,f,e;if(this.e==="all")i.cssText="",f=!0;else for(r=this.e.split(" ").join("").split(","),u=r.length;--u>-1;)t=r[u],a[t]&&(a[t].parse===o?f=!0:t=t==="transformOrigin"?vt:a[t].p),yt(i,t);f&&(yt(i,h),e=this.t._gsTransform,e&&(e.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}},e("clearProps",{parser:function(n,t,i,r,u){return u=new o(n,i,0,0,u,2),u.setRatio=dr,u.e=t,u.pr=-10,u.data=r._tween,ft=!0,u}}),i="bezier,throwProps,physicsProps,physics2D".split(","),s=i.length;s--;)lu(i[s]);return i=r.prototype,i._firstPT=i._lastParsedTransform=i._transform=null,i._onInitTween=function(n,t,i){if(!n.nodeType)return!1;this._target=n;this._tween=i;this._vars=t;ai=t.autoRound;ft=!1;wt=t.suffixMap||r.suffixMap;f=ot(n,"");fi=this._overwriteProps;var c=n.style,l,s,e,v,w,b,p,y,k;if(tr&&c.zIndex===""&&(l=u(n,"zIndex",f),(l==="auto"||l==="")&&this._addLazySet(c,"zIndex",0)),typeof t=="string"&&(v=c.cssText,l=st(n,f),c.cssText=v+";"+t,l=yi(n,l,st(n)).difs,!tt&&tu.test(t)&&(l.opacity=parseFloat(RegExp.$1)),t=l,c.cssText=v),this._firstPT=t.className?s=a.className.parse(n,t.className,"className",this,null,null,t):s=this.parse(n,t,null),this._transformType){for(k=this._transformType===3,h?gt&&(tr=!0,c.zIndex===""&&(p=u(n,"zIndex",f),(p==="auto"||p==="")&&this._addLazySet(c,"zIndex",0)),ir&&this._addLazySet(c,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(k?"visible":"hidden"))):c.zoom=1,e=s;e&&e._next;)e=e._next;y=new o(n,"transform",0,0,null,2);this._linkCSSP(y,null,e);y.setRatio=h?pu:yu;y.data=this._transform||ut(n,f,!0);y.tween=i;y.pr=-1;fi.pop()}if(ft){while(s){for(b=s._next,e=v;e&&e.pr>s.pr;)e=e._next;(s._prev=e?e._prev:w)?s._prev._next=s:v=s;(s._next=e)?e._prev=s:w=s;s=b}this._firstPT=v}return!0},i.parse=function(n,t,i,r){var w=n.style,e,d,h,c,v,s,y,l,p,b;for(e in t)s=t[e],d=a[e],d?i=d.parse(n,s,e,this,i,r,t):(v=u(n,e,f)+"",p=typeof s=="string",e==="color"||e==="fill"||e==="stroke"||e.indexOf("Color")!==-1||p&&ru.test(s)?(p||(s=ti(s),s=(s.length>3?"rgba(":"rgb(")+s.join(",")+")"),i=ri(w,e,v,s,!0,"transparent",i,0,r)):p&&(s.indexOf(" ")!==-1||s.indexOf(",")!==-1)?i=ri(w,e,v,s,!0,null,i,0,r):(h=parseFloat(v),y=h||h===0?v.substr((h+"").length):"",(v===""||v==="auto")&&(e==="width"||e==="height"?(h=cu(n,e,f),y="px"):e==="left"||e==="top"?(h=er(n,e,f),y="px"):(h=e!=="opacity"?0:1,y="")),b=p&&s.charAt(1)==="=",b?(c=parseInt(s.charAt(0)+"1",10),s=s.substr(2),c*=parseFloat(s),l=s.replace(kt,"")):(c=parseFloat(s),l=p?s.replace(kt,""):""),l===""&&(l=e in wt?wt[e]:y),s=c||c===0?(b?c+h:c)+l:t[e],y!==l&&l!==""&&(c||c===0)&&h&&(h=k(n,e,h,y),l==="%"?(h/=k(n,e,100,"%")/100,t.strictUnits!==!0&&(v=h+"%")):l==="em"||l==="rem"||l==="vw"||l==="vh"?h/=k(n,e,1,l):l!=="px"&&(c=k(n,e,c,l),l="px"),b&&(c||c===0)&&(s=c+h+l)),b&&(c+=h),(h||h===0)&&(c||c===0)?(i=new o(w,e,h,c-h,i,0,e,ai!==!1&&(l==="px"||e==="zIndex"),0,v,s),i.xs0=l):w[e]!==undefined&&(s||s+""!="NaN"&&s!=null)?(i=new o(w,e,c||h||0,0,i,-1,e,!1,0,v,s),i.xs0=s==="none"&&(e==="display"||e.indexOf("Style")!==-1)?v:s):ur("invalid "+e+" tween value: "+t[e]))),r&&i&&!i.plugin&&(i.plugin=r);return i},i.setRatio=function(n){var t=this._firstPT,f=1e-6,r,u,i;if(n===1&&(this._tween._time===this._tween._duration||this._tween._time===0))while(t){if(t.type!==2)if(t.r&&t.type!==-1)if(r=Math.round(t.s+t.c),t.type){if(t.type===1){for(i=t.l,u=t.xs0+r+t.xs1,i=1;i<t.l;i++)u+=t["xn"+i]+t["xs"+(i+1)];t.t[t.p]=u}}else t.t[t.p]=r+t.xs0;else t.t[t.p]=t.e;else t.setRatio(n);t=t._next}else if(!n&&(this._tween._time===this._tween._duration||this._tween._time===0)&&this._tween._rawPrevTime!==-1e-6)while(t)t.type!==2?t.t[t.p]=t.b:t.setRatio(n),t=t._next;else while(t){if(r=t.c*n+t.s,t.r?r=Math.round(r):r<f&&r>-f&&(r=0),t.type)if(t.type===1)if(i=t.l,i===2)t.t[t.p]=t.xs0+r+t.xs1+t.xn1+t.xs2;else if(i===3)t.t[t.p]=t.xs0+r+t.xs1+t.xn1+t.xs2+t.xn2+t.xs3;else if(i===4)t.t[t.p]=t.xs0+r+t.xs1+t.xn1+t.xs2+t.xn2+t.xs3+t.xn3+t.xs4;else if(i===5)t.t[t.p]=t.xs0+r+t.xs1+t.xn1+t.xs2+t.xn2+t.xs3+t.xn3+t.xs4+t.xn4+t.xs5;else{for(u=t.xs0+r+t.xs1,i=1;i<t.l;i++)u+=t["xn"+i]+t["xs"+(i+1)];t.t[t.p]=u}else t.type===-1?t.t[t.p]=t.xs0:t.setRatio&&t.setRatio(n);else t.t[t.p]=r+t.xs0;t=t._next}},i._enableTransforms=function(n){this._transform=this._transform||ut(this._target,f,!0);this._transformType=!(this._transform.svg&&nt)&&(n||this._transformType===3)?3:2},gr=function(){this.t[this.p]=this.e;this.data._linkCSSP(this,this._next,null,!0)},i._addLazySet=function(n,t,i){var r=this._firstPT=new o(n,t,0,0,this._firstPT,2);r.e=i;r.setRatio=gr;r.data=this},i._linkCSSP=function(n,t,i,r){return n&&(t&&(t._prev=n),n._next&&(n._next._prev=n._prev),n._prev?n._prev._next=n._next:this._firstPT===n&&(this._firstPT=n._next,r=!0),i?i._next=n:r||this._firstPT!==null||(this._firstPT=n),n._next=t,n._prev=i),n},i._kill=function(t){var u=t,i,f,r;if(t.autoAlpha||t.alpha){u={};for(f in t)u[f]=t[f];u.opacity=1;u.autoAlpha&&(u.visibility=1)}return t.className&&(i=this._classNamePT)&&(r=i.xfirst,r&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),n.prototype._kill.call(this,u)},pt=function(n,t,i){var e,u,r,f;if(n.slice){for(u=n.length;--u>-1;)pt(n[u],t,i);return}for(e=n.childNodes,u=e.length;--u>-1;)r=e[u],f=r.type,r.style&&(t.push(st(r)),i&&i.push(r)),(f===1||f===9||f===11)&&r.childNodes.length&&pt(r,t,i)},r.cascadeTo=function(n,i,r){var o=t.to(n,i,r),l=[o],h=[],a=[],s=[],v=t._internals.reservedProps,u,f,e,c;for(n=o._targets||o.target,pt(n,h,s),o.render(i,!0,!0),pt(n,a),o.render(0,!0,!0),o._enabled(!0),u=s.length;--u>-1;)if(f=yi(s[u],h[u],a[u]),f.firstMPT){f=f.difs;for(e in r)v[e]&&(f[e]=r[e]);c={};for(e in f)c[e]=h[u][e];l.push(t.fromTo(s[u],i,c,f))}return l},n.activate([r]),r},!0)});_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(n){"use strict";var t=function(){return(_gsScope.GreenSockGlobals||_gsScope)[n]};typeof define=="function"&&define.amd?define(["TweenLite"],t):typeof module!="undefined"&&module.exports&&(require("../TweenLite.js"),module.exports=t())}("CSSPlugin");
(function(n,t){"use strict";var ot=n.GreenSockGlobals=n.GreenSockGlobals||n,ct,o,at,ft,c;if(!ot.TweenLite){var kt=function(n){for(var r=n.split("."),i=ot,t=0;t<r.length;t++)i[r[t]]=i=i[r[t]]||{};return i},y=kt("com.greensock"),e=1e-10,dt=function(n){for(var i=[],r=n.length,t=0;t!==r;i.push(n[t++]));return i},gt=function(){},g=function(){var n=Object.prototype.toString,t=n.call([]);return function(i){return i!=null&&(i instanceof Array||typeof i=="object"&&!!i.push&&n.call(i)===t)}}(),s,f,i,u,h,nt={},ni=function(i,r,u,f){this.sc=nt[i]?nt[i].sc:[];nt[i]=this;this.gsClass=null;this.func=u;var e=[];this.check=function(o){for(var s=r.length,y=s,c,l,a,h,v;--s>-1;)(c=nt[r[s]]||new ni(r[s],[])).gsClass?(e[s]=c.gsClass,y--):o&&c.sc.push(this);if(y===0&&u)for(l=("com.greensock."+i).split("."),a=l.pop(),h=kt(l.join("."))[a]=this.gsClass=u.apply(u,e),f&&(ot[a]=h,v=typeof module!="undefined"&&module.exports,!v&&typeof define=="function"&&define.amd?define((n.GreenSockAMDPath?n.GreenSockAMDPath+"/":"")+i.split(".").pop(),[],function(){return h}):i===t&&v&&(module.exports=h)),s=0;s<this.sc.length;s++)this.sc[s].check()};this.check(!0)},st=n._gsDefine=function(n,t,i,r){return new ni(n,t,i,r)},l=y._class=function(n,t,i){return t=t||function(){},st(n,[],function(){return t},i),t};st.globals=ot;var ti=[0,0,1,1],ci=[],a=l("easing.Ease",function(n,t,i,r){this._func=n;this._type=i||0;this._power=r||0;this._params=t?ti.concat(t):ti},!0),rt=a.map={},ht=a.register=function(n,t,i,r){for(var o=t.split(","),s=o.length,h=(i||"easeIn,easeOut,easeInOut").split(","),c,u,e,f;--s>-1;)for(u=o[s],c=r?l("easing."+u,null,!0):y.easing[u]||{},e=h.length;--e>-1;)f=h[e],rt[u+"."+f]=rt[f+u]=c[f]=n.getRatio?n:n[f]||new n};for(i=a.prototype,i._calcEnd=!1,i.getRatio=function(n){if(this._func)return this._params[0]=n,this._func.apply(null,this._params);var i=this._type,r=this._power,t=i===1?1-n:i===2?n:n<.5?n*2:(1-n)*2;return r===1?t*=t:r===2?t*=t*t:r===3?t*=t*t*t:r===4&&(t*=t*t*t*t),i===1?1-t:i===2?t:n<.5?t/2:1-t/2},s=["Linear","Quad","Cubic","Quart","Quint,Strong"],f=s.length;--f>-1;)i=s[f]+",Power"+f,ht(new a(null,null,1,f),i,"easeOut",!0),ht(new a(null,null,2,f),i,"easeIn"+(f===0?",easeNone":"")),ht(new a(null,null,3,f),i,"easeInOut");rt.linear=y.easing.Linear.easeIn;rt.swing=y.easing.Quad.easeInOut;ct=l("events.EventDispatcher",function(n){this._listeners={};this._eventTarget=n||this});i=ct.prototype;i.addEventListener=function(n,t,i,r,f){f=f||0;var e=this._listeners[n],c=0,s,o;for(e==null&&(this._listeners[n]=e=[]),o=e.length;--o>-1;)s=e[o],s.c===t&&s.s===i?e.splice(o,1):c===0&&s.pr<f&&(c=o+1);e.splice(c,0,{c:t,s:i,up:r,pr:f});this!==u||h||u.wake()};i.removeEventListener=function(n,t){var i=this._listeners[n],r;if(i)for(r=i.length;--r>-1;)if(i[r].c===t){i.splice(r,1);return}};i.dispatchEvent=function(n){var r=this._listeners[n],u,i,t;if(r)for(u=r.length,i=this._eventTarget;--u>-1;)t=r[u],t&&(t.up?t.c.call(t.s||i,{type:n,target:i}):t.c.call(t.s||i))};var ut=n.requestAnimationFrame,lt=n.cancelAnimationFrame,tt=Date.now||function(){return(new Date).getTime()},w=tt();for(s=["ms","moz","webkit","o"],f=s.length;--f>-1&&!ut;)ut=n[s[f]+"RequestAnimationFrame"],lt=n[s[f]+"CancelAnimationFrame"]||n[s[f]+"CancelRequestAnimationFrame"];l("Ticker",function(n,t){var i=this,a=tt(),o=t!==!1&&ut?"auto":!1,s=500,p=33,b="tick",r,v,f,c,l,y=function(n){var u=tt()-w,t,e;u>s&&(a+=u-p);w+=u;i.time=(w-a)/1e3;t=i.time-l;(!r||t>0||n===!0)&&(i.frame++,l+=t+(t>=c?.004:c-t),e=!0);n!==!0&&(f=v(y));e&&i.dispatchEvent(b)};ct.call(i);i.time=i.frame=0;i.tick=function(){y(!0)};i.lagSmoothing=function(n,t){s=n||1/e;p=Math.min(t,s,0)};i.sleep=function(){f!=null&&(o&&lt?lt(f):clearTimeout(f),v=gt,f=null,i===u&&(h=!1))};i.wake=function(n){f!==null?i.sleep():n?a+=-w+(w=tt()):i.frame>10&&(w=tt()-s+5);v=r===0?gt:!o||!ut?function(n){return setTimeout(n,(l-i.time)*1e3+1|0)}:ut;i===u&&(h=!0);y(2)};i.fps=function(n){if(!arguments.length)return r;r=n;c=1/(r||60);l=this.time+c;i.wake()};i.useRAF=function(n){if(!arguments.length)return o;i.sleep();o=n;i.fps(r)};i.fps(n);setTimeout(function(){o==="auto"&&i.frame<5&&document.visibilityState!=="hidden"&&i.useRAF(!1)},1500)});i=y.Ticker.prototype=new y.events.EventDispatcher;i.constructor=y.Ticker;o=l("core.Animation",function(n,t){if(this.vars=t=t||{},this._duration=this._totalDuration=n||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=t.immediateRender===!0,this.data=t.data,this._reversed=t.reversed===!0,p){h||u.wake();var i=this.vars.useFrames?d:p;i.add(this,i._time);this.vars.paused&&this.paused(!0)}});u=o.ticker=new y.Ticker;i=o.prototype;i._dirty=i._gc=i._initted=i._paused=!1;i._totalTime=i._time=0;i._rawPrevTime=-1;i._next=i._last=i._onUpdate=i._timeline=i.timeline=null;i._paused=!1;at=function(){h&&tt()-w>2e3&&u.wake();setTimeout(at,2e3)};at();i.play=function(n,t){return n!=null&&this.seek(n,t),this.reversed(!1).paused(!1)};i.pause=function(n,t){return n!=null&&this.seek(n,t),this.paused(!0)};i.resume=function(n,t){return n!=null&&this.seek(n,t),this.paused(!1)};i.seek=function(n,t){return this.totalTime(Number(n),t!==!1)};i.restart=function(n,t){return this.reversed(!1).paused(!1).totalTime(n?-this._delay:0,t!==!1,!0)};i.reverse=function(n,t){return n!=null&&this.seek(n||this.totalDuration(),t),this.reversed(!0).paused(!1)};i.render=function(){};i.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this};i.isActive=function(){var n=this._timeline,t=this._startTime,i;return!n||!this._gc&&!this._paused&&n.isActive()&&(i=n.rawTime())>=t&&i<t+this.totalDuration()/this._timeScale};i._enabled=function(n,t){return h||u.wake(),this._gc=!n,this._active=this.isActive(),t!==!0&&(n&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!n&&this.timeline&&this._timeline._remove(this,!0)),!1};i._kill=function(){return this._enabled(!1,!1)};i.kill=function(n,t){return this._kill(n,t),this};i._uncache=function(n){for(var t=n?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this};i._swapSelfInParams=function(n){for(var t=n.length,i=n.concat();--t>-1;)n[t]==="{self}"&&(i[t]=this);return i};i._callback=function(n){var t=this.vars;t[n].apply(t[n+"Scope"]||t.callbackScope||this,t[n+"Params"]||ci)};i.eventCallback=function(n,t,i,r){if((n||"").substr(0,2)==="on"){var u=this.vars;if(arguments.length===1)return u[n];t==null?delete u[n]:(u[n]=t,u[n+"Params"]=g(i)&&i.join("").indexOf("{self}")!==-1?this._swapSelfInParams(i):i,u[n+"Scope"]=r);n==="onUpdate"&&(this._onUpdate=t)}return this};i.delay=function(n){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+n-this._delay),this._delay=n,this):this._delay};i.duration=function(n){return arguments.length?(this._duration=this._totalDuration=n,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&n!==0&&this.totalTime(this._totalTime*(n/this._duration),!0),this):(this._dirty=!1,this._duration)};i.totalDuration=function(n){return this._dirty=!1,arguments.length?this.duration(n):this._totalDuration};i.time=function(n,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(n>this._duration?this._duration:n,t)):this._time};i.totalTime=function(n,t,i){if(h||u.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(n<0&&!i&&(n+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var f=this._totalDuration,r=this._timeline;if(n>f&&!i&&(n=f),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?f-n:n)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)while(r._timeline)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1);(this._totalTime!==n||this._duration===0)&&(v.length&&it(),this.render(n,t,!1),v.length&&it())}return this};i.progress=i.totalProgress=function(n,t){var i=this.duration();return arguments.length?this.totalTime(i*n,t):i?this._time/i:this.ratio};i.startTime=function(n){return arguments.length?(n!==this._startTime&&(this._startTime=n,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,n-this._delay)),this):this._startTime};i.endTime=function(n){return this._startTime+(n!=!1?this.totalDuration():this.duration())/this._timeScale};i.timeScale=function(n){if(!arguments.length)return this._timeScale;if(n=n||e,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,i=t||t===0?t:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/n}return this._timeScale=n,this._uncache(!1)};i.reversed=function(n){return arguments.length?(n!=this._reversed&&(this._reversed=n,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed};i.paused=function(n){if(!arguments.length)return this._paused;var i=this._timeline,t,r;return n!=this._paused&&i&&(h||n||u.wake(),t=i.rawTime(),r=t-this._pauseTime,!n&&i.smoothChildTiming&&(this._startTime+=r,this._uncache(!1)),this._pauseTime=n?t:null,this._paused=n,this._active=this.isActive(),!n&&r!==0&&this._initted&&this.duration()&&(t=i.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!n&&this._enabled(!0,!1),this};ft=l("core.SimpleTimeline",function(n){o.call(this,0,n);this.autoRemoveChildren=this.smoothChildTiming=!0});i=ft.prototype=new o;i.constructor=ft;i.kill()._gc=!1;i._first=i._last=i._recent=null;i._sortChildren=!1;i.add=i.insert=function(n,t){var i,r;if(n._startTime=Number(t||0)+n._delay,n._paused&&this!==n._timeline&&(n._pauseTime=n._startTime+(this.rawTime()-n._startTime)/n._timeScale),n.timeline&&n.timeline._remove(n,!0),n.timeline=n._timeline=this,n._gc&&n._enabled(!0,!0),i=this._last,this._sortChildren)for(r=n._startTime;i&&i._startTime>r;)i=i._prev;return i?(n._next=i._next,i._next=n):(n._next=this._first,this._first=n),n._next?n._next._prev=n:this._last=n,n._prev=i,this._recent=n,this._timeline&&this._uncache(!0),this};i._remove=function(n,t){return n.timeline===this&&(t||n._enabled(!1,!0),n._prev?n._prev._next=n._next:this._first===n&&(this._first=n._next),n._next?n._next._prev=n._prev:this._last===n&&(this._last=n._prev),n._next=n._prev=n.timeline=null,n===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this};i.render=function(n,t,i){var r=this._first,u;for(this._totalTime=this._time=this._rawPrevTime=n;r;)u=r._next,(r._active||n>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(n-r._startTime)*r._timeScale,t,i):r.render((n-r._startTime)*r._timeScale,t,i)),r=u};i.rawTime=function(){return h||u.wake(),this._totalTime};var r=l("TweenLite",function(t,i,u){if(o.call(this,i,u),this.render=r.prototype.render,t==null)throw"Cannot tween a null target.";this.target=t=typeof t!="string"?t:r.selector(t)||t;var l=t.jquery||t.length&&t!==n&&t[0]&&(t[0]===n||t[0].nodeType&&t[0].style&&!t.nodeType),c=this.vars.overwrite,s,f,h;if(this._overwrite=c=c==null?ei[r.defaultOverwrite]:typeof c=="number"?c>>0:ei[c],(l||t instanceof Array||t.push&&g(t))&&typeof t[0]!="number")for(this._targets=h=dt(t),this._propLookup=[],this._siblings=[],s=0;s<h.length;s++){if(f=h[s],f){if(typeof f=="string"){f=h[s--]=r.selector(f);typeof f=="string"&&h.splice(s+1,1);continue}else if(f.length&&f!==n&&f[0]&&(f[0]===n||f[0].nodeType&&f[0].style&&!f.nodeType)){h.splice(s--,1);this._targets=h=h.concat(dt(f));continue}}else{h.splice(s--,1);continue}this._siblings[s]=et(f,this,!1);c===1&&this._siblings[s].length>1&&bt(f,this,null,1,this._siblings[s])}else this._propLookup={},this._siblings=et(t,this,!1),c===1&&this._siblings.length>1&&bt(t,this,null,1,this._siblings);(this.vars.immediateRender||i===0&&this._delay===0&&this.vars.immediateRender!==!1)&&(this._time=-e,this.render(-this._delay))},!0),vt=function(t){return t&&t.length&&t!==n&&t[0]&&(t[0]===n||t[0].nodeType&&t[0].style&&!t.nodeType)},li=function(n,t){var r={};for(var i in n)wt[i]||i in t&&i!=="transform"&&i!=="x"&&i!=="y"&&i!=="width"&&i!=="height"&&i!=="className"&&i!=="border"||b[i]&&(!b[i]||!b[i]._autoCSS)||(r[i]=n[i],delete n[i]);n.css=r};i=r.prototype=new o;i.constructor=r;i.kill()._gc=!1;i.ratio=0;i._firstPT=i._targets=i._overwrittenProps=i._startAt=null;i._notifyPluginsOfEnabled=i._lazy=!1;r.version="1.18.2";r.defaultEase=i._ease=new a(null,null,1,1);r.defaultOverwrite="auto";r.ticker=u;r.autoSleep=120;r.lagSmoothing=function(n,t){u.lagSmoothing(n,t)};r.selector=n.$||n.jQuery||function(t){var i=n.$||n.jQuery;return i?(r.selector=i,i(t)):typeof document=="undefined"?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById(t.charAt(0)==="#"?t.substr(1):t)};var v=[],yt={},ii=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,ri=function(n){for(var t=this._firstPT,r=1e-6,i;t;)i=t.blob?n?this.join(""):this.start:t.c*n+t.s,t.r?i=Math.round(i):i<r&&i>-r&&(i=0),t.f?t.fp?t.t[t.p](t.fp,i):t.t[t.p](i):t.t[t.p]=i,t=t._next},ui=function(n,t,i,r){var u=[n,t],s=0,e="",h=0,l,v,a,o,y,c,f;for(u.start=n,i&&(i(u),n=u[0],t=u[1]),u.length=0,l=n.match(ii)||[],v=t.match(ii)||[],r&&(r._next=null,r.blob=1,u._firstPT=r),y=v.length,o=0;o<y;o++)f=v[o],c=t.substr(s,t.indexOf(f,s)-s),e+=c||!o?c:",",s+=c.length,h?h=(h+1)%5:c.substr(-5)==="rgba("&&(h=1),f===l[o]||l.length<=o?e+=f:(e&&(u.push(e),e=""),a=parseFloat(l[o]),u.push(a),u._firstPT={_next:u._firstPT,t:u,p:u.length-1,s:a,c:(f.charAt(1)==="="?parseInt(f.charAt(0)+"1",10)*parseFloat(f.substr(2)):parseFloat(f)-a)||0,f:0,r:h&&h<4}),s+=f.length;return e+=t.substr(s),e&&u.push(e),u.setRatio=ri,u},fi=function(n,t,i,u,f,e,o,s){var c=i==="get"?n[t]:i,l=typeof n[t],v=typeof u=="string"&&u.charAt(1)==="=",h={t:n,p:t,s:c,f:l==="function",pg:0,n:f||t,r:e,pr:0,c:v?parseInt(u.charAt(0)+"1",10)*parseFloat(u.substr(2)):parseFloat(u)-c||0},y,a;return l!=="number"&&(l==="function"&&i==="get"&&(a=t.indexOf("set")||typeof n["get"+t.substr(3)]!="function"?t:"get"+t.substr(3),h.s=c=o?n[a](o):n[a]()),typeof c=="string"&&(o||isNaN(c))?(h.fp=o,y=ui(c,u,s||r.defaultStringFilter,h),h={t:y,p:"setRatio",s:0,c:1,f:2,pg:0,n:f||t,pr:0}):v||(h.s=parseFloat(c),h.c=parseFloat(u)-h.s||0)),h.c?((h._next=this._firstPT)&&(h._next._prev=h),this._firstPT=h,h):void 0},pt=r._internals={isArray:g,isSelector:vt,lazyTweens:v,blobDif:ui},b=r._plugins={},k=pt.tweenLookup={},ai=0,wt=pt.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1},ei={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},d=o._rootFramesTimeline=new ft,p=o._rootTimeline=new ft,oi=30,it=pt.lazyRender=function(){var t=v.length,n;for(yt={};--t>-1;)n=v[t],n&&n._lazy!==!1&&(n.render(n._lazy[0],n._lazy[1],!0),n._lazy=!1);v.length=0};p._startTime=u.time;d._startTime=u.frame;p._active=d._active=!0;setTimeout(it,1);o._updateRoot=r.render=function(){var i,t,n;if(v.length&&it(),p.render((u.time-p._startTime)*p._timeScale,!1,!1),d.render((u.frame-d._startTime)*d._timeScale,!1,!1),v.length&&it(),u.frame>=oi){oi=u.frame+(parseInt(r.autoSleep,10)||120);for(n in k){for(t=k[n].tweens,i=t.length;--i>-1;)t[i]._gc&&t.splice(i,1);t.length===0&&delete k[n]}if(n=p._first,(!n||n._paused)&&r.autoSleep&&!d._first&&u._listeners.tick.length===1){while(n&&n._paused)n=n._next;n||u.sleep()}}};u.addEventListener("tick",o._updateRoot);var et=function(n,t,i){var r=n._gsTweenID,u,f;if(k[r||(n._gsTweenID=r="t"+ai++)]||(k[r]={target:n,tweens:[]}),t&&(u=k[r].tweens,u[f=u.length]=t,i))while(--f>-1)u[f]===t&&u.splice(f,1);return k[r].tweens},si=function(n,t,i,u){var f=n.vars.onOverwrite,e,o;return f&&(e=f(n,t,i,u)),f=r.onOverwrite,f&&(o=f(n,t,i,u)),e!==!1&&o!==!1},bt=function(n,t,i,r,u){var o,s,f,y;if(r===1||r>=4){for(y=u.length,o=0;o<y;o++)if((f=u[o])!==t)f._gc||f._kill(null,n,t)&&(s=!0);else if(r===5)break;return s}var h=t._startTime+e,c=[],l=0,a=t._duration===0,v;for(o=u.length;--o>-1;)(f=u[o])===t||f._gc||f._paused||(f._timeline!==t._timeline?(v=v||hi(t,0,a),hi(f,v,a)===0&&(c[l++]=f)):f._startTime<=h&&f._startTime+f.totalDuration()/f._timeScale>h&&((a||!f._initted)&&h-f._startTime<=2e-10||(c[l++]=f)));for(o=l;--o>-1;)if(f=c[o],r===2&&f._kill(i,n,t)&&(s=!0),r!==2||!f._firstPT&&f._initted){if(r!==2&&!si(f,t))continue;f._enabled(!1,!1)&&(s=!0)}return s},hi=function(n,t,i){for(var u=n._timeline,f=u._timeScale,r=n._startTime;u._timeline;){if(r+=u._startTime,f*=u._timeScale,u._paused)return-100;u=u._timeline}return r/=f,r>t?r-t:i&&r===t||!n._initted&&r-t<2*e?e:(r+=n.totalDuration()/n._timeScale/f)>t+e?0:r-t-e};if(i._init=function(){var n=this.vars,s=this._overwrittenProps,c=this._duration,e=!!n.immediateRender,i=n.ease,o,h,t,u,f;if(n.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill());f={};for(u in n.startAt)f[u]=n.startAt[u];if(f.overwrite=!1,f.immediateRender=!0,f.lazy=e&&n.lazy!==!1,f.startAt=f.delay=null,this._startAt=r.to(this.target,0,f),e)if(this._time>0)this._startAt=null;else if(c!==0)return}else if(n.runBackwards&&c!==0)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{this._time!==0&&(e=!1);t={};for(u in n)wt[u]&&u!=="autoCSS"||(t[u]=n[u]);if(t.overwrite=0,t.data="isFromStart",t.lazy=e&&n.lazy!==!1,t.immediateRender=e,this._startAt=r.to(this.target,0,t),e){if(this._time===0)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=i=i?i instanceof a?i:typeof i=="function"?new a(i,n.easeParams):rt[i]||r.defaultEase:r.defaultEase,n.easeParams instanceof Array&&i.config&&(this._ease=i.config.apply(i,n.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length;--o>-1;)this._initProps(this._targets[o],this._propLookup[o]={},this._siblings[o],s?s[o]:null)&&(h=!0);else h=this._initProps(this.target,this._propLookup,this._siblings,s);if(h&&r._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||typeof this.target!="function"&&this._enabled(!1,!1)),n.runBackwards)for(t=this._firstPT;t;)t.s+=t.c,t.c=-t.c,t=t._next;this._onUpdate=n.onUpdate;this._initted=!0},i._initProps=function(t,i,r,u){var f,h,c,e,s,o;if(t==null)return!1;yt[t._gsTweenID]&&it();this.vars.css||t.style&&t!==n&&t.nodeType&&b.css&&this.vars.autoCSS!==!1&&li(this.vars,t);for(f in this.vars)if(o=this.vars[f],wt[f])o&&(o instanceof Array||o.push&&g(o))&&o.join("").indexOf("{self}")!==-1&&(this.vars[f]=o=this._swapSelfInParams(o,this));else if(b[f]&&(e=new b[f])._onInitTween(t,this.vars[f],this)){for(this._firstPT=s={_next:this._firstPT,t:e,p:"setRatio",s:0,c:1,f:1,n:f,pg:1,pr:e._priority},h=e._overwriteProps.length;--h>-1;)i[e._overwriteProps[h]]=this._firstPT;(e._priority||e._onInitAllProps)&&(c=!0);(e._onDisable||e._onEnable)&&(this._notifyPluginsOfEnabled=!0);s._next&&(s._next._prev=s)}else i[f]=fi.call(this,t,f,"get",o,f,0,null,this.vars.stringFilter);return u&&this._kill(u,t)?this._initProps(t,i,r,u):this._overwrite>1&&this._firstPT&&r.length>1&&bt(t,this,i,this._overwrite,r)?(this._kill(i,t),this._initProps(t,i,r,u)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(yt[t._gsTweenID]=!0),c)},i.render=function(n,t,i){var h=this._time,f=this._duration,o=this._rawPrevTime,c,s,u,y;if(n>=f-1e-7)this._totalTime=this._time=f,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(c=!0,s="onComplete",i=i||this._timeline.autoRemoveChildren),f===0&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(n=0),(o<0||n<=0&&n>=-1e-7||o===e&&this.data!=="isPause")&&o!==n&&(i=!0,o>e&&(s="onReverseComplete")),this._rawPrevTime=y=!t||n||o===n?n:e);else if(n<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(h!==0||f===0&&o>0)&&(s="onReverseComplete",c=this._reversed),n<0&&(this._active=!1,f===0&&(this._initted||!this.vars.lazy||i)&&(o>=0&&!(o===e&&this.data==="isPause")&&(i=!0),this._rawPrevTime=y=!t||n||o===n?n:e)),this._initted||(i=!0);else if(this._totalTime=this._time=n,this._easeType){var r=n/f,l=this._easeType,a=this._easePower;(l===1||l===3&&r>=.5)&&(r=1-r);l===3&&(r*=2);a===1?r*=r:a===2?r*=r*r:a===3?r*=r*r*r:a===4&&(r*=r*r*r*r);this.ratio=l===1?1-r:l===2?r:n/f<.5?r/2:1-r/2}else this.ratio=this._ease.getRatio(n/f);if(this._time!==h||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)){this._time=this._totalTime=h;this._rawPrevTime=o;v.push(this);this._lazy=[n,t];return}this._time&&!c?this.ratio=this._ease.getRatio(this._time/f):c&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(this._time===0?0:1))}}else return;for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==h&&n>=0&&(this._active=!0),h===0&&(this._startAt&&(n>=0?this._startAt.render(n,t,i):s||(s="_dummyGS")),this.vars.onStart&&(this._time!==0||f===0)&&(t||this._callback("onStart"))),u=this._firstPT;u;)u.f?u.t[u.p](u.c*this.ratio+u.s):u.t[u.p]=u.c*this.ratio+u.s,u=u._next;this._onUpdate&&(n<0&&this._startAt&&n!==-.0001&&this._startAt.render(n,t,i),t||(this._time!==h||c)&&this._callback("onUpdate"));s&&(!this._gc||i)&&(n<0&&this._startAt&&!this._onUpdate&&n!==-.0001&&this._startAt.render(n,t,i),c&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[s]&&this._callback(s),f===0&&this._rawPrevTime===e&&y!==e&&(this._rawPrevTime=0))},i._kill=function(n,t,i){if(n==="all"&&(n=null),n==null&&(t==null||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t=typeof t!="string"?t||this._targets||this.target:r.selector(t)||t;var v=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline,f,s,o,u,e,c,l,a,h;if((g(t)||vt(t))&&typeof t[0]!="number")for(f=t.length;--f>-1;)this._kill(n,t[f],i)&&(c=!0);else{if(this._targets){for(f=this._targets.length;--f>-1;)if(t===this._targets[f]){e=this._propLookup[f]||{};this._overwrittenProps=this._overwrittenProps||[];s=this._overwrittenProps[f]=n?this._overwrittenProps[f]||{}:"all";break}}else{if(t!==this.target)return!1;e=this._propLookup;s=this._overwrittenProps=n?this._overwrittenProps||{}:"all"}if(e){if(l=n||e,a=n!==s&&s!=="all"&&n!==e&&(typeof n!="object"||!n._tempKill),i&&(r.onOverwrite||this.vars.onOverwrite)){for(o in l)e[o]&&(h||(h=[]),h.push(o));if((h||!n)&&!si(this,i,t,h))return!1}for(o in l)(u=e[o])&&(v&&(u.f?u.t[u.p](u.s):u.t[u.p]=u.s,c=!0),u.pg&&u.t._kill(l)&&(c=!0),u.pg&&u.t._overwriteProps.length!==0||(u._prev?u._prev._next=u._next:u===this._firstPT&&(this._firstPT=u._next),u._next&&(u._next._prev=u._prev),u._next=u._prev=null),delete e[o]),a&&(s[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return c},i.invalidate=function(){return this._notifyPluginsOfEnabled&&r._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],o.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-e,this.render(-this._delay)),this},i._enabled=function(n,t){if(h||u.wake(),n&&this._gc){var f=this._targets,i;if(f)for(i=f.length;--i>-1;)this._siblings[i]=et(f[i],this,!0);else this._siblings=et(this.target,this,!0)}return(o.prototype._enabled.call(this,n,t),this._notifyPluginsOfEnabled&&this._firstPT)?r._onPluginEvent(n?"_onEnable":"_onDisable",this):!1},r.to=function(n,t,i){return new r(n,t,i)},r.from=function(n,t,i){return i.runBackwards=!0,i.immediateRender=i.immediateRender!=!1,new r(n,t,i)},r.fromTo=function(n,t,i,u){return u.startAt=i,u.immediateRender=u.immediateRender!=!1&&i.immediateRender!=!1,new r(n,t,u)},r.delayedCall=function(n,t,i,u,f){return new r(t,0,{delay:n,onComplete:t,onCompleteParams:i,callbackScope:u,onReverseComplete:t,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:f,overwrite:0})},r.set=function(n,t){return new r(n,0,t)},r.getTweensOf=function(n,t){if(n==null)return[];n=typeof n!="string"?n:r.selector(n)||n;var i,u,f,e;if((g(n)||vt(n))&&typeof n[0]!="number"){for(i=n.length,u=[];--i>-1;)u=u.concat(r.getTweensOf(n[i],t));for(i=u.length;--i>-1;)for(e=u[i],f=i;--f>-1;)e===u[f]&&u.splice(i,1)}else for(u=et(n).concat(),i=u.length;--i>-1;)(u[i]._gc||t&&!u[i].isActive())&&u.splice(i,1);return u},r.killTweensOf=r.killDelayedCallsTo=function(n,t,i){typeof t=="object"&&(i=t,t=!1);for(var u=r.getTweensOf(n,t),f=u.length;--f>-1;)u[f]._kill(i,n)},c=l("plugins.TweenPlugin",function(n,t){this._overwriteProps=(n||"").split(",");this._propName=this._overwriteProps[0];this._priority=t||0;this._super=c.prototype},!0),i=c.prototype,c.version="1.18.0",c.API=2,i._firstPT=null,i._addTween=fi,i.setRatio=ri,i._kill=function(n){var r=this._overwriteProps,t=this._firstPT,i;if(n[this._propName]!=null)this._overwriteProps=[];else for(i=r.length;--i>-1;)n[r[i]]!=null&&r.splice(i,1);while(t)n[t.n]!=null&&(t._next&&(t._next._prev=t._prev),t._prev?(t._prev._next=t._next,t._prev=null):this._firstPT===t&&(this._firstPT=t._next)),t=t._next;return!1},i._roundProps=function(n,t){for(var i=this._firstPT;i;)(n[this._propName]||i.n!=null&&n[i.n.split(this._propName+"_").join("")])&&(i.r=t),i=i._next},r._onPluginEvent=function(n,t){var i=t._firstPT,f,r,u,e,o;if(n==="_onInitAllProps"){while(i){for(o=i._next,r=u;r&&r.pr>i.pr;)r=r._next;(i._prev=r?r._prev:e)?i._prev._next=i:u=i;(i._next=r)?r._prev=i:e=i;i=o}i=t._firstPT=u}while(i)i.pg&&typeof i.t[n]=="function"&&i.t[n]()&&(f=!0),i=i._next;return f},c.activate=function(n){for(var t=n.length;--t>-1;)n[t].API===c.API&&(b[(new n[t])._propName]=n[t]);return!0},st.plugin=function(n){if(!n||!n.propName||!n.init||!n.API)throw"illegal plugin definition.";var i=n.propName,e=n.priority||0,o=n.overwriteProps,u={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},t=l("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){c.call(this,i,e);this._overwriteProps=o||[]},n.global===!0),f=t.prototype=new c(i),r;f.constructor=t;t.API=n.API;for(r in u)typeof n[r]=="function"&&(f[u[r]]=n[r]);return t.version=n.version,c.activate([t]),t},s=n._gsQueue,s){for(f=0;f<s.length;f++)s[f]();for(i in nt)nt[i].func||n.console.log("GSAP encountered missing dependency: com.greensock."+i)}h=!1}})(typeof module!="undefined"&&module.exports&&typeof global!="undefined"?global:this||window,"TweenLite");0;
(function(n){"use strict";var r=n.fn.animate,a=n.fn.stop,o=!0,t,u,s,h=function(n){var t={};for(var i in n)t[i]=n[i];return t},c={overwrite:1,delay:1,useFrames:1,runBackwards:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,autoCSS:1},l=",scrollTop,scrollLeft,show,hide,toggle,",f=l,v=function(n,t){for(var i in c)c[i]&&n[i]!==undefined&&(t[i]=n[i])},y=function(n){return function(t){return n.getRatio(t)}},i={},e=function(){var r=window.GreenSockGlobals||window,f,o,h;if(t=r.TweenMax||r.TweenLite,t&&(f=(t.version+".0.0").split("."),o=!(Number(f[0])>0&&Number(f[1])>7),r=r.com.greensock,u=r.plugins.CSSPlugin,i=r.easing.Ease.map||{}),!t||!u||o){t=null;!s&&window.console&&(window.console.log("The jquery.gsap.js plugin requires the TweenMax (or at least TweenLite and CSSPlugin) JavaScript file(s)."+(o?" Version "+f.join(".")+" is too old.":"")),s=!0);return}if(n.easing){for(h in i)n.easing[h]=y(i[h]);e=!1}};n.fn.animate=function(s,c,l,a){if((s=s||{},e&&(e(),!t||!u))||!o||s.skipGSAP===!0||typeof c=="object"&&typeof c.step=="function")return r.call(this,s,c,l,a);var w=n.speed(c,l,a),b={ease:i[w.easing]||(w.easing===!1?i.linear:i.swing)},d=this,g=typeof c=="object"?c.specialEasing:null,p,y,nt,k;for(y in s){if(p=s[y],p instanceof Array&&i[p[1]]&&(g=g||{},g[y]=p[1],p=p[0]),p==="show"||p==="hide"||p==="toggle"||f.indexOf(y)!==-1&&f.indexOf(","+y+",")!==-1)return r.call(this,s,c,l,a);b[y.indexOf("-")===-1?y:n.camelCase(y)]=p}if(g){b=h(b);k=[];for(y in g)p=k[k.length]={},v(b,p),p.ease=i[g[y]]||b.ease,y.indexOf("-")!==-1&&(y=n.camelCase(y)),p[y]=b[y],delete b[y];k.length===0&&(k=null)}return nt=function(i){var u=h(b),r;if(k)for(r=k.length;--r>-1;)t.to(this,n.fx.off?0:w.duration/1e3,k[r]);u.onComplete=function(){i?i():w.old&&n(this).each(w.old)};t.to(this,n.fx.off?0:w.duration/1e3,u)},w.queue!==!1?(d.queue(w.queue,nt),typeof w.old=="function"&&n(d[d.length-1]).queue(w.queue,function(n){w.old.call(d);n()})):nt.call(d),d};n.fn.stop=function(n,i){if(a.call(this,n,i),t){if(i)for(var r=t.getTweensOf(this),u=r.length,f;--u>-1;)f=r[u].totalTime()/r[u].totalDuration(),f>0&&f<1&&r[u].seek(r[u].totalDuration());t.killTweensOf(this)}return this};n.gsap={enabled:function(n){o=n},version:"0.1.12",legacyProps:function(n){f=l+n+","}}})(jQuery);0;
(function(n,t,i){function w(t,i){var u,f;if(n.isArray(t)){for(u=t.length-1;u>=0;u--)f=t[u],n.type(f)==="string"&&r.transports[f]||(i.log("Invalid transport: "+f+", removing it from the transports list."),t.splice(u,1));t.length===0&&(i.log("No transports remain within the specified transport array."),t=null)}else if(r.transports[t]||t==="auto"){if(t==="auto"&&r._.ieVersion<=8)return["longPolling"]}else i.log("Invalid transport: "+t.toString()+"."),t=null;return t}function b(n){return n==="http:"?80:n==="https:"?443:void 0}function a(n,t){return t.match(/:\d+$/)?t:t+":"+b(n)}function k(t,i){var u=this,r=[];u.tryBuffer=function(i){return t.state===n.signalR.connectionState.connecting?(r.push(i),!0):!1};u.drain=function(){if(t.state===n.signalR.connectionState.connected)while(r.length>0)i(r.shift())};u.clear=function(){r=[]}}var f={nojQuery:"jQuery was not found. Please ensure jQuery is referenced before the SignalR client JavaScript file.",noTransportOnInit:"No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.",errorOnNegotiate:"Error during negotiation request.",stoppedWhileLoading:"The connection was stopped during page load.",stoppedWhileNegotiating:"The connection was stopped during the negotiate request.",errorParsingNegotiateResponse:"Error parsing negotiate response.",errorDuringStartRequest:"Error during start request. Stopping the connection.",stoppedDuringStartRequest:"The connection was stopped during the start request.",errorParsingStartResponse:"Error parsing start response: '{0}'. Stopping the connection.",invalidStartResponse:"Invalid start response: '{0}'. Stopping the connection.",protocolIncompatible:"You are using a version of the client that isn't compatible with the server. Client version {0}, server version {1}.",sendFailed:"Send failed.",parseFailed:"Failed at parsing response: {0}",longPollFailed:"Long polling request failed.",eventSourceFailedToConnect:"EventSource failed to connect.",eventSourceError:"Error raised by EventSource",webSocketClosed:"WebSocket closed.",pingServerFailedInvalidResponse:"Invalid ping response when pinging server: '{0}'.",pingServerFailed:"Failed to ping server.",pingServerFailedStatusCode:"Failed to ping server.  Server responded with status code {0}, stopping the connection.",pingServerFailedParse:"Failed to parse ping server response, stopping the connection.",noConnectionTransport:"Connection is in an invalid state, there is no transport active.",webSocketsInvalidState:"The Web Socket transport is in an invalid state, transitioning into reconnecting.",reconnectTimeout:"Couldn't reconnect within the configured timeout of {0} ms, disconnecting.",reconnectWindowTimeout:"The client has been inactive since {0} and it has exceeded the inactivity timeout of {1} ms. Stopping the connection."};if(typeof n!="function")throw new Error(f.nojQuery);var r,h,s=t.document.readyState==="complete",e=n(t),c="__Negotiate Aborted__",u={onStart:"onStart",onStarting:"onStarting",onReceived:"onReceived",onError:"onError",onConnectionSlow:"onConnectionSlow",onReconnecting:"onReconnecting",onReconnect:"onReconnect",onStateChanged:"onStateChanged",onDisconnect:"onDisconnect"},v=function(n,i){if(i!==!1){var r;typeof t.console!="undefined"&&(r="["+(new Date).toTimeString()+"] SignalR: "+n,t.console.debug?t.console.debug(r):t.console.log&&t.console.log(r))}},o=function(t,i,r){return i===t.state?(t.state=r,n(t).triggerHandler(u.onStateChanged,[{oldState:i,newState:r}]),!0):!1},y=function(n){return n.state===r.connectionState.disconnected},l=function(n){return n._.keepAliveData.activated&&n.transport.supportsKeepAlive(n)},p=function(i){var f,e;i._.configuredStopReconnectingTimeout||(e=function(t){var i=r._.format(r.resources.reconnectTimeout,t.disconnectTimeout);t.log(i);n(t).triggerHandler(u.onError,[r._.error(i,"TimeoutException")]);t.stop(!1,!1)},i.reconnecting(function(){var n=this;n.state===r.connectionState.reconnecting&&(f=t.setTimeout(function(){e(n)},n.disconnectTimeout))}),i.stateChanged(function(n){n.oldState===r.connectionState.reconnecting&&t.clearTimeout(f)}),i._.configuredStopReconnectingTimeout=!0)};r=function(n,t,i){return new r.fn.init(n,t,i)};r._={defaultContentType:"application/x-www-form-urlencoded; charset=UTF-8",ieVersion:function(){var i,n;return t.navigator.appName==="Microsoft Internet Explorer"&&(n=/MSIE ([0-9]+\.[0-9]+)/.exec(t.navigator.userAgent),n&&(i=t.parseFloat(n[1]))),i}(),error:function(n,t,i){var r=new Error(n);return r.source=t,typeof i!="undefined"&&(r.context=i),r},transportError:function(n,t,r,u){var f=this.error(n,r,u);return f.transport=t?t.name:i,f},format:function(){for(var t=arguments[0],n=0;n<arguments.length-1;n++)t=t.replace("{"+n+"}",arguments[n+1]);return t},firefoxMajorVersion:function(n){var t=n.match(/Firefox\/(\d+)/);return!t||!t.length||t.length<2?0:parseInt(t[1],10)},configurePingInterval:function(i){var f=i._.config,e=function(t){n(i).triggerHandler(u.onError,[t])};f&&!i._.pingIntervalId&&f.pingInterval&&(i._.pingIntervalId=t.setInterval(function(){r.transports._logic.pingServer(i).fail(e)},f.pingInterval))}};r.events=u;r.resources=f;r.ajaxDefaults={processData:!0,timeout:null,async:!0,global:!1,cache:!1};r.changeState=o;r.isDisconnecting=y;r.connectionState={connecting:0,connected:1,reconnecting:2,disconnected:4};r.hub={start:function(){throw new Error("SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='/signalr/js'><\/script>.");}};e.load(function(){s=!0});r.fn=r.prototype={init:function(t,i,r){var f=n(this);this.url=t;this.qs=i;this.lastError=null;this._={keepAliveData:{},connectingMessageBuffer:new k(this,function(n){f.triggerHandler(u.onReceived,[n])}),lastMessageAt:(new Date).getTime(),lastActiveAt:(new Date).getTime(),beatInterval:5e3,beatHandle:null,totalTransportConnectTimeout:0};typeof r=="boolean"&&(this.logging=r)},_parseResponse:function(n){var t=this;return n?typeof n=="string"?t.json.parse(n):n:n},_originalJson:t.JSON,json:t.JSON,isCrossDomain:function(i,r){var u;return(i=n.trim(i),r=r||t.location,i.indexOf("http")!==0)?!1:(u=t.document.createElement("a"),u.href=i,u.protocol+a(u.protocol,u.host)!==r.protocol+a(r.protocol,r.host))},ajaxDataType:"text",contentType:"application/json; charset=UTF-8",logging:!1,state:r.connectionState.disconnected,clientProtocol:"1.5",reconnectDelay:2e3,transportConnectTimeout:0,disconnectTimeout:3e4,reconnectWindow:3e4,keepAliveWarnAt:2/3,start:function(i,h){var a=this,v={pingInterval:3e5,waitForPageLoad:!0,transport:"auto",jsonp:!1},d,y=a._deferral||n.Deferred(),b=t.document.createElement("a"),k,g;if(a.lastError=null,a._deferral=y,!a.json)throw new Error("SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.");if(n.type(i)==="function"?h=i:n.type(i)==="object"&&(n.extend(v,i),n.type(v.callback)==="function"&&(h=v.callback)),v.transport=w(v.transport,a),!v.transport)throw new Error("SignalR: Invalid transport(s) specified, aborting start.");return(a._.config=v,!s&&v.waitForPageLoad===!0)?(a._.deferredStartHandler=function(){a.start(i,h)},e.bind("load",a._.deferredStartHandler),y.promise()):a.state===r.connectionState.connecting?y.promise():o(a,r.connectionState.disconnected,r.connectionState.connecting)===!1?(y.resolve(a),y.promise()):(p(a),b.href=a.url,b.protocol&&b.protocol!==":"?(a.protocol=b.protocol,a.host=b.host):(a.protocol=t.document.location.protocol,a.host=b.host||t.document.location.host),a.baseUrl=a.protocol+"//"+a.host,a.wsProtocol=a.protocol==="https:"?"wss://":"ws://",v.transport==="auto"&&v.jsonp===!0&&(v.transport="longPolling"),a.url.indexOf("//")===0&&(a.url=t.location.protocol+a.url,a.log("Protocol relative URL detected, normalizing it to '"+a.url+"'.")),this.isCrossDomain(a.url)&&(a.log("Auto detected cross domain url."),v.transport==="auto"&&(v.transport=["webSockets","serverSentEvents","longPolling"]),typeof v.withCredentials=="undefined"&&(v.withCredentials=!0),v.jsonp||(v.jsonp=!n.support.cors,v.jsonp&&a.log("Using jsonp because this browser doesn't support CORS.")),a.contentType=r._.defaultContentType),a.withCredentials=v.withCredentials,a.ajaxDataType=v.jsonp?"jsonp":"text",n(a).bind(u.onStart,function(){n.type(h)==="function"&&h.call(a);y.resolve(a)}),a._.initHandler=r.transports._logic.initHandler(a),d=function(i,s){var c=r._.error(f.noTransportOnInit);if(s=s||0,s>=i.length){s===0?a.log("No transports supported by the server were selected."):s===1?a.log("No fallback transports were selected."):a.log("Fallback transports exhausted.");n(a).triggerHandler(u.onError,[c]);y.reject(c);a.stop();return}if(a.state!==r.connectionState.disconnected){var p=i[s],h=r.transports[p],v=function(){d(i,s+1)};a.transport=h;try{a._.initHandler.start(h,function(){var i=r._.firefoxMajorVersion(t.navigator.userAgent)>=11,f=!!a.withCredentials&&i;a.log("The start request succeeded. Transitioning to the connected state.");l(a)&&r.transports._logic.monitorKeepAlive(a);r.transports._logic.startHeartbeat(a);r._.configurePingInterval(a);o(a,r.connectionState.connecting,r.connectionState.connected)||a.log("WARNING! The connection was not in the connecting state.");a._.connectingMessageBuffer.drain();n(a).triggerHandler(u.onStart);e.bind("unload",function(){a.log("Window unloading, stopping the connection.");a.stop(f)});i&&e.bind("beforeunload",function(){t.setTimeout(function(){a.stop(f)},0)})},v)}catch(w){a.log(h.name+" transport threw '"+w.message+"' when attempting to start.");v()}}},k=a.url+"/negotiate",g=function(t,i){var e=r._.error(f.errorOnNegotiate,t,i._.negotiateRequest);n(i).triggerHandler(u.onError,e);y.reject(e);i.stop()},n(a).triggerHandler(u.onStarting),k=r.transports._logic.prepareQueryString(a,k),a.log("Negotiating with '"+k+"'."),a._.negotiateRequest=r.transports._logic.ajax(a,{url:k,error:function(n,t){t!==c?g(n,a):y.reject(r._.error(f.stoppedWhileNegotiating,null,a._.negotiateRequest))},success:function(t){var i,e,h,o=[],s=[];try{i=a._parseResponse(t)}catch(c){g(r._.error(f.errorParsingNegotiateResponse,c),a);return}if(e=a._.keepAliveData,a.appRelativeUrl=i.Url,a.id=i.ConnectionId,a.token=i.ConnectionToken,a.webSocketServerUrl=i.WebSocketServerUrl,a._.pollTimeout=i.ConnectionTimeout*1e3+1e4,a.disconnectTimeout=i.DisconnectTimeout*1e3,a._.totalTransportConnectTimeout=a.transportConnectTimeout+i.TransportConnectTimeout*1e3,i.KeepAliveTimeout?(e.activated=!0,e.timeout=i.KeepAliveTimeout*1e3,e.timeoutWarning=e.timeout*a.keepAliveWarnAt,a._.beatInterval=(e.timeout-e.timeoutWarning)/3):e.activated=!1,a.reconnectWindow=a.disconnectTimeout+(e.timeout||0),!i.ProtocolVersion||i.ProtocolVersion!==a.clientProtocol){h=r._.error(r._.format(f.protocolIncompatible,a.clientProtocol,i.ProtocolVersion));n(a).triggerHandler(u.onError,[h]);y.reject(h);return}n.each(r.transports,function(n){if(n.indexOf("_")===0||n==="webSockets"&&!i.TryWebSockets)return!0;s.push(n)});n.isArray(v.transport)?n.each(v.transport,function(t,i){n.inArray(i,s)>=0&&o.push(i)}):v.transport==="auto"?o=s:n.inArray(v.transport,s)>=0&&o.push(v.transport);d(o)}}),y.promise())},starting:function(t){var i=this;return n(i).bind(u.onStarting,function(){t.call(i)}),i},send:function(n){var t=this;if(t.state===r.connectionState.disconnected)throw new Error("SignalR: Connection must be started before data can be sent. Call .start() before .send()");if(t.state===r.connectionState.connecting)throw new Error("SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started.");return t.transport.send(t,n),t},received:function(t){var i=this;return n(i).bind(u.onReceived,function(n,r){t.call(i,r)}),i},stateChanged:function(t){var i=this;return n(i).bind(u.onStateChanged,function(n,r){t.call(i,r)}),i},error:function(t){var i=this;return n(i).bind(u.onError,function(n,r,u){i.lastError=r;t.call(i,r,u)}),i},disconnected:function(t){var i=this;return n(i).bind(u.onDisconnect,function(){t.call(i)}),i},connectionSlow:function(t){var i=this;return n(i).bind(u.onConnectionSlow,function(){t.call(i)}),i},reconnecting:function(t){var i=this;return n(i).bind(u.onReconnecting,function(){t.call(i)}),i},reconnected:function(t){var i=this;return n(i).bind(u.onReconnect,function(){t.call(i)}),i},stop:function(i,h){var a=this,v=a._deferral;if(a._.deferredStartHandler&&e.unbind("load",a._.deferredStartHandler),delete a._.config,delete a._.deferredStartHandler,!s&&(!a._.config||a._.config.waitForPageLoad===!0)){a.log("Stopping connection prior to negotiate.");v&&v.reject(r._.error(f.stoppedWhileLoading));return}if(a.state!==r.connectionState.disconnected)return a.log("Stopping connection."),o(a,a.state,r.connectionState.disconnected),t.clearTimeout(a._.beatHandle),t.clearInterval(a._.pingIntervalId),a.transport&&(a.transport.stop(a),h!==!1&&a.transport.abort(a,i),l(a)&&r.transports._logic.stopMonitoringKeepAlive(a),a.transport=null),a._.negotiateRequest&&(a._.negotiateRequest.abort(c),delete a._.negotiateRequest),a._.initHandler&&a._.initHandler.stop(),n(a).triggerHandler(u.onDisconnect),delete a._deferral,delete a.messageId,delete a.groupsToken,delete a.id,delete a._.pingIntervalId,delete a._.lastMessageAt,delete a._.lastActiveAt,a._.connectingMessageBuffer.clear(),a},log:function(n){v(n,this.logging)}};r.fn.init.prototype=r.fn;r.noConflict=function(){return n.connection===r&&(n.connection=h),r};n.connection&&(h=n.connection);n.connection=n.signalR=r})(window.jQuery,window),function(n,t,i){function s(n){n._.keepAliveData.monitoring&&l(n);u.markActive(n)&&(n._.beatHandle=t.setTimeout(function(){s(n)},n._.beatInterval))}function l(t){var i=t._.keepAliveData,u;t.state===r.connectionState.connected&&(u=(new Date).getTime()-t._.lastMessageAt,u>=i.timeout?(t.log("Keep alive timed out.  Notifying transport that connection has been lost."),t.transport.lostConnection(t)):u>=i.timeoutWarning?i.userNotified||(t.log("Keep alive has been missed, connection may be dead/slow."),n(t).triggerHandler(f.onConnectionSlow),i.userNotified=!0):i.userNotified=!1)}function e(n,t){var i=n.url+t;return n.transport&&(i+="?transport="+n.transport.name),u.prepareQueryString(n,i)}function h(n){this.connection=n;this.startRequested=!1;this.startCompleted=!1;this.connectionStopped=!1}var r=n.signalR,f=n.signalR.events,c=n.signalR.changeState,o="__Start Aborted__",u;r.transports={};h.prototype={start:function(n,r,u){var f=this,e=f.connection,o=!1;if(f.startRequested||f.connectionStopped){e.log("WARNING! "+n.name+" transport cannot be started. Initialization ongoing or completed.");return}e.log(n.name+" transport starting.");f.transportTimeoutHandle=t.setTimeout(function(){o||(o=!0,e.log(n.name+" transport timed out when trying to connect."),f.transportFailed(n,i,u))},e._.totalTransportConnectTimeout);n.start(e,function(){o||f.initReceived(n,r)},function(t){return o||(o=!0,f.transportFailed(n,t,u)),!f.startCompleted||f.connectionStopped})},stop:function(){this.connectionStopped=!0;t.clearTimeout(this.transportTimeoutHandle);r.transports._logic.tryAbortStartRequest(this.connection)},initReceived:function(n,i){var u=this,f=u.connection;if(u.startRequested){f.log("WARNING! The client received multiple init messages.");return}u.connectionStopped||(u.startRequested=!0,t.clearTimeout(u.transportTimeoutHandle),f.log(n.name+" transport connected. Initiating start request."),r.transports._logic.ajaxStart(f,function(){u.startCompleted=!0;i()}))},transportFailed:function(i,u,e){var o=this.connection,h=o._deferral,s;this.connectionStopped||(t.clearTimeout(this.transportTimeoutHandle),this.startRequested?this.startCompleted||(s=r._.error(r.resources.errorDuringStartRequest,u),o.log(i.name+" transport failed during the start request. Stopping the connection."),n(o).triggerHandler(f.onError,[s]),h&&h.reject(s),o.stop()):(i.stop(o),o.log(i.name+" transport failed to connect. Attempting to fall back."),e()))}};u=r.transports._logic={ajax:function(t,i){return n.ajax(n.extend(!0,{},n.signalR.ajaxDefaults,{type:"GET",data:{},xhrFields:{withCredentials:t.withCredentials},contentType:t.contentType,dataType:t.ajaxDataType},i))},pingServer:function(t){var e,f,i=n.Deferred();return t.transport?(e=t.url+"/ping",e=u.addQs(e,t.qs),f=u.ajax(t,{url:e,success:function(n){var u;try{u=t._parseResponse(n)}catch(e){i.reject(r._.transportError(r.resources.pingServerFailedParse,t.transport,e,f));t.stop();return}u.Response==="pong"?i.resolve():i.reject(r._.transportError(r._.format(r.resources.pingServerFailedInvalidResponse,n),t.transport,null,f))},error:function(n){n.status===401||n.status===403?(i.reject(r._.transportError(r._.format(r.resources.pingServerFailedStatusCode,n.status),t.transport,n,f)),t.stop()):i.reject(r._.transportError(r.resources.pingServerFailed,t.transport,n,f))}})):i.reject(r._.transportError(r.resources.noConnectionTransport,t.transport)),i.promise()},prepareQueryString:function(n,i){var r;return r=u.addQs(i,"clientProtocol="+n.clientProtocol),r=u.addQs(r,n.qs),n.token&&(r+="&connectionToken="+t.encodeURIComponent(n.token)),n.data&&(r+="&connectionData="+t.encodeURIComponent(n.data)),r},addQs:function(t,i){var r=t.indexOf("?")!==-1?"&":"?",u;if(!i)return t;if(typeof i=="object")return t+r+n.param(i);if(typeof i=="string")return u=i.charAt(0),(u==="?"||u==="&")&&(r=""),t+r+i;throw new Error("Query string property must be either a string or object.");},getUrl:function(n,i,r,f,e){var h=i==="webSockets"?"":n.baseUrl,o=h+n.appRelativeUrl,s="transport="+i;return!e&&n.groupsToken&&(s+="&groupsToken="+t.encodeURIComponent(n.groupsToken)),r?(o+=f?"/poll":"/reconnect",!e&&n.messageId&&(s+="&messageId="+t.encodeURIComponent(n.messageId))):o+="/connect",o+="?"+s,o=u.prepareQueryString(n,o),e||(o+="&tid="+Math.floor(Math.random()*11)),o},maximizePersistentResponse:function(n){return{MessageId:n.C,Messages:n.M,Initialized:typeof n.S!="undefined"?!0:!1,ShouldReconnect:typeof n.T!="undefined"?!0:!1,LongPollDelay:n.L,GroupsToken:n.G}},updateGroups:function(n,t){t&&(n.groupsToken=t)},stringifySend:function(n,t){return typeof t=="string"||typeof t=="undefined"||t===null?t:n.json.stringify(t)},ajaxSend:function(t,i){var h=u.stringifySend(t,i),c=e(t,"/send"),o,s=function(t,u){n(u).triggerHandler(f.onError,[r._.transportError(r.resources.sendFailed,u.transport,t,o),i])};return o=u.ajax(t,{url:c,type:t.ajaxDataType==="jsonp"?"GET":"POST",contentType:r._.defaultContentType,data:{data:h},success:function(n){var i;if(n){try{i=t._parseResponse(n)}catch(r){s(r,t);t.stop();return}u.triggerReceived(t,i)}},error:function(n,i){i!=="abort"&&i!=="parsererror"&&s(n,t)}})},ajaxAbort:function(n,t){if(typeof n.transport!="undefined"){t=typeof t=="undefined"?!0:t;var i=e(n,"/abort");u.ajax(n,{url:i,async:t,timeout:1e3,type:"POST"});n.log("Fired ajax abort async = "+t+".")}},ajaxStart:function(t,i){var h=function(n){var i=t._deferral;i&&i.reject(n)},s=function(i){t.log("The start request failed. Stopping the connection.");n(t).triggerHandler(f.onError,[i]);h(i);t.stop()};t._.startRequest=u.ajax(t,{url:e(t,"/start"),success:function(n,u,f){var e;try{e=t._parseResponse(n)}catch(o){s(r._.error(r._.format(r.resources.errorParsingStartResponse,n),o,f));return}e.Response==="started"?i():s(r._.error(r._.format(r.resources.invalidStartResponse,n),null,f))},error:function(n,i,u){i!==o?s(r._.error(r.resources.errorDuringStartRequest,u,n)):(t.log("The start request aborted because connection.stop() was called."),h(r._.error(r.resources.stoppedDuringStartRequest,null,n)))}})},tryAbortStartRequest:function(n){n._.startRequest&&(n._.startRequest.abort(o),delete n._.startRequest)},tryInitialize:function(n,t){n.Initialized&&t()},triggerReceived:function(t,i){t._.connectingMessageBuffer.tryBuffer(i)||n(t).triggerHandler(f.onReceived,[i])},processMessages:function(t,i,r){var f;u.markLastMessage(t);i&&(f=u.maximizePersistentResponse(i),u.updateGroups(t,f.GroupsToken),f.MessageId&&(t.messageId=f.MessageId),f.Messages&&(n.each(f.Messages,function(n,i){u.triggerReceived(t,i)}),u.tryInitialize(f,r)))},monitorKeepAlive:function(t){var i=t._.keepAliveData;i.monitoring?t.log("Tried to monitor keep alive but it's already being monitored."):(i.monitoring=!0,u.markLastMessage(t),t._.keepAliveData.reconnectKeepAliveUpdate=function(){u.markLastMessage(t)},n(t).bind(f.onReconnect,t._.keepAliveData.reconnectKeepAliveUpdate),t.log("Now monitoring keep alive with a warning timeout of "+i.timeoutWarning+", keep alive timeout of "+i.timeout+" and disconnecting timeout of "+t.disconnectTimeout))},stopMonitoringKeepAlive:function(t){var i=t._.keepAliveData;i.monitoring&&(i.monitoring=!1,n(t).unbind(f.onReconnect,t._.keepAliveData.reconnectKeepAliveUpdate),t._.keepAliveData={},t.log("Stopping the monitoring of the keep alive."))},startHeartbeat:function(n){n._.lastActiveAt=(new Date).getTime();s(n)},markLastMessage:function(n){n._.lastMessageAt=(new Date).getTime()},markActive:function(n){return u.verifyLastActive(n)?(n._.lastActiveAt=(new Date).getTime(),!0):!1},isConnectedOrReconnecting:function(n){return n.state===r.connectionState.connected||n.state===r.connectionState.reconnecting},ensureReconnectingState:function(t){return c(t,r.connectionState.connected,r.connectionState.reconnecting)===!0&&n(t).triggerHandler(f.onReconnecting),t.state===r.connectionState.reconnecting},clearReconnectTimeout:function(n){n&&n._.reconnectTimeout&&(t.clearTimeout(n._.reconnectTimeout),delete n._.reconnectTimeout)},verifyLastActive:function(t){if((new Date).getTime()-t._.lastActiveAt>=t.reconnectWindow){var i=r._.format(r.resources.reconnectWindowTimeout,new Date(t._.lastActiveAt),t.reconnectWindow);return t.log(i),n(t).triggerHandler(f.onError,[r._.error(i,"TimeoutException")]),t.stop(!1,!1),!1}return!0},reconnect:function(n,i){var f=r.transports[i];if(u.isConnectedOrReconnecting(n)&&!n._.reconnectTimeout){if(!u.verifyLastActive(n))return;n._.reconnectTimeout=t.setTimeout(function(){u.verifyLastActive(n)&&(f.stop(n),u.ensureReconnectingState(n)&&(n.log(i+" reconnecting."),f.start(n)))},n.reconnectDelay)}},handleParseFailure:function(t,i,u,e,o){var s=r._.transportError(r._.format(r.resources.parseFailed,i),t.transport,u,o);e&&e(s)?t.log("Failed to parse server response while attempting to connect."):(n(t).triggerHandler(f.onError,[s]),t.stop())},initHandler:function(n){return new h(n)},foreverFrame:{count:0,connections:{}}}}(window.jQuery,window),function(n,t){var r=n.signalR,u=n.signalR.events,f=n.signalR.changeState,i=r.transports._logic;r.transports.webSockets={name:"webSockets",supportsKeepAlive:function(){return!0},send:function(t,f){var e=i.stringifySend(t,f);try{t.socket.send(e)}catch(o){n(t).triggerHandler(u.onError,[r._.transportError(r.resources.webSocketsInvalidState,t.transport,o,t.socket),f])}},start:function(e,o,s){var h,c=!1,l=this,a=!o,v=n(e);if(!t.WebSocket){s();return}e.socket||(h=e.webSocketServerUrl?e.webSocketServerUrl:e.wsProtocol+e.host,h+=i.getUrl(e,this.name,a),e.log("Connecting to websocket endpoint '"+h+"'."),e.socket=new t.WebSocket(h),e.socket.onopen=function(){c=!0;e.log("Websocket opened.");i.clearReconnectTimeout(e);f(e,r.connectionState.reconnecting,r.connectionState.connected)===!0&&v.triggerHandler(u.onReconnect)},e.socket.onclose=function(t){var i;this===e.socket&&(c&&typeof t.wasClean!="undefined"&&t.wasClean===!1?(i=r._.transportError(r.resources.webSocketClosed,e.transport,t),e.log("Unclean disconnect from websocket: "+(t.reason||"[no reason given]."))):e.log("Websocket closed."),s&&s(i)||(i&&n(e).triggerHandler(u.onError,[i]),l.reconnect(e)))},e.socket.onmessage=function(t){var r;try{r=e._parseResponse(t.data)}catch(u){i.handleParseFailure(e,t.data,u,s,t);return}r&&(n.isEmptyObject(r)||r.M?i.processMessages(e,r,o):i.triggerReceived(e,r))})},reconnect:function(n){i.reconnect(n,this.name)},lostConnection:function(n){this.reconnect(n)},stop:function(n){i.clearReconnectTimeout(n);n.socket&&(n.log("Closing the Websocket."),n.socket.close(),n.socket=null)},abort:function(n,t){i.ajaxAbort(n,t)}}}(window.jQuery,window),function(n,t){var i=n.signalR,u=n.signalR.events,e=n.signalR.changeState,r=i.transports._logic,f=function(n){t.clearTimeout(n._.reconnectAttemptTimeoutHandle);delete n._.reconnectAttemptTimeoutHandle};i.transports.serverSentEvents={name:"serverSentEvents",supportsKeepAlive:function(){return!0},timeOut:3e3,start:function(o,s,h){var c=this,l=!1,a=n(o),v=!s,y;if(o.eventSource&&(o.log("The connection already has an event source. Stopping it."),o.stop()),!t.EventSource){h&&(o.log("This browser doesn't support SSE."),h());return}y=r.getUrl(o,this.name,v);try{o.log("Attempting to connect to SSE endpoint '"+y+"'.");o.eventSource=new t.EventSource(y,{withCredentials:o.withCredentials})}catch(p){o.log("EventSource failed trying to connect with error "+p.Message+".");h?h():(a.triggerHandler(u.onError,[i._.transportError(i.resources.eventSourceFailedToConnect,o.transport,p)]),v&&c.reconnect(o));return}v&&(o._.reconnectAttemptTimeoutHandle=t.setTimeout(function(){l===!1&&o.eventSource.readyState!==t.EventSource.OPEN&&c.reconnect(o)},c.timeOut));o.eventSource.addEventListener("open",function(){o.log("EventSource connected.");f(o);r.clearReconnectTimeout(o);l===!1&&(l=!0,e(o,i.connectionState.reconnecting,i.connectionState.connected)===!0&&a.triggerHandler(u.onReconnect))},!1);o.eventSource.addEventListener("message",function(n){var t;if(n.data!=="initialized"){try{t=o._parseResponse(n.data)}catch(i){r.handleParseFailure(o,n.data,i,h,n);return}r.processMessages(o,t,s)}},!1);o.eventSource.addEventListener("error",function(n){var r=i._.transportError(i.resources.eventSourceError,o.transport,n);this===o.eventSource&&(h&&h(r)||(o.log("EventSource readyState: "+o.eventSource.readyState+"."),n.eventPhase===t.EventSource.CLOSED?(o.log("EventSource reconnecting due to the server connection ending."),c.reconnect(o)):(o.log("EventSource error."),a.triggerHandler(u.onError,[r]))))},!1)},reconnect:function(n){r.reconnect(n,this.name)},lostConnection:function(n){this.reconnect(n)},send:function(n,t){r.ajaxSend(n,t)},stop:function(n){f(n);r.clearReconnectTimeout(n);n&&n.eventSource&&(n.log("EventSource calling close()."),n.eventSource.close(),n.eventSource=null,delete n.eventSource)},abort:function(n,t){r.ajaxAbort(n,t)}}}(window.jQuery,window),function(n,t){var r=n.signalR,e=n.signalR.events,o=n.signalR.changeState,i=r.transports._logic,u=function(){var n=t.document.createElement("iframe");return n.setAttribute("style","position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;"),n},f=function(){var i=null,f=1e3,n=0;return{prevent:function(){r._.ieVersion<=8&&(n===0&&(i=t.setInterval(function(){var n=u();t.document.body.appendChild(n);t.document.body.removeChild(n);n=null},f)),n++)},cancel:function(){n===1&&t.clearInterval(i);n>0&&n--}}}();r.transports.foreverFrame={name:"foreverFrame",supportsKeepAlive:function(){return!0},iframeClearThreshold:50,start:function(n,r,e){var l=this,s=i.foreverFrame.count+=1,h,o=u(),c=function(){n.log("Forever frame iframe finished loading and is no longer receiving messages.");e&&e()||l.reconnect(n)};if(t.EventSource){e&&(n.log("Forever Frame is not supported by SignalR on browsers with SSE support."),e());return}o.setAttribute("data-signalr-connection-id",n.id);f.prevent();h=i.getUrl(n,this.name);h+="&frameId="+s;t.document.documentElement.appendChild(o);n.log("Binding to iframe's load event.");o.addEventListener?o.addEventListener("load",c,!1):o.attachEvent&&o.attachEvent("onload",c);o.src=h;i.foreverFrame.connections[s]=n;n.frame=o;n.frameId=s;r&&(n.onSuccess=function(){n.log("Iframe transport started.");r()})},reconnect:function(n){var r=this;i.isConnectedOrReconnecting(n)&&i.verifyLastActive(n)&&t.setTimeout(function(){if(i.verifyLastActive(n)&&n.frame&&i.ensureReconnectingState(n)){var u=n.frame,t=i.getUrl(n,r.name,!0)+"&frameId="+n.frameId;n.log("Updating iframe src to '"+t+"'.");u.src=t}},n.reconnectDelay)},lostConnection:function(n){this.reconnect(n)},send:function(n,t){i.ajaxSend(n,t)},receive:function(t,u){var f,e,o;if(t.json!==t._originalJson&&(u=t._originalJson.stringify(u)),o=t._parseResponse(u),i.processMessages(t,o,t.onSuccess),t.state===n.signalR.connectionState.connected&&(t.frameMessageCount=(t.frameMessageCount||0)+1,t.frameMessageCount>r.transports.foreverFrame.iframeClearThreshold&&(t.frameMessageCount=0,f=t.frame.contentWindow||t.frame.contentDocument,f&&f.document&&f.document.body)))for(e=f.document.body;e.firstChild;)e.removeChild(e.firstChild)},stop:function(n){var r=null;if(f.cancel(),n.frame){if(n.frame.stop)n.frame.stop();else try{r=n.frame.contentWindow||n.frame.contentDocument;r.document&&r.document.execCommand&&r.document.execCommand("Stop")}catch(u){n.log("Error occured when stopping foreverFrame transport. Message = "+u.message+".")}n.frame.parentNode===t.document.body&&t.document.body.removeChild(n.frame);delete i.foreverFrame.connections[n.frameId];n.frame=null;n.frameId=null;delete n.frame;delete n.frameId;delete n.onSuccess;delete n.frameMessageCount;n.log("Stopping forever frame.")}},abort:function(n,t){i.ajaxAbort(n,t)},getConnection:function(n){return i.foreverFrame.connections[n]},started:function(t){o(t,r.connectionState.reconnecting,r.connectionState.connected)===!0&&n(t).triggerHandler(e.onReconnect)}}}(window.jQuery,window),function(n,t){var r=n.signalR,u=n.signalR.events,e=n.signalR.changeState,f=n.signalR.isDisconnecting,i=r.transports._logic;r.transports.longPolling={name:"longPolling",supportsKeepAlive:function(){return!1},reconnectDelay:3e3,start:function(o,s,h){var a=this,v=function(){v=n.noop;o.log("LongPolling connected.");s()},y=function(n){return h(n)?(o.log("LongPolling failed to connect."),!0):!1},c=o._,l=0,p=function(i){t.clearTimeout(c.reconnectTimeoutId);c.reconnectTimeoutId=null;e(i,r.connectionState.reconnecting,r.connectionState.connected)===!0&&(i.log("Raising the reconnect event"),n(i).triggerHandler(u.onReconnect))},w=36e5;o.pollXhr&&(o.log("Polling xhr requests already exists, aborting."),o.stop());o.messageId=null;c.reconnectTimeoutId=null;c.pollTimeoutId=t.setTimeout(function(){(function e(s,h){var g=s.messageId,nt=g===null,k=!nt,tt=!h,d=i.getUrl(s,a.name,k,tt,!0),b={};(s.messageId&&(b.messageId=s.messageId),s.groupsToken&&(b.groupsToken=s.groupsToken),f(s)!==!0)&&(o.log("Opening long polling request to '"+d+"'."),s.pollXhr=i.ajax(o,{xhrFields:{onprogress:function(){i.markLastMessage(o)}},url:d,type:"POST",contentType:r._.defaultContentType,data:b,timeout:o._.pollTimeout,success:function(r){var h,w=0,u,a;o.log("Long poll complete.");l=0;try{h=o._parseResponse(r)}catch(b){i.handleParseFailure(s,r,b,y,s.pollXhr);return}(c.reconnectTimeoutId!==null&&p(s),h&&(u=i.maximizePersistentResponse(h)),i.processMessages(s,h,v),u&&n.type(u.LongPollDelay)==="number"&&(w=u.LongPollDelay),f(s)!==!0)&&(a=u&&u.ShouldReconnect,!a||i.ensureReconnectingState(s))&&(w>0?c.pollTimeoutId=t.setTimeout(function(){e(s,a)},w):e(s,a))},error:function(f,h){var v=r._.transportError(r.resources.longPollFailed,o.transport,f,s.pollXhr);if(t.clearTimeout(c.reconnectTimeoutId),c.reconnectTimeoutId=null,h==="abort"){o.log("Aborted xhr request.");return}if(!y(v)){if(l++,o.state!==r.connectionState.reconnecting&&(o.log("An error occurred using longPolling. Status = "+h+".  Response = "+f.responseText+"."),n(s).triggerHandler(u.onError,[v])),(o.state===r.connectionState.connected||o.state===r.connectionState.reconnecting)&&!i.verifyLastActive(o))return;if(!i.ensureReconnectingState(s))return;c.pollTimeoutId=t.setTimeout(function(){e(s,!0)},a.reconnectDelay)}}}),k&&h===!0&&(c.reconnectTimeoutId=t.setTimeout(function(){p(s)},Math.min(1e3*(Math.pow(2,l)-1),w))))})(o)},250)},lostConnection:function(n){n.pollXhr&&n.pollXhr.abort("lostConnection")},send:function(n,t){i.ajaxSend(n,t)},stop:function(n){t.clearTimeout(n._.pollTimeoutId);t.clearTimeout(n._.reconnectTimeoutId);delete n._.pollTimeoutId;delete n._.reconnectTimeoutId;n.pollXhr&&(n.pollXhr.abort(),n.pollXhr=null,delete n.pollXhr)},abort:function(n,t){i.ajaxAbort(n,t)}}}(window.jQuery,window),function(n){function r(n){return n+e}function s(n,t,i){for(var f=n.length,u=[],r=0;r<f;r+=1)n.hasOwnProperty(r)&&(u[r]=t.call(i,n[r],r,n));return u}function h(t){return n.isFunction(t)?null:n.type(t)==="undefined"?null:t}function u(n){for(var t in n)if(n.hasOwnProperty(t))return!0;return!1}function f(n,t){var i=n._.invocationCallbacks,r,f;u(i)&&n.log("Clearing hub invocation callbacks with error: "+t+".");n._.invocationCallbackId=0;delete n._.invocationCallbacks;n._.invocationCallbacks={};for(f in i)r=i[f],r.method.call(r.scope,{E:t})}function i(n,t){return new i.fn.init(n,t)}function t(i,r){var u={qs:null,logging:!1,useDefaultPath:!0};return n.extend(u,r),(!i||u.useDefaultPath)&&(i=(i||"")+"/signalr"),new t.fn.init(i,u)}var e=".hubProxy",o=n.signalR;i.fn=i.prototype={init:function(n,t){this.state={};this.connection=n;this.hubName=t;this._={callbackMap:{}}},constructor:i,hasSubscriptions:function(){return u(this._.callbackMap)},on:function(t,i){var u=this,f=u._.callbackMap;return t=t.toLowerCase(),f[t]||(f[t]={}),f[t][i]=function(n,t){i.apply(u,t)},n(u).bind(r(t),f[t][i]),u},off:function(t,i){var e=this,o=e._.callbackMap,f;return t=t.toLowerCase(),f=o[t],f&&(f[i]?(n(e).unbind(r(t),f[i]),delete f[i],u(f)||delete o[t]):i||(n(e).unbind(r(t)),delete o[t])),e},invoke:function(t){var i=this,r=i.connection,e=n.makeArray(arguments).slice(1),c=s(e,h),f={H:i.hubName,M:t,A:c,I:r._.invocationCallbackId},u=n.Deferred(),l=function(f){var e=i._maximizeHubResponse(f),h,s;n.extend(i.state,e.State);e.Progress?u.notifyWith?u.notifyWith(i,[e.Progress.Data]):r._.progressjQueryVersionLogged||(r.log("A hub method invocation progress update was received but the version of jQuery in use ("+n.prototype.jquery+") does not support progress updates. Upgrade to jQuery 1.7+ to receive progress notifications."),r._.progressjQueryVersionLogged=!0):e.Error?(e.StackTrace&&r.log(e.Error+"\n"+e.StackTrace+"."),h=e.IsHubException?"HubException":"Exception",s=o._.error(e.Error,h),s.data=e.ErrorData,r.log(i.hubName+"."+t+" failed to execute. Error: "+s.message),u.rejectWith(i,[s])):(r.log("Invoked "+i.hubName+"."+t),u.resolveWith(i,[e.Result]))};return r._.invocationCallbacks[r._.invocationCallbackId.toString()]={scope:i,method:l},r._.invocationCallbackId+=1,n.isEmptyObject(i.state)||(f.S=i.state),r.log("Invoking "+i.hubName+"."+t),r.send(f),u.promise()},_maximizeHubResponse:function(n){return{State:n.S,Result:n.R,Progress:n.P?{Id:n.P.I,Data:n.P.D}:null,Id:n.I,IsHubException:n.H,Error:n.E,StackTrace:n.T,ErrorData:n.D}}};i.fn.init.prototype=i.fn;t.fn=t.prototype=n.connection();t.fn.init=function(t,i){var e={qs:null,logging:!1,useDefaultPath:!0},u=this;n.extend(e,i);n.signalR.fn.init.call(u,t,e.qs,e.logging);u.proxies={};u._.invocationCallbackId=0;u._.invocationCallbacks={};u.received(function(t){var f,o,e,i,s,h;t&&(typeof t.P!="undefined"?(e=t.P.I.toString(),i=u._.invocationCallbacks[e],i&&i.method.call(i.scope,t)):typeof t.I!="undefined"?(e=t.I.toString(),i=u._.invocationCallbacks[e],i&&(u._.invocationCallbacks[e]=null,delete u._.invocationCallbacks[e],i.method.call(i.scope,t))):(f=this._maximizeClientHubInvocation(t),u.log("Triggering client hub event '"+f.Method+"' on hub '"+f.Hub+"'."),s=f.Hub.toLowerCase(),h=f.Method.toLowerCase(),o=this.proxies[s],n.extend(o.state,f.State),n(o).triggerHandler(r(h),[f.Args])))});u.error(function(n,t){var i,r;t&&(i=t.I,r=u._.invocationCallbacks[i],r&&(u._.invocationCallbacks[i]=null,delete u._.invocationCallbacks[i],r.method.call(r.scope,{E:n})))});u.reconnecting(function(){u.transport&&u.transport.name==="webSockets"&&f(u,"Connection started reconnecting before invocation result was received.")});u.disconnected(function(){f(u,"Connection was disconnected before invocation result was received.")})};t.fn._maximizeClientHubInvocation=function(n){return{Hub:n.H,Method:n.M,Args:n.A,State:n.S}};t.fn._registerSubscribedHubs=function(){var t=this;t._subscribedToHubs||(t._subscribedToHubs=!0,t.starting(function(){var i=[];n.each(t.proxies,function(n){this.hasSubscriptions()&&(i.push({name:n}),t.log("Client subscribed to hub '"+n+"'."))});i.length===0&&t.log("No hubs have been subscribed to.  The client will not receive data from hubs.  To fix, declare at least one client side function prior to connection start for each hub you wish to subscribe to.");t.data=t.json.stringify(i)}))};t.fn.createHubProxy=function(n){n=n.toLowerCase();var t=this.proxies[n];return t||(t=i(this,n),this.proxies[n]=t),this._registerSubscribedHubs(),t};t.fn.init.prototype=t.fn;n.hubConnection=t}(window.jQuery,window),function(n){n.signalR.version="2.2.0-pre"}(window.jQuery);
(function(n){typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?n(require("knockout"),exports):typeof define=="function"&&define.amd?define(["knockout","exports"],n):n(ko,{})})(function(n){n.extenders.infinitescroll=function(t,i){var r={};t.infinitescroll=r;r.numPagesPadding=n.observable(parseFloat(i.numPagesPadding)||1);r.viewportWidth=n.observable(-1);r.viewportHeight=n.observable(-1);r.itemWidth=n.observable(-1);r.itemHeight=n.observable(-1);r.scrollY=n.observable(0);r.scrollYOffset=n.observable(0);r.numColsPerPage=n.computed(function(){var n=parseInt(r.viewportWidth()),t=parseInt(r.itemWidth())||-1;return Math.max(Math.floor(n/t),0)});r.numRowsPerPage=n.computed(function(){var n=parseInt(r.viewportHeight()),t=parseInt(r.itemHeight())||-1;return Math.max(Math.ceil(n/t),0)});r.numItemsPerPage=n.computed(function(){var n=parseInt(r.numColsPerPage()),t=parseInt(r.numRowsPerPage());return n*t});r.numItemsPadding=n.computed(function(){var t=r.numItemsPerPage(),i=r.numPagesPadding(),n=r.numColsPerPage();return Math.max(Math.floor(t*i/n)*n,0)});r.firstVisibleIndex=n.computed(function(){var n=parseInt(r.scrollY()),t=parseInt(r.scrollYOffset()),i=parseInt(r.itemHeight())||-1,u=r.numColsPerPage();return Math.max(Math.floor((n-t)/i)*u,0)});r.lastVisibleIndex=n.computed(function(){return r.firstVisibleIndex()+r.numItemsPerPage()-1});r.firstHiddenIndex=n.computed(function(){return Math.max(r.firstVisibleIndex()-1-r.numItemsPadding(),0)});r.lastHiddenIndex=n.computed(function(){return Math.min(r.lastVisibleIndex()+1+r.numItemsPadding(),t().length)});r.heightBefore=n.computed(function(){return Math.max(r.firstHiddenIndex()/r.numColsPerPage()*r.itemHeight(),0)});r.heightAfter=n.computed(function(){return Math.max((t().length-1-r.lastHiddenIndex())/r.numColsPerPage()*r.itemHeight(),0)});r.displayItems=n.observableArray([]);n.computed(function(){var u=r.displayItems.peek(),n=t.slice(0,r.lastHiddenIndex()),i;if(u.length!==n.length){r.displayItems(n);return}for(i=n.length-1;i>=0;i--)if(n[i]!==u[i]){r.displayItems(n);return}})}});
(function(n,t){typeof define=="function"&&define.amd?define(["knockout"],t):typeof exports=="object"?module.exports=t(require("knockout")):n.KnockoutFastForeach=t(n.ko)})(this,function(n){"use strict";function f(n){return!!n&&typeof n=="object"&&n.constructor===Object}function s(n){return n.nodeType===8&&e.test(r?n.text:n.nodeValue)}function h(t){var r=document.createElement("div"),i;return t.content?i=t.content:t.tagName==="SCRIPT"?(i=document.createElement("div"),i.innerHTML=t.text):i=t,n.utils.arrayForEach(n.virtualElements.childNodes(i),function(n){n&&r.insertBefore(n.cloneNode(!0),null)}),r}function c(n,t){return{status:"added",value:n,index:t}}function l(n){return typeof Symbol=="function"?Symbol(n):n}function t(t){this.element=t.element;this.container=s(this.element)?this.element.parentNode:this.element;this.$context=t.$context;this.data=t.data;this.as=t.as;this.noContext=t.noContext;this.noIndex=t.noIndex;this.afterAdd=t.afterAdd;this.beforeRemove=t.beforeRemove;this.templateNode=h(t.templateNode||(t.name?document.getElementById(t.name).cloneNode(!0):t.element));this.afterQueueFlush=t.afterQueueFlush;this.beforeQueueFlush=t.beforeQueueFlush;this.changeQueue=[];this.firstLastNodesList=[];this.indexesToDelete=[];this.rendering_queued=!1;this.pendingDeletes=[];n.virtualElements.emptyNode(this.element);var i=n.unwrap(this.data);if(i.map)this.onArrayChange(i.map(c));n.isObservable(this.data)&&(this.data.indexOf||(this.data=this.data.extend({trackArrayChanges:!0})),this.changeSubs=this.data.subscribe(this.onArrayChange,this,"arrayChange"))}function a(t){t.$index=n.observable()}var u=9007199254740991,r=document&&document.createComment("test").text==="<!--test-->",e=r?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,o=document&&typeof document.createDocumentFragment=="function",i=l("_ko_ffe_pending_delete_index");t.PENDING_DELETE_INDEX_KEY=i;t.animateFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(n){return window.setTimeout(n,1e3/60)};t.prototype.dispose=function(){this.changeSubs&&this.changeSubs.dispose();this.flushPendingDeletes()};t.prototype.onArrayChange=function(n){for(var i,f,e=this,r={added:[],deleted:[]},u=0,o=n.length;u<o;u++){if(r.added.length&&n[u].status=="added"&&(i=r.added[r.added.length-1],f=i.isBatch?i.index+i.values.length-1:i.index,f+1==n[u].index)){i.isBatch||(i={isBatch:!0,status:"added",index:i.index,values:[i.value]},r.added.splice(r.added.length-1,1,i));i.values.push(n[u].value);continue}r[n[u].status].push(n[u])}r.deleted.length>0&&(this.changeQueue.push.apply(this.changeQueue,r.deleted),this.changeQueue.push({status:"clearDeletedIndexes"}));this.changeQueue.push.apply(this.changeQueue,r.added);this.changeQueue.length>0&&!this.rendering_queued&&(this.rendering_queued=!0,t.animateFrame.call(window,function(){e.processQueue()}))};t.prototype.processQueue=function(){var i=this,t=u;typeof this.beforeQueueFlush=="function"&&this.beforeQueueFlush(this.changeQueue);n.utils.arrayForEach(this.changeQueue,function(n){typeof n.index=="number"&&(t=Math.min(t,n.index));i[n.status](n)});this.flushPendingDeletes();this.rendering_queued=!1;this.noIndex||this.updateIndexes(t);typeof this.afterQueueFlush=="function"&&this.afterQueueFlush(this.changeQueue);this.changeQueue=[]};t.prototype.added=function(t){for(var r,e,o,c,s=t.index,u=t.isBatch?t.values:[t.value],h=this.getLastNodeBeforeIndex(s),f=[],i=0,l=u.length;i<l;++i)e=this.getPendingDeleteFor(u[i]),e&&e.nodesets.length?r=e.nodesets.pop():(o=this.templateNode.cloneNode(!0),c=this.noContext?this.$context.extend({$item:u[i],$index:this.noIndex?undefined:n.observable()}):this.$context.createChildContext(u[i],this.as||null,this.noIndex?undefined:a),n.applyBindingsToDescendants(c,o),r=n.virtualElements.childNodes(o)),f.push.apply(f,Array.prototype.slice.call(r)),this.firstLastNodesList.splice(s+i,0,{first:r[0],last:r[r.length-1]});typeof this.afterAdd=="function"?this.afterAdd({nodeOrArrayInserted:this.insertAllAfter(f,h),foreachInstance:this}):this.insertAllAfter(f,h)};t.prototype.getNodesForIndex=function(n){var i=[],t=this.firstLastNodesList[n].first,r=this.firstLastNodesList[n].last;for(i.push(t);t&&t!==r;)t=t.nextSibling,i.push(t);return i};t.prototype.getLastNodeBeforeIndex=function(n){return n<1||n-1>=this.firstLastNodesList.length?null:this.firstLastNodesList[n-1].last};t.prototype.insertAllAfter=function(t,i){var f,s,r,u=this.element,e;if(t.nodeType===undefined&&t.length===undefined)throw new Error("Expected a single node or a node array");if(t.nodeType!==undefined)return n.virtualElements.insertAfter(u,t,i),[t];if(t.length===1)n.virtualElements.insertAfter(u,t[0],i);else if(o){for(f=document.createDocumentFragment(),r=0,s=t.length;r!==s;++r)f.appendChild(t[r]);n.virtualElements.insertAfter(u,f,i)}else for(r=t.length-1;r>=0;--r){if(e=t[r],!e)break;n.virtualElements.insertAfter(u,e,i)}return t};t.prototype.shouldDelayDeletion=function(n){return n&&(typeof n=="object"||typeof n=="function")};t.prototype.getPendingDeleteFor=function(n){var t=n&&n[i];return t===undefined?null:this.pendingDeletes[t]};t.prototype.getOrCreatePendingDeleteFor=function(n){var t=this.getPendingDeleteFor(n);return t?t:(t={data:n,nodesets:[]},n[i]=this.pendingDeletes.length,this.pendingDeletes.push(t),t)};t.prototype.deleted=function(n){if(this.shouldDelayDeletion(n.value)){var t=this.getOrCreatePendingDeleteFor(n.value);t.nodesets.push(this.getNodesForIndex(n.index))}else this.removeNodes(this.getNodesForIndex(n.index));this.indexesToDelete.push(n.index)};t.prototype.removeNodes=function(t){var i,r;t.length&&(i=function(){for(var r=t[0].parentNode,i=t.length-1;i>=0;--i)n.cleanNode(t[i]),r.removeChild(t[i])},this.beforeRemove?(r=this.beforeRemove({nodesToRemove:t,foreachInstance:this})||{},typeof r.then=="function"&&r.then(i,n.onError?n.onError:undefined)):i())};t.prototype.flushPendingDeletes=function(){for(var n,t=0,r=this.pendingDeletes.length;t!=r;++t){for(n=this.pendingDeletes[t];n.nodesets.length;)this.removeNodes(n.nodesets.pop());n.data&&n.data[i]!==undefined&&delete n.data[i]}this.pendingDeletes=[]};t.prototype.clearDeletedIndexes=function(){for(var n=this.indexesToDelete.length-1;n>=0;--n)this.firstLastNodesList.splice(this.indexesToDelete[n],1);this.indexesToDelete=[]};t.prototype.getContextStartingFrom=function(t){for(var i;t;){if(i=n.contextFor(t),i)return i;t=t.nextSibling}};t.prototype.updateIndexes=function(n){for(var i,t=n,r=this.firstLastNodesList.length;t<r;++t)i=this.getContextStartingFrom(this.firstLastNodesList[t].first),i&&i.$index(t)};n.bindingHandlers.fastForEach={init:function(i,r,u,e,o){var h,s=r();return f(s)?(s.element=s.element||i,s.$context=o,h=new t(s)):h=new t({element:i,data:n.unwrap(o.$rawData)===s?o.$rawData:s,$context:o}),n.utils.domNodeDisposal.addDisposeCallback(i,function(){h.dispose()}),{controlsDescendantBindings:!0}},FastForEach:t};n.virtualElements.allowedBindings.fastForEach=!0});
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?n(require("jquery")):n(jQuery)})(function(n,t){function u(){return new Date(Date.UTC.apply(Date,arguments))}function h(){var n=new Date;return u(n.getFullYear(),n.getMonth(),n.getDate())}function y(n,t){return n.getUTCFullYear()===t.getUTCFullYear()&&n.getUTCMonth()===t.getUTCMonth()&&n.getUTCDate()===t.getUTCDate()}function c(n){return function(){return this[n].apply(this,arguments)}}function p(n){return n&&!isNaN(n.getTime())}function w(t,i){function s(n,t){return t.toLowerCase()}var u=n(t).data(),f={},e,o=new RegExp("^"+i.toLowerCase()+"([A-Z])"),r;i=new RegExp("^"+i.toLowerCase());for(r in u)i.test(r)&&(e=r.replace(o,s),f[e]=u[r]);return f}function b(t){var u={},i;if(r[t]||(t=t.split("-")[0],r[t]))return i=r[t],n.each(v,function(n,t){t in i&&(u[t]=i[t])}),u}var l=function(){var t={get:function(n){return this.slice(n)[0]},contains:function(n){for(var i=n&&n.valueOf(),t=0,r=this.length;t<r;t++)if(this[t].valueOf()===i)return t;return-1},remove:function(n){this.splice(n,1)},replace:function(t){t&&(n.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var n=new l;return n.replace(this),n}};return function(){var i=[];return i.push.apply(i,arguments),n.extend(i,t),i}}(),f=function(t,r){n(t).data("datepicker",this);this._process_options(r);this.dates=new l;this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=n(t);this.isInput=this.element.is("input");this.inputField=this.isInput?this.element:this.element.find("input");this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1;this.hasInput=this.component&&this.inputField.length;this.component&&this.component.length===0&&(this.component=!1);this.isInline=!this.component&&this.element.is("div");this.picker=n(i.template);this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow);this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&this.picker.addClass("datepicker-rtl");this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(n,t){return parseInt(t)+1});this._allow_update=!1;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted);this.setDatesDisabled(this.o.datesDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()},o,a,e,s,v,r,i;f.prototype={constructor:f,_resolveViewName:function(n,i){return n===0||n==="days"||n==="month"?0:n===1||n==="months"||n==="year"?1:n===2||n==="years"||n==="decade"?2:n===3||n==="decades"||n==="century"?3:n===4||n==="centuries"||n==="millennium"?4:i===t?!1:i},_check_template:function(i){try{if(i===t||i==="")return!1;if((i.match(/[<>]/g)||[]).length<=0)return!0;var r=n(i);return r.length>0}catch(u){return!1}},_process_options:function(t){var f,o,l,e,c;if(this._o=n.extend({},this._o,t),f=this.o=n.extend({},this._o),o=f.language,r[o]||(o=o.split("-")[0],r[o]||(o=s.language)),f.language=o,f.startView=this._resolveViewName(f.startView,0),f.minViewMode=this._resolveViewName(f.minViewMode,0),f.maxViewMode=this._resolveViewName(f.maxViewMode,4),f.startView=Math.min(f.startView,f.maxViewMode),f.startView=Math.max(f.startView,f.minViewMode),f.multidate!==!0&&(f.multidate=Number(f.multidate)||!1,f.multidate!==!1&&(f.multidate=Math.max(0,f.multidate))),f.multidateSeparator=String(f.multidateSeparator),f.weekStart%=7,f.weekEnd=(f.weekStart+6)%7,l=i.parseFormat(f.format),f.startDate!==-Infinity&&(f.startDate=f.startDate?f.startDate instanceof Date?this._local_to_utc(this._zero_time(f.startDate)):i.parseDate(f.startDate,l,f.language,f.assumeNearbyYear):-Infinity),f.endDate!==Infinity&&(f.endDate=f.endDate?f.endDate instanceof Date?this._local_to_utc(this._zero_time(f.endDate)):i.parseDate(f.endDate,l,f.language,f.assumeNearbyYear):Infinity),f.daysOfWeekDisabled=f.daysOfWeekDisabled||[],n.isArray(f.daysOfWeekDisabled)||(f.daysOfWeekDisabled=f.daysOfWeekDisabled.split(/[,\s]*/)),f.daysOfWeekDisabled=n.map(f.daysOfWeekDisabled,function(n){return parseInt(n,10)}),f.daysOfWeekHighlighted=f.daysOfWeekHighlighted||[],n.isArray(f.daysOfWeekHighlighted)||(f.daysOfWeekHighlighted=f.daysOfWeekHighlighted.split(/[,\s]*/)),f.daysOfWeekHighlighted=n.map(f.daysOfWeekHighlighted,function(n){return parseInt(n,10)}),f.datesDisabled=f.datesDisabled||[],n.isArray(f.datesDisabled)||(f.datesDisabled=[f.datesDisabled]),f.datesDisabled=n.map(f.datesDisabled,function(n){return i.parseDate(n,l,f.language,f.assumeNearbyYear)}),e=String(f.orientation).toLowerCase().split(/\s+/g),c=f.orientation.toLowerCase(),e=n.grep(e,function(n){return/^auto|left|right|top|bottom$/.test(n)}),f.orientation={x:"auto",y:"auto"},c&&c!=="auto")if(e.length===1)switch(e[0]){case"top":case"bottom":f.orientation.y=e[0];break;case"left":case"right":f.orientation.x=e[0]}else c=n.grep(e,function(n){return/^left|right$/.test(n)}),f.orientation.x=c[0]||"auto",c=n.grep(e,function(n){return/^top|bottom$/.test(n)}),f.orientation.y=c[0]||"auto";if(f.defaultViewDate){var a=f.defaultViewDate.year||(new Date).getFullYear(),v=f.defaultViewDate.month||0,y=f.defaultViewDate.day||1;f.defaultViewDate=u(a,v,y)}else f.defaultViewDate=h()},_events:[],_secondaryEvents:[],_applyEvents:function(n){for(var i=0,f,r,u;i<n.length;i++){f=n[i][0];n[i].length===2?(r=t,u=n[i][1]):n[i].length===3&&(r=n[i][1],u=n[i][2]);f.on(u,r)}},_unapplyEvents:function(n){for(var i=0,f,r,u;i<n.length;i++)f=n[i][0],n[i].length===2?(u=t,r=n[i][1]):n[i].length===3&&(u=n[i][1],r=n[i][2]),f.off(r,u)},_buildEvents:function(){var t={keyup:n.proxy(function(t){n.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:n.proxy(this.keydown,this),paste:n.proxy(this.paste,this)};this.o.showOnFocus===!0&&(t.focus=n.proxy(this.show,this));this._events=this.isInput?[[this.element,t]]:this.component&&this.hasInput?[[this.inputField,t],[this.component,{click:n.proxy(this.show,this)}]]:[[this.element,{click:n.proxy(this.show,this),keydown:n.proxy(this.keydown,this)}]];this._events.push([this.element,"*",{blur:n.proxy(function(n){this._focused_from=n.target},this)}],[this.element,{blur:n.proxy(function(n){this._focused_from=n.target},this)}]);this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":n.proxy(function(n){this.update(n.date)},this)}]);this._secondaryEvents=[[this.picker,{click:n.proxy(this.click,this)}],[n(window),{resize:n.proxy(this.place,this)}],[n(document),{mousedown:n.proxy(function(n){this.element.is(n.target)||this.element.find(n.target).length||this.picker.is(n.target)||this.picker.find(n.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,r){var u=r||this.dates.get(-1),f=this._utc_to_local(u);this.element.trigger({type:t,date:f,dates:n.map(this.dates,this._utc_to_local),format:n.proxy(function(n,t){arguments.length===0?(n=this.dates.length-1,t=this.o.format):typeof n=="string"&&(t=n,n=this.dates.length-1);t=t||this.o.format;var r=this.dates.get(n);return i.formatDate(r,t,this.o.language)},this)})},show:function(){if(!this.inputField.prop("disabled")&&(!this.inputField.prop("readonly")||this.o.enableOnReadonly!==!1))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&n(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var i;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&n.inArray("text/plain",t.originalEvent.clipboardData.types)!==-1)i=t.originalEvent.clipboardData.getData("text/plain");else if(window.clipboardData)i=window.clipboardData.getData("Text");else return;this.setDate(i);this.update();t.preventDefault()},_utc_to_local:function(n){return n&&new Date(n.getTime()+n.getTimezoneOffset()*6e4)},_local_to_utc:function(n){return n&&new Date(n.getTime()-n.getTimezoneOffset()*6e4)},_zero_time:function(n){return n&&new Date(n.getFullYear(),n.getMonth(),n.getDate())},_zero_utc_time:function(n){return n&&new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()))},getDates:function(){return n.map(this.dates,this._utc_to_local)},getUTCDates:function(){return n.map(this.dates,function(n){return new Date(n)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var n=this.dates.get(-1);return typeof n!="undefined"?new Date(n):null},clearDates:function(){this.inputField&&this.inputField.val("");this.update();this._trigger("changeDate");this.o.autoclose&&this.hide()},setDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,n.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:c("setDates"),setUTCDate:c("setUTCDates"),remove:c("destroy"),setValue:function(){var n=this.getFormattedDate();return this.inputField.val(n),this},getFormattedDate:function(r){r===t&&(r=this.o.format);var u=this.o.language;return n.map(this.dates,function(n){return i.formatDate(n,r,u)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(n){return this._process_options({startDate:n}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(n){return this._process_options({endDate:n}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(n){return this._process_options({daysOfWeekDisabled:n}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(n){return this._process_options({daysOfWeekHighlighted:n}),this.update(),this},setDatesDisabled:function(n){this._process_options({datesDisabled:n});this.update();this.updateNavArrows()},place:function(){var r,y,p;if(this.isInline)return this;var f=this.picker.outerWidth(),s=this.picker.outerHeight(),e=n(this.o.container),h=e.width(),c=this.o.container==="body"?n(document).scrollTop():e.scrollTop(),l=e.offset(),a=[];this.element.parents().each(function(){var t=n(this).css("z-index");t!=="auto"&&t!==0&&a.push(parseInt(t))});var v=Math.max.apply(Math,a)+this.o.zIndexOffset,u=this.component?this.component.parent().offset():this.element.offset(),w=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),o=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),t=u.left-l.left,i=u.top-l.top;return this.o.container!=="body"&&(i+=c),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),this.o.orientation.x!=="auto"?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),this.o.orientation.x==="right"&&(t-=f-o)):u.left<0?(this.picker.addClass("datepicker-orient-left"),t-=u.left-10):t+f>h?(this.picker.addClass("datepicker-orient-right"),t+=o-f):this.picker.addClass("datepicker-orient-left"),r=this.o.orientation.y,r==="auto"&&(y=-c+i-s,r=y<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+r),r==="top"?i-=s+parseInt(this.picker.css("padding-top")):i+=w,this.o.rtl?(p=h-(t+o),this.picker.css({top:i,right:p,zIndex:v})):this.picker.css({top:i,left:t,zIndex:v}),this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var r=this.dates.copy(),t=[],u=!1;return arguments.length?(n.each(arguments,n.proxy(function(n,i){i instanceof Date&&(i=this._local_to_utc(i));t.push(i)},this)),u=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),t=t&&this.o.multidate?t.split(this.o.multidateSeparator):[t],delete this.element.data().date),t=n.map(t,n.proxy(function(n){return i.parseDate(n,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),t=n.grep(t,n.proxy(function(n){return!this.dateWithinRange(n)||!n},this),!0),this.dates.replace(t),this.viewDate=this.dates.length?new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?new Date(this.o.startDate):this.viewDate>this.o.endDate?new Date(this.o.endDate):this.o.defaultViewDate,u?this.setValue():t.length&&String(r)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&r.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var i=this.o.weekStart,t="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(n,t){return parseInt(t)+1}),t+='<th class="cw">&#160;<\/th>');i<this.o.weekStart+7;)t+='<th class="dow',n.inArray(i,this.o.daysOfWeekDisabled)>-1&&(t+=" disabled"),t+='">'+r[this.o.language].daysMin[i++%7]+"<\/th>";t+="<\/tr>";this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),i="",n=0,u;n<12;)u=t&&t.getMonth()===n?" focused":"",i+='<span class="month'+u+'">'+r[this.o.language].monthsShort[n++]+"<\/span>";this.picker.find(".datepicker-months td").html(i)},setRange:function(t){t&&t.length?this.range=n.map(t,function(n){return n.valueOf()}):delete this.range;this.fill()},getClassNames:function(t){var i=[],r=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),u=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()===r&&t.getUTCMonth()<f?i.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()===r&&t.getUTCMonth()>f)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===u.getFullYear()&&t.getUTCMonth()===u.getMonth()&&t.getUTCDate()===u.getDate()&&i.push("today"),this.dates.contains(t)!==-1&&i.push("active"),this.dateWithinRange(t)||i.push("disabled"),this.dateIsDisabled(t)&&i.push("disabled","disabled-date"),n.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)!==-1&&i.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),n.inArray(t.valueOf(),this.range)!==-1&&i.push("selected"),t.valueOf()===this.range[0]&&i.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},_fill_yearsView:function(i,r,u,f,e,o,s,h){var w,b,y,k,d,g,a,v,l,p,c;for(w="",b=this.picker.find(i),y=parseInt(e/u,10)*u,d=parseInt(o/f,10)*f,g=parseInt(s/f,10)*f,k=n.map(this.dates,function(n){return parseInt(n.getUTCFullYear()/f,10)*f}),b.find(".datepicker-switch").text(y+"-"+(y+f*9)),a=y-f,v=-1;v<11;v+=1)l=[r],p=null,v===-1?l.push("old"):v===10&&l.push("new"),n.inArray(a,k)!==-1&&l.push("active"),(a<d||a>g)&&l.push("disabled"),a===this.viewDate.getFullYear()&&l.push("focused"),h!==n.noop&&(c=h(new Date(a,0,1)),c===t?c={}:typeof c=="boolean"?c={enabled:c}:typeof c=="string"&&(c={classes:c}),c.enabled===!1&&l.push("disabled"),c.classes&&(l=l.concat(c.classes.split(/\s+/))),c.tooltip&&(p=c.tooltip)),w+='<span class="'+l.join(" ")+'"'+(p?' title="'+p+'"':"")+">"+a+"<\/span>",a+=f;b.find("td").html(w)},fill:function(){var p=new Date(this.viewDate),o=p.getUTCFullYear(),k=p.getUTCMonth(),a=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,it=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,v=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,rt=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,ut=r[this.o.language].today||r.en.today||"",ft=r[this.o.language].clear||r.en.clear||"",et=r[this.o.language].titleFormat||r.en.titleFormat,y,e,f,w,h,c,s,nt,l,tt;if(!isNaN(o)&&!isNaN(k)){for(this.picker.find(".datepicker-days .datepicker-switch").text(i.formatDate(p,et,this.o.language)),this.picker.find("tfoot .today").text(ut).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(ft).toggle(this.o.clearBtn!==!1),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(this.o.title!==""),this.updateNavArrows(),this.fillMonths(),f=u(o,k-1,28),w=i.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth()),f.setUTCDate(w),f.setUTCDate(w-(f.getUTCDay()-this.o.weekStart+7)%7),h=new Date(f),f.getUTCFullYear()<100&&h.setUTCFullYear(f.getUTCFullYear()),h.setUTCDate(h.getUTCDate()+42),h=h.valueOf(),c=[];f.valueOf()<h;){if(f.getUTCDay()===this.o.weekStart&&(c.push("<tr>"),this.o.calendarWeeks)){var d=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),g=new Date(Number(d)+(11-d.getUTCDay())%7*864e5),b=new Date(Number(b=u(g.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),ot=(g-b)/6048e5+1;c.push('<td class="cw">'+ot+"<\/td>")}s=this.getClassNames(f);s.push("day");this.o.beforeShowDay!==n.noop&&(e=this.o.beforeShowDay(this._utc_to_local(f)),e===t?e={}:typeof e=="boolean"?e={enabled:e}:typeof e=="string"&&(e={classes:e}),e.enabled===!1&&s.push("disabled"),e.classes&&(s=s.concat(e.classes.split(/\s+/))),e.tooltip&&(y=e.tooltip));s=n.unique(s);c.push('<td class="'+s.join(" ")+'"'+(y?' title="'+y+'"':"")+">"+f.getUTCDate()+"<\/td>");y=null;f.getUTCDay()===this.o.weekEnd&&c.push("<\/tr>");f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(c.join(""));nt=r[this.o.language].monthsTitle||r.en.monthsTitle||"Months";l=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?nt:o).end().find("span").removeClass("active");n.each(this.dates,function(n,t){t.getUTCFullYear()===o&&l.eq(t.getUTCMonth()).addClass("active")});(o<a||o>v)&&l.addClass("disabled");o===a&&l.slice(0,it).addClass("disabled");o===v&&l.slice(rt+1).addClass("disabled");this.o.beforeShowMonth!==n.noop&&(tt=this,n.each(l,function(i,r){var f=new Date(o,i,1),u=tt.o.beforeShowMonth(f);u===t?u={}:typeof u=="boolean"?u={enabled:u}:typeof u=="string"&&(u={classes:u});u.enabled!==!1||n(r).hasClass("disabled")||n(r).addClass("disabled");u.classes&&n(r).addClass(u.classes);u.tooltip&&n(r).prop("title",u.tooltip)}));this._fill_yearsView(".datepicker-years","year",10,1,o,a,v,this.o.beforeShowYear);this._fill_yearsView(".datepicker-decades","decade",100,10,o,a,v,this.o.beforeShowDecade);this._fill_yearsView(".datepicker-centuries","century",1e3,100,o,a,v,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),n=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-Infinity&&n<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==Infinity&&n>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-Infinity&&n<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==Infinity&&n>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){var r,c,o,e,f,s,l,a;t.preventDefault();t.stopPropagation();r=n(t.target);r.hasClass("datepicker-switch")&&this.showMode(1);a=r.closest(".prev, .next");a.length>0&&(c=i.modes[this.viewMode].navStep*(a.hasClass("prev")?-1:1),this.viewMode===0?(this.viewDate=this.moveMonth(this.viewDate,c),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,c),this.viewMode===1&&this._trigger("changeYear",this.viewDate)),this.fill());r.hasClass("today")&&!r.hasClass("day")&&(this.showMode(-2),this._setDate(h(),this.o.todayBtn==="linked"?null:"view"));r.hasClass("clear")&&this.clearDates();r.hasClass("disabled")||(r.hasClass("day")&&(o=parseInt(r.text(),10)||1,e=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),r.hasClass("old")&&(f===0?(f=11,e=e-1,s=!0,l=!0):(f=f-1,s=!0)),r.hasClass("new")&&(f===11?(f=0,e=e+1,s=!0,l=!0):(f=f+1,s=!0)),this._setDate(u(e,f,o)),l&&this._trigger("changeYear",this.viewDate),s&&this._trigger("changeMonth",this.viewDate)),r.hasClass("month")&&(this.viewDate.setUTCDate(1),o=1,f=r.parent().find("span").index(r),e=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(f),this._trigger("changeMonth",this.viewDate),this.o.minViewMode===1?(this._setDate(u(e,f,o)),this.showMode()):this.showMode(-1),this.fill()),(r.hasClass("year")||r.hasClass("decade")||r.hasClass("century"))&&(this.viewDate.setUTCDate(1),o=1,f=0,e=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(e),r.hasClass("year")&&(this._trigger("changeYear",this.viewDate),this.o.minViewMode===2&&this._setDate(u(e,f,o))),r.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),this.o.minViewMode===3&&this._setDate(u(e,f,o))),r.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),this.o.minViewMode===4&&this._setDate(u(e,f,o))),this.showMode(-1),this.fill()));this.picker.is(":visible")&&this._focused_from&&n(this._focused_from).focus();delete this._focused_from},_toggle_multidate:function(n){var t=this.dates.contains(n);if(n||this.dates.clear(),t!==-1?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(n)):this.dates.push(n),typeof this.o.multidate=="number")while(this.dates.length>this.o.multidate)this.dates.remove(0)},_setDate:function(n,t){t&&t!=="date"||this._toggle_multidate(n&&new Date(n));t&&t!=="view"||(this.viewDate=n&&new Date(n));this.fill();this.setValue();t&&t==="view"||this._trigger("changeDate");this.inputField&&this.inputField.change();this.o.autoclose&&(!t||t==="date")&&this.hide()},moveDay:function(n,t){var i=new Date(n);return i.setUTCDate(n.getUTCDate()+t),i},moveWeek:function(n,t){return this.moveDay(n,t*7)},moveMonth:function(n,t){var f;if(!p(n))return this.o.defaultViewDate;if(!t)return n;var i=new Date(n.valueOf()),e=i.getUTCDate(),o=i.getUTCMonth(),s=Math.abs(t),r,u;if(t=t>0?1:-1,s===1)u=t===-1?function(){return i.getUTCMonth()===o}:function(){return i.getUTCMonth()!==r},r=o+t,i.setUTCMonth(r),(r<0||r>11)&&(r=(r+12)%12);else{for(f=0;f<s;f++)i=this.moveMonth(i,t);r=i.getUTCMonth();i.setUTCDate(e);u=function(){return r!==i.getUTCMonth()}}while(u())i.setUTCDate(--e),i.setUTCMonth(r);return i},moveYear:function(n,t){return this.moveMonth(n,t*12)},moveAvailableDate:function(n,t,i){do{if(n=this[i](n,t),!this.dateWithinRange(n))return!1;i="moveDay"}while(this.dateIsDisabled(n));return n},weekOfDateIsDisabled:function(t){return n.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||n.grep(this.o.datesDisabled,function(n){return y(t,n)}).length>0},dateWithinRange:function(n){return n>=this.o.startDate&&n<=this.o.endDate},keydown:function(n){if(!this.picker.is(":visible")){(n.keyCode===40||n.keyCode===27)&&(this.show(),n.stopPropagation());return}var u=!1,t,i,r=this.focusDate||this.viewDate;switch(n.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide();n.preventDefault();n.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||this.o.daysOfWeekDisabled.length===7)break;t=n.keyCode===37||n.keyCode===38?-1:1;this.viewMode===0?n.ctrlKey?(i=this.moveAvailableDate(r,t,"moveYear"),i&&this._trigger("changeYear",this.viewDate)):n.shiftKey?(i=this.moveAvailableDate(r,t,"moveMonth"),i&&this._trigger("changeMonth",this.viewDate)):n.keyCode===37||n.keyCode===39?i=this.moveAvailableDate(r,t,"moveDay"):this.weekOfDateIsDisabled(r)||(i=this.moveAvailableDate(r,t,"moveWeek")):this.viewMode===1?((n.keyCode===38||n.keyCode===40)&&(t=t*4),i=this.moveAvailableDate(r,t,"moveMonth")):this.viewMode===2&&((n.keyCode===38||n.keyCode===40)&&(t=t*4),i=this.moveAvailableDate(r,t,"moveYear"));i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),n.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate;this.o.keyboardNavigation&&(this._toggle_multidate(r),u=!0);this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();this.picker.is(":visible")&&(n.preventDefault(),n.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide()}u&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField&&this.inputField.change())},showMode:function(n){n&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+n)));this.picker.children("div").hide().filter(".datepicker-"+i.modes[this.viewMode].clsName).show();this.updateNavArrows()}};o=function(t,i){n(t).data("datepicker",this);this.element=n(t);this.inputs=n.map(i.inputs,function(n){return n.jquery?n[0]:n});delete i.inputs;e.call(n(this.inputs),i).on("changeDate",n.proxy(this.dateUpdated,this));this.pickers=n.map(this.inputs,function(t){return n(t).data("datepicker")});this.updateDates()};o.prototype={updateDates:function(){this.dates=n.map(this.pickers,function(n){return n.getUTCDate()});this.updateRanges()},updateRanges:function(){var t=n.map(this.dates,function(n){return n.valueOf()});n.each(this.pickers,function(n,i){i.setRange(t)})},dateUpdated:function(t){var f;if(!this.updating&&(this.updating=!0,f=n(t.target).data("datepicker"),typeof f!="undefined")){var i=f.getUTCDate(),e=n.inArray(t.target,this.inputs),r=e-1,u=e+1,o=this.inputs.length;if(e!==-1){if(n.each(this.pickers,function(n,t){t.getUTCDate()||t.setUTCDate(i)}),i<this.dates[r])while(r>=0&&i<this.dates[r])this.pickers[r--].setUTCDate(i);else if(i>this.dates[u])while(u<o&&i>this.dates[u])this.pickers[u++].setUTCDate(i);this.updateDates();delete this.updating}}},remove:function(){n.map(this.pickers,function(n){n.remove()});delete this.element.data().datepicker}};a=n.fn.datepicker;e=function(i){var u=Array.apply(null,arguments),r;if(u.shift(),this.each(function(){var h=n(this),t=h.data("datepicker"),c=typeof i=="object"&&i;if(!t){var l=w(this,"date"),a=n.extend({},s,l,c),v=b(a.language),e=n.extend({},s,v,l,c);h.hasClass("input-daterange")||e.inputs?(n.extend(e,{inputs:e.inputs||h.find("input").toArray()}),t=new o(this,e)):t=new f(this,e);h.data("datepicker",t)}typeof i=="string"&&typeof t[i]=="function"&&(r=t[i].apply(t,u))}),r===t||r instanceof f||r instanceof o)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");else return r};n.fn.datepicker=e;s=n.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:n.noop,beforeShowMonth:n.noop,beforeShowYear:n.noop,beforeShowDecade:n.noop,beforeShowCentury:n.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}};v=n.fn.datepicker.locale_opts=["format","rtl","weekStart"];n.fn.datepicker.Constructor=f;r=n.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}};i={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(n){return n%4==0&&n%100!=0||n%400==0},getDaysInMonth:function(n,t){return[31,i.isLeapYear(n)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(n){if(typeof n.toValue=="function"&&typeof n.toDisplay=="function")return n;var t=n.replace(this.validParts,'\0').split('\0'),i=n.match(this.validParts);if(!t||!t.length||!i||i.length===0)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(e,o,s,c){function et(n,t){return t===!0&&(t=10),n<100&&(n+=2e3,n>(new Date).getFullYear()+t&&(n-=100)),n}function ot(){var n=this.slice(0,a[l].length),t=a[l].slice(0,n.length);return n.toLowerCase()===t.toLowerCase()}var p,st,tt,b;if(!e)return t;if(e instanceof Date)return e;if(typeof o=="string"&&(o=i.parseFormat(o)),o.toValue)return o.toValue(e,o,s);var rt=/([\-+]\d+)([dmwy])/,a=e.match(/([\-+]\d+)([dmwy])/g),ut={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},ft={yesterday:"-1d",today:"+0d",tomorrow:"+1d"},v,k,l,d;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){for(e=new Date,l=0;l<a.length;l++)v=rt.exec(a[l]),k=parseInt(v[1]),d=ut[v[2]],e=f.prototype[d](e,k);return u(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}if(typeof ft[e]!="undefined"&&(e=ft[e],a=e.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e))){for(e=new Date,l=0;l<a.length;l++)v=rt.exec(a[l]),k=parseInt(v[1]),d=ut[v[2]],e=f.prototype[d](e,k);return u(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}a=e&&e.match(this.nonpunctuation)||[];e=new Date;var g={},it=["yyyy","yy","M","MM","m","mm","d","dd"],y={yyyy:function(n,t){return n.setUTCFullYear(c?et(t,c):t)},yy:function(n,t){return n.setUTCFullYear(c?et(t,c):t)},m:function(n,t){if(isNaN(n))return n;for(t-=1;t<0;)t+=12;for(t%=12,n.setUTCMonth(t);n.getUTCMonth()!==t;)n.setUTCDate(n.getUTCDate()-1);return n},d:function(n,t){return n.setUTCDate(t)}},w,nt;if(y.M=y.MM=y.mm=y.m,y.dd=y.d,e=h(),p=o.parts.slice(),a.length!==p.length&&(p=n(p).filter(function(t,i){return n.inArray(i,it)!==-1}).toArray()),a.length===p.length){for(l=0,st=p.length;l<st;l++){if(w=parseInt(a[l],10),v=p[l],isNaN(w))switch(v){case"MM":nt=n(r[s].months).filter(ot);w=n.inArray(nt[0],r[s].months)+1;break;case"M":nt=n(r[s].monthsShort).filter(ot);w=n.inArray(nt[0],r[s].monthsShort)+1}g[v]=w}for(l=0;l<it.length;l++)b=it[l],b in g&&!isNaN(g[b])&&(tt=new Date(e),y[b](tt,g[b]),isNaN(tt)||(e=tt))}return e},formatDate:function(t,u,f){var e,s,o,h;if(!t)return"";if(typeof u=="string"&&(u=i.parseFormat(u)),u.toDisplay)return u.toDisplay(t,u,f);for(e={d:t.getUTCDate(),D:r[f].daysShort[t.getUTCDay()],DD:r[f].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:r[f].monthsShort[t.getUTCMonth()],MM:r[f].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()},e.dd=(e.d<10?"0":"")+e.d,e.mm=(e.m<10?"0":"")+e.m,t=[],s=n.extend([],u.separators),o=0,h=u.parts.length;o<=h;o++)s.length&&t.push(s.shift()),t.push(e[u.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"><\/th><\/tr><tr><th class="prev">&laquo;<\/th><th colspan="5" class="datepicker-switch"><\/th><th class="next">&raquo;<\/th><\/tr><\/thead>',contTemplate:'<tbody><tr><td colspan="7"><\/td><\/tr><\/tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"><\/th><\/tr><tr><th colspan="7" class="clear"><\/th><\/tr><\/tfoot>'};i.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+i.headTemplate+"<tbody><\/tbody>"+i.footTemplate+'<\/table><\/div><div class="datepicker-months"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-years"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-decades"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-centuries"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+"<\/table><\/div><\/div>";n.fn.datepicker.DPGlobal=i;n.fn.datepicker.noConflict=function(){return n.fn.datepicker=a,this};n.fn.datepicker.version="1.6.1";n(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=n(this);i.data("datepicker")||(t.preventDefault(),e.call(i,"show"))});n(function(){e.call(n('[data-provide="datepicker-inline"]'))})});
(function(n){if(typeof exports=="object"&&typeof module!="undefined")module.exports=n();else if(typeof define=="function"&&define.amd)define([],n);else{var t;t=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this;t.Clipboard=n()}})(function(){var n;return function t(n,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!n[f]){if(h=typeof require=="function"&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};n[f][0].call(s.exports,function(t){var i=n[f][1][t];return u(i?i:t)},s,s.exports,t,n,i,r)}return i[f].exports}for(var e=typeof require=="function"&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(n,t){var i=n("matches-selector");t.exports=function(n,t,r){for(var u=r?n:n.parentNode;u&&u!==document;){if(i(u,t))return u;u=u.parentNode}}},{"matches-selector":5}],2:[function(n,t){function r(n,t,i,r,f){var e=u.apply(this,arguments);return n.addEventListener(i,e,f),{destroy:function(){n.removeEventListener(i,e,f)}}}function u(n,t,r,u){return function(r){r.delegateTarget=i(r.target,t,!0);r.delegateTarget&&u.call(n,r)}}var i=n("closest");t.exports=r},{closest:1}],3:[function(n,t,i){i.node=function(n){return n!==undefined&&n instanceof HTMLElement&&n.nodeType===1};i.nodeList=function(n){var t=Object.prototype.toString.call(n);return n!==undefined&&(t==="[object NodeList]"||t==="[object HTMLCollection]")&&"length"in n&&(n.length===0||i.node(n[0]))};i.string=function(n){return typeof n=="string"||n instanceof String};i.fn=function(n){var t=Object.prototype.toString.call(n);return t==="[object Function]"}},{}],4:[function(n,t){function u(n,t,r){if(!n&&!t&&!r)throw new Error("Missing required arguments");if(!i.string(t))throw new TypeError("Second argument must be a String");if(!i.fn(r))throw new TypeError("Third argument must be a Function");if(i.node(n))return f(n,t,r);if(i.nodeList(n))return e(n,t,r);if(i.string(n))return o(n,t,r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");}function f(n,t,i){return n.addEventListener(t,i),{destroy:function(){n.removeEventListener(t,i)}}}function e(n,t,i){return Array.prototype.forEach.call(n,function(n){n.addEventListener(t,i)}),{destroy:function(){Array.prototype.forEach.call(n,function(n){n.removeEventListener(t,i)})}}}function o(n,t,i){return r(document.body,n,t,i)}var i=n("./is"),r=n("delegate");t.exports=u},{"./is":3,delegate:2}],5:[function(n,t){function u(n,t){var u,i;if(r)return r.call(n,t);for(u=n.parentNode.querySelectorAll(t),i=0;i<u.length;++i)if(u[i]==n)return!0;return!1}var i=Element.prototype,r=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;t.exports=u},{}],6:[function(n,t){function i(n){var i,t,r;return n.nodeName==="INPUT"||n.nodeName==="TEXTAREA"?(n.focus(),n.setSelectionRange(0,n.value.length),i=n.value):(n.hasAttribute("contenteditable")&&n.focus(),t=window.getSelection(),r=document.createRange(),r.selectNodeContents(n),t.removeAllRanges(),t.addRange(r),i=t.toString()),i}t.exports=i},{}],7:[function(n,t){function i(){}i.prototype={on:function(n,t,i){var r=this.e||(this.e={});return(r[n]||(r[n]=[])).push({fn:t,ctx:i}),this},once:function(n,t,i){function r(){u.off(n,r);t.apply(i,arguments)}var u=this;r._=t;return this.on(n,r,i)},emit:function(n){var r=[].slice.call(arguments,1),i=((this.e||(this.e={}))[n]||[]).slice(),t=0,u=i.length;for(t;t<u;t++)i[t].fn.apply(i[t].ctx,r);return this},off:function(n,t){var u=this.e||(this.e={}),r=u[n],f=[],i,e;if(r&&t)for(i=0,e=r.length;i<e;i++)r[i].fn!==t&&r[i].fn._!==t&&f.push(r[i]);return f.length?u[n]=f:delete u[n],this}};t.exports=i},{}],8:[function(t,i,r){(function(u,f){if(typeof n=="function"&&n.amd)n(["module","select"],f);else if(typeof r!="undefined")f(i,t("select"));else{var e={exports:{}};f(e,u.select);u.clipboardAction=e.exports}})(this,function(n,t){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var i=r(t),u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol?"symbol":typeof n},e=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),o=function(){function n(t){f(this,n);this.resolveOptions(t);this.initSelection()}return n.prototype.resolveOptions=function(){var n=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.action=n.action;this.emitter=n.emitter;this.target=n.target;this.text=n.text;this.trigger=n.trigger;this.selectedText=""},n.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},n.prototype.selectFake=function(){var n=this,t=document.documentElement.getAttribute("dir")=="rtl";this.removeFake();this.fakeHandler=document.body.addEventListener("click",function(){return n.removeFake()});this.fakeElem=document.createElement("textarea");this.fakeElem.style.fontSize="12pt";this.fakeElem.style.border="0";this.fakeElem.style.padding="0";this.fakeElem.style.margin="0";this.fakeElem.style.position="fixed";this.fakeElem.style[t?"right":"left"]="-9999px";this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px";this.fakeElem.setAttribute("readonly","");this.fakeElem.value=this.text;document.body.appendChild(this.fakeElem);this.selectedText=i.default(this.fakeElem);this.copyText()},n.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click"),this.fakeHandler=null);this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},n.prototype.selectTarget=function(){this.selectedText=i.default(this.target);this.copyText()},n.prototype.copyText=function(){var n=undefined;try{n=document.execCommand(this.action)}catch(t){n=!1}this.handleResult(n)},n.prototype.handleResult=function(n){n?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},n.prototype.clearSelection=function(){this.target&&this.target.blur();window.getSelection().removeAllRanges()},n.prototype.destroy=function(){this.removeFake()},e(n,[{key:"action",set:function(){var n=arguments.length<=0||arguments[0]===undefined?"copy":arguments[0];if(this._action=n,this._action!=="copy"&&this._action!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');},get:function(){return this._action}},{key:"target",set:function(n){if(n!==undefined)if(n&&(typeof n=="undefined"?"undefined":u(n))==="object"&&n.nodeType===1){if(this.action==="copy"&&n.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(this.action==="cut"&&(n.hasAttribute("readonly")||n.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=n}else throw new Error('Invalid "target" value, use a valid Element');},get:function(){return this._target}}]),n}();n.exports=o})},{select:6}],9:[function(t,i,r){(function(u,f){if(typeof n=="function"&&n.amd)n(["module","./clipboard-action","tiny-emitter","good-listener"],f);else if(typeof r!="undefined")f(i,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var e={exports:{}};f(e,u.clipboardAction,u.tinyEmitter,u.goodListener);u.clipboard=e.exports}})(this,function(n,t,i,r){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function h(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function c(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function l(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function f(n,t){var i="data-clipboard-"+n;if(t.hasAttribute(i))return t.getAttribute(i)}var e=u(t),o=u(i),s=u(r),a=function(n){function t(i,r){h(this,t);var u=c(this,n.call(this));return u.resolveOptions(r),u.listenClick(i),u}return l(t,n),t.prototype.resolveOptions=function(){var n=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.action=typeof n.action=="function"?n.action:this.defaultAction;this.target=typeof n.target=="function"?n.target:this.defaultTarget;this.text=typeof n.text=="function"?n.text:this.defaultText},t.prototype.listenClick=function(n){var t=this;this.listener=s.default(n,"click",function(n){return t.onClick(n)})},t.prototype.onClick=function(n){var t=n.delegateTarget||n.currentTarget;this.clipboardAction&&(this.clipboardAction=null);this.clipboardAction=new e.default({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})},t.prototype.defaultAction=function(n){return f("action",n)},t.prototype.defaultTarget=function(n){var t=f("target",n);if(t)return document.querySelector(t)},t.prototype.defaultText=function(n){return f("text",n)},t.prototype.destroy=function(){this.listener.destroy();this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},t}(o.default);n.exports=a})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)});
(function e(n,t,i){function r(u,e){var s,h,o;if(!t[u]){if(!n[u]){if(s=typeof require=="function"&&require,!e&&s)return s(u,!0);if(f)return f(u,!0);h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h;}o=t[u]={exports:{}};n[u][0].call(o.exports,function(t){var i=n[u][1][t];return r(i?i:t)},o,o.exports,e,n,t,i)}return t[u].exports}for(var f=typeof require=="function"&&require,u=0;u<i.length;u++)r(i[u]);return r})({1:[function(n,t){function i(n,t,i){function s(n){return n>=200&&n<300||n===304}function o(){r.status===undefined||s(r.status)?t.call(r,null,r):t.call(r,r,null)}var e=!1,u,r,f;return typeof XMLHttpRequest=="undefined"?t(Error("Browser not supported")):(typeof i=="undefined"&&(u=n.match(/^\s*https?:\/\/[^\/]*/),i=u&&u[0]!==location.protocol+"//"+location.domain+(location.port?":"+location.port:"")),r=new window.XMLHttpRequest,!i||"withCredentials"in r||(r=new window.XDomainRequest,f=t,t=function(){if(e)f.apply(this,arguments);else{var n=this,t=arguments;setTimeout(function(){f.apply(n,t)},0)}}),"onload"in r?r.onload=o:r.onreadystatechange=function(){r.readyState===4&&o()},r.onerror=function(n){t.call(this,n||!0,null);t=function(){}},r.onprogress=function(){},r.ontimeout=function(n){t.call(this,n,null);t=function(){}},r.onabort=function(n){t.call(this,n,null);t=function(){}},r.open("GET",n,!0),r.send(null),e=!0,r)}typeof t!="undefined"&&(t.exports=i)},{}],2:[function(n,t){(function(n,i,r){var o=n.L,u={},f,e;u.version="0.7.2";typeof t=="object"&&typeof t.exports=="object"?t.exports=u:typeof define=="function"&&define.amd&&define(u);u.noConflict=function(){return n.L=o,this};n.L=u;u.Util={extend:function(n){for(var u=Array.prototype.slice.call(arguments,1),t,r,i=0,f=u.length;i<f;i++){r=u[i]||{};for(t in r)r.hasOwnProperty(t)&&(n[t]=r[t])}return n},bind:function(n,t){var i=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return n.apply(t,i||arguments)}},stamp:function(){var t=0,n="_leaflet_id";return function(i){return i[n]=i[n]||++t,i[n]}}(),invokeEach:function(n,t,i){var r,u;if(typeof n=="object"){u=Array.prototype.slice.call(arguments,3);for(r in n)t.apply(i,[r,n[r]].concat(u));return!0}return!1},limitExecByInterval:function(n,t,i){var r,u;return function f(){var e=arguments;if(r){u=!0;return}r=!0;setTimeout(function(){r=!1;u&&(f.apply(i,e),u=!1)},t);n.apply(i,e)}},falseFn:function(){return!1},formatNum:function(n,t){var i=Math.pow(10,t||5);return Math.round(n*i)/i},trim:function(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")},splitWords:function(n){return u.Util.trim(n).split(/\s+/)},setOptions:function(n,t){return n.options=u.extend({},n.options,t),n.options},getParamString:function(n,t,i){var u=[];for(var r in n)u.push(encodeURIComponent(i?r.toUpperCase():r)+"="+encodeURIComponent(n[r]));return(!t||t.indexOf("?")===-1?"?":"&")+u.join("&")},template:function(n,t){return n.replace(/\{ *([\w_]+) *\}/g,function(n,i){var u=t[i];if(u===r)throw new Error("No value provided for variable "+n);else typeof u=="function"&&(u=u(t));return u})},isArray:Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function t(t){for(var r,u=["webkit","moz","o","ms"],i=0;i<u.length&&!r;i++)r=n[u[i]+t];return r}function r(t){var r=+new Date,u=Math.max(0,16-(r-i));return i=r+u,n.setTimeout(t,u)}var i=0,f=n.requestAnimationFrame||t("RequestAnimationFrame")||r,e=n.cancelAnimationFrame||t("CancelAnimationFrame")||t("CancelRequestAnimationFrame")||function(t){n.clearTimeout(t)};u.Util.requestAnimFrame=function(t,i,e,o){if(t=u.bind(t,i),e&&f===r)t();else return f.call(n,t,o)};u.Util.cancelAnimFrame=function(t){t&&e.call(n,t)}}();u.extend=u.Util.extend;u.bind=u.Util.bind;u.stamp=u.Util.stamp;u.setOptions=u.Util.setOptions;u.Class=function(){};u.Class.extend=function(n){var i=function(){this.initialize&&this.initialize.apply(this,arguments);this._initHooks&&this.callInitHooks()},e=function(){},t,r,f;e.prototype=this.prototype;t=new e;t.constructor=i;i.prototype=t;for(r in this)this.hasOwnProperty(r)&&r!=="prototype"&&(i[r]=this[r]);return n.statics&&(u.extend(i,n.statics),delete n.statics),n.includes&&(u.Util.extend.apply(null,[t].concat(n.includes)),delete n.includes),n.options&&t.options&&(n.options=u.extend({},t.options,n.options)),u.extend(t,n),t._initHooks=[],f=this,i.__super__=f.prototype,t.callInitHooks=function(){if(!this._initHooksCalled){f.prototype.callInitHooks&&f.prototype.callInitHooks.call(this);this._initHooksCalled=!0;for(var n=0,i=t._initHooks.length;n<i;n++)t._initHooks[n].call(this)}},i};u.Class.include=function(n){u.extend(this.prototype,n)};u.Class.mergeOptions=function(n){u.extend(this.prototype.options,n)};u.Class.addInitHook=function(n){var t=Array.prototype.slice.call(arguments,1),i=typeof n=="function"?n:function(){this[n].apply(this,t)};this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push(i)};f="_leaflet_events";u.Mixin={};u.Mixin.Events={addEventListener:function(n,t,i){if(u.Util.invokeEach(n,this.addEventListener,this,t,i))return this;var r=this[f]=this[f]||{},o=i&&i!==this&&u.stamp(i),s,v,l,e,h,a,c;for(n=u.Util.splitWords(n),s=0,v=n.length;s<v;s++)l={action:t,context:i||this},e=n[s],o?(h=e+"_idx",a=h+"_len",c=r[h]=r[h]||{},c[o]||(c[o]=[],r[a]=(r[a]||0)+1),c[o].push(l)):(r[e]=r[e]||[],r[e].push(l));return this},hasEventListeners:function(n){var t=this[f];return!!t&&(n in t&&t[n].length>0||n+"_idx"in t&&t[n+"_idx_len"]>0)},removeEventListener:function(n,t,i){if(!this[f])return this;if(!n)return this.clearAllEventListeners();if(u.Util.invokeEach(n,this.removeEventListener,this,t,i))return this;var e=this[f],a=i&&i!==this&&u.stamp(i),h,y,c,r,o,l,v,s,p;for(n=u.Util.splitWords(n),h=0,y=n.length;h<y;h++)if(c=n[h],l=c+"_idx",v=l+"_len",s=e[l],t){if(r=a&&s?s[a]:e[c],r){for(o=r.length-1;o>=0;o--)r[o].action!==t||i&&r[o].context!==i||(p=r.splice(o,1),p[0].action=u.Util.falseFn);i&&s&&r.length===0&&(delete s[a],e[v]--)}}else delete e[c],delete e[l],delete e[v];return this},clearAllEventListeners:function(){return delete this[f],this},fireEvent:function(n,t){if(!this.hasEventListeners(n))return this;var h=u.Util.extend({},t,{type:n,target:this}),o=this[f],r,i,e,s,c;if(o[n])for(r=o[n].slice(),i=0,e=r.length;i<e;i++)r[i].action.call(r[i].context,h);s=o[n+"_idx"];for(c in s)if(r=s[c].slice(),r)for(i=0,e=r.length;i<e;i++)r[i].action.call(r[i].context,h);return this},addOneTimeEventListener:function(n,t,i){if(u.Util.invokeEach(n,this.addOneTimeEventListener,this,t,i))return this;var r=u.bind(function(){this.removeEventListener(n,t,i).removeEventListener(n,r,i)},this);return this.addEventListener(n,t,i).addEventListener(n,r,i)}};u.Mixin.Events.on=u.Mixin.Events.addEventListener;u.Mixin.Events.off=u.Mixin.Events.removeEventListener;u.Mixin.Events.once=u.Mixin.Events.addOneTimeEventListener;u.Mixin.Events.fire=u.Mixin.Events.fireEvent,function(){var f="ActiveXObject"in n,b=f&&!i.addEventListener,t=navigator.userAgent.toLowerCase(),s=t.indexOf("webkit")!==-1,k=t.indexOf("chrome")!==-1,c=t.indexOf("phantom")!==-1,d=t.indexOf("android")!==-1,l=t.search("android [23]")!==-1,g=t.indexOf("gecko")!==-1,e=typeof orientation!=r+"",a=n.navigator&&n.navigator.msPointerEnabled&&n.navigator.msMaxTouchPoints&&!n.PointerEvent,v=n.PointerEvent&&n.navigator.pointerEnabled&&n.navigator.maxTouchPoints||a,nt="devicePixelRatio"in n&&n.devicePixelRatio>1||"matchMedia"in n&&n.matchMedia("(min-resolution:144dpi)")&&n.matchMedia("(min-resolution:144dpi)").matches,o=i.documentElement,y=f&&"transition"in o.style,h="WebKitCSSMatrix"in n&&"m11"in new n.WebKitCSSMatrix&&!l,p="MozPerspective"in o.style,w="OTransition"in o.style,tt=!n.L_DISABLE_3D&&(y||h||p||w)&&!c,it=!n.L_NO_TOUCH&&!c&&function(){var t="ontouchstart",n,r;return v||t in o?!0:(n=i.createElement("div"),r=!1,!n.setAttribute)?!1:(n.setAttribute(t,"return;"),typeof n[t]=="function"&&(r=!0),n.removeAttribute(t),n=null,r)}();u.Browser={ie:f,ielt9:b,webkit:s,gecko:g&&!s&&!n.opera&&!f,android:d,android23:l,chrome:k,ie3d:y,webkit3d:h,gecko3d:p,opera3d:w,any3d:tt,mobile:e,mobileWebkit:e&&s,mobileWebkit3d:e&&h,mobileOpera:e&&n.opera,touch:it,msPointer:a,pointer:v,retina:nt}}();u.Point=function(n,t,i){this.x=i?Math.round(n):n;this.y=i?Math.round(t):t};u.Point.prototype={clone:function(){return new u.Point(this.x,this.y)},add:function(n){return this.clone()._add(u.point(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(u.point(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(n){n=u.point(n);var t=n.x-this.x,i=n.y-this.y;return Math.sqrt(t*t+i*i)},equals:function(n){return n=u.point(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=u.point(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+u.Util.formatNum(this.x)+", "+u.Util.formatNum(this.y)+")"}};u.point=function(n,t,i){return n instanceof u.Point?n:u.Util.isArray(n)?new u.Point(n[0],n[1]):n===r||n===null?n:new u.Point(n,t,i)};u.Bounds=function(n,t){var r,i,u;if(n)for(r=t?[n,t]:n,i=0,u=r.length;i<u;i++)this.extend(r[i])};u.Bounds.prototype={extend:function(n){return n=u.point(n),this.min||this.max?(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=n.clone(),this.max=n.clone()),this},getCenter:function(n){return new u.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return new u.Point(this.min.x,this.max.y)},getTopRight:function(){return new u.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var t,i;return n=typeof n[0]=="number"||n instanceof u.Point?u.point(n):u.bounds(n),n instanceof u.Bounds?(t=n.min,i=n.max):t=i=n,t.x>=this.min.x&&i.x<=this.max.x&&t.y>=this.min.y&&i.y<=this.max.y},intersects:function(n){n=u.bounds(n);var t=this.min,i=this.max,r=n.min,f=n.max,e=f.x>=t.x&&r.x<=i.x,o=f.y>=t.y&&r.y<=i.y;return e&&o},isValid:function(){return!!(this.min&&this.max)}};u.bounds=function(n,t){return!n||n instanceof u.Bounds?n:new u.Bounds(n,t)};u.Transformation=function(n,t,i,r){this._a=n;this._b=t;this._c=i;this._d=r};u.Transformation.prototype={transform:function(n,t){return this._transform(n.clone(),t)},_transform:function(n,t){return t=t||1,n.x=t*(this._a*n.x+this._b),n.y=t*(this._c*n.y+this._d),n},untransform:function(n,t){return t=t||1,new u.Point((n.x/t-this._b)/this._a,(n.y/t-this._d)/this._c)}};u.DomUtil={get:function(n){return typeof n=="string"?i.getElementById(n):n},getStyle:function(n,t){var r=n.style[t],u;return!r&&n.currentStyle&&(r=n.currentStyle[t]),(!r||r==="auto")&&i.defaultView&&(u=i.defaultView.getComputedStyle(n,null),r=u?u[t]:null),r==="auto"?null:r},getViewportOffset:function(n){var r=0,f=0,t=n,e=i.body,s=i.documentElement,o;do{if(r+=t.offsetTop||0,f+=t.offsetLeft||0,r+=parseInt(u.DomUtil.getStyle(t,"borderTopWidth"),10)||0,f+=parseInt(u.DomUtil.getStyle(t,"borderLeftWidth"),10)||0,o=u.DomUtil.getStyle(t,"position"),t.offsetParent===e&&o==="absolute")break;if(o==="fixed"){r+=e.scrollTop||s.scrollTop||0;f+=e.scrollLeft||s.scrollLeft||0;break}if(o==="relative"&&!t.offsetLeft){var c=u.DomUtil.getStyle(t,"width"),l=u.DomUtil.getStyle(t,"max-width"),h=t.getBoundingClientRect();(c!=="none"||l!=="none")&&(f+=h.left+t.clientLeft);r+=h.top+(e.scrollTop||s.scrollTop||0);break}t=t.offsetParent}while(t);t=n;do{if(t===e)break;r-=t.scrollTop||0;f-=t.scrollLeft||0;t=t.parentNode}while(t);return new u.Point(f,r)},documentIsLtr:function(){return u.DomUtil._docIsLtrCached||(u.DomUtil._docIsLtrCached=!0,u.DomUtil._docIsLtr=u.DomUtil.getStyle(i.body,"direction")==="ltr"),u.DomUtil._docIsLtr},create:function(n,t,r){var u=i.createElement(n);return u.className=t,r&&r.appendChild(u),u},hasClass:function(n,t){if(n.classList!==r)return n.classList.contains(t);var i=u.DomUtil._getClass(n);return i.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(i)},addClass:function(n,t){var f,i,o,e;if(n.classList!==r)for(f=u.Util.splitWords(t),i=0,o=f.length;i<o;i++)n.classList.add(f[i]);else u.DomUtil.hasClass(n,t)||(e=u.DomUtil._getClass(n),u.DomUtil._setClass(n,(e?e+" ":"")+t))},removeClass:function(n,t){n.classList!==r?n.classList.remove(t):u.DomUtil._setClass(n,u.Util.trim((" "+u.DomUtil._getClass(n)+" ").replace(" "+t+" "," ")))},_setClass:function(n,t){n.className.baseVal===r?n.className=t:n.className.baseVal=t},_getClass:function(n){return n.className.baseVal===r?n.className:n.className.baseVal},setOpacity:function(n,t){if("opacity"in n.style)n.style.opacity=t;else if("filter"in n.style){var i=!1,r="DXImageTransform.Microsoft.Alpha";try{i=n.filters.item(r)}catch(u){if(t===1)return}t=Math.round(t*100);i?(i.Enabled=t!==100,i.Opacity=t):n.style.filter+=" progid:"+r+"(opacity="+t+")"}},testProp:function(n){for(var r=i.documentElement.style,t=0;t<n.length;t++)if(n[t]in r)return n[t];return!1},getTranslateString:function(n){var t=u.Browser.webkit3d,i="translate"+(t?"3d":"")+"(",r=(t?",0":"")+")";return i+n.x+"px,"+n.y+"px"+r},getScaleString:function(n,t){var i=u.DomUtil.getTranslateString(t.add(t.multiplyBy(-1*n))),r=" scale("+n+") ";return i+r},setPosition:function(n,t,i){n._leaflet_pos=t;!i&&u.Browser.any3d?n.style[u.DomUtil.TRANSFORM]=u.DomUtil.getTranslateString(t):(n.style.left=t.x+"px",n.style.top=t.y+"px")},getPosition:function(n){return n._leaflet_pos}};u.DomUtil.TRANSFORM=u.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);u.DomUtil.TRANSITION=u.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);u.DomUtil.TRANSITION_END=u.DomUtil.TRANSITION==="webkitTransition"||u.DomUtil.TRANSITION==="OTransition"?u.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart"in i)u.extend(u.DomUtil,{disableTextSelection:function(){u.DomEvent.on(n,"selectstart",u.DomEvent.preventDefault)},enableTextSelection:function(){u.DomEvent.off(n,"selectstart",u.DomEvent.preventDefault)}});else{var t=u.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);u.extend(u.DomUtil,{disableTextSelection:function(){if(t){var n=i.documentElement.style;this._userSelect=n[t];n[t]="none"}},enableTextSelection:function(){t&&(i.documentElement.style[t]=this._userSelect,delete this._userSelect)}})}u.extend(u.DomUtil,{disableImageDrag:function(){u.DomEvent.on(n,"dragstart",u.DomEvent.preventDefault)},enableImageDrag:function(){u.DomEvent.off(n,"dragstart",u.DomEvent.preventDefault)}})}();u.LatLng=function(n,t,i){if(n=parseFloat(n),t=parseFloat(t),isNaN(n)||isNaN(t))throw new Error("Invalid LatLng object: ("+n+", "+t+")");this.lat=n;this.lng=t;i!==r&&(this.alt=parseFloat(i))};u.extend(u.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9});u.LatLng.prototype={equals:function(n){if(!n)return!1;n=u.latLng(n);var t=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return t<=u.LatLng.MAX_MARGIN},toString:function(n){return"LatLng("+u.Util.formatNum(this.lat,n)+", "+u.Util.formatNum(this.lng,n)+")"},distanceTo:function(n){n=u.latLng(n);var t=u.LatLng.DEG_TO_RAD,e=(n.lat-this.lat)*t,o=(n.lng-this.lng)*t,s=this.lat*t,h=n.lat*t,i=Math.sin(e/2),r=Math.sin(o/2),f=i*i+r*r*Math.cos(s)*Math.cos(h);return 12756274*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))},wrap:function(n,t){var i=this.lng;return n=n||-180,t=t||180,i=(i+t)%(t-n)+(i<n||i===t?t:n),new u.LatLng(this.lat,i)}};u.latLng=function(n,t){return n instanceof u.LatLng?n:u.Util.isArray(n)?typeof n[0]=="number"||typeof n[0]=="string"?new u.LatLng(n[0],n[1],n[2]):null:n===r||n===null?n:typeof n=="object"&&"lat"in n?new u.LatLng(n.lat,"lng"in n?n.lng:n.lon):t===r?null:new u.LatLng(n,t)};u.LatLngBounds=function(n,t){var r,i,u;if(n)for(r=t?[n,t]:n,i=0,u=r.length;i<u;i++)this.extend(r[i])};u.LatLngBounds.prototype={extend:function(n){if(!n)return this;var t=u.latLng(n);return n=t!==null?t:u.latLngBounds(n),n instanceof u.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(n.lat,this._southWest.lat),this._southWest.lng=Math.min(n.lng,this._southWest.lng),this._northEast.lat=Math.max(n.lat,this._northEast.lat),this._northEast.lng=Math.max(n.lng,this._northEast.lng)):(this._southWest=new u.LatLng(n.lat,n.lng),this._northEast=new u.LatLng(n.lat,n.lng)):n instanceof u.LatLngBounds&&(this.extend(n._southWest),this.extend(n._northEast)),this},pad:function(n){var t=this._southWest,i=this._northEast,r=Math.abs(t.lat-i.lat)*n,f=Math.abs(t.lng-i.lng)*n;return new u.LatLngBounds(new u.LatLng(t.lat-r,t.lng-f),new u.LatLng(i.lat+r,i.lng+f))},getCenter:function(){return new u.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new u.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new u.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){n=typeof n[0]=="number"||n instanceof u.LatLng?u.latLng(n):u.latLngBounds(n);var r=this._southWest,f=this._northEast,t,i;return n instanceof u.LatLngBounds?(t=n.getSouthWest(),i=n.getNorthEast()):t=i=n,t.lat>=r.lat&&i.lat<=f.lat&&t.lng>=r.lng&&i.lng<=f.lng},intersects:function(n){n=u.latLngBounds(n);var t=this._southWest,i=this._northEast,r=n.getSouthWest(),f=n.getNorthEast(),e=f.lat>=t.lat&&r.lat<=i.lat,o=f.lng>=t.lng&&r.lng<=i.lng;return e&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n){return n?(n=u.latLngBounds(n),this._southWest.equals(n.getSouthWest())&&this._northEast.equals(n.getNorthEast())):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};u.latLngBounds=function(n,t){return!n||n instanceof u.LatLngBounds?n:new u.LatLngBounds(n,t)};u.Projection={};u.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(n){var i=u.LatLng.DEG_TO_RAD,r=this.MAX_LATITUDE,f=Math.max(Math.min(r,n.lat),-r),e=n.lng*i,t=f*i;return t=Math.log(Math.tan(Math.PI/4+t/2)),new u.Point(e,t)},unproject:function(n){var t=u.LatLng.RAD_TO_DEG,i=n.x*t,r=(2*Math.atan(Math.exp(n.y))-Math.PI/2)*t;return new u.LatLng(r,i)}};u.Projection.LonLat={project:function(n){return new u.Point(n.lng,n.lat)},unproject:function(n){return new u.LatLng(n.y,n.x)}};u.CRS={latLngToPoint:function(n,t){var i=this.projection.project(n),r=this.scale(t);return this.transformation._transform(i,r)},pointToLatLng:function(n,t){var i=this.scale(t),r=this.transformation.untransform(n,i);return this.projection.unproject(r)},project:function(n){return this.projection.project(n)},scale:function(n){return 256*Math.pow(2,n)},getSize:function(n){var t=this.scale(n);return u.point(t,t)}};u.CRS.Simple=u.extend({},u.CRS,{projection:u.Projection.LonLat,transformation:new u.Transformation(1,0,-1,0),scale:function(n){return Math.pow(2,n)}});u.CRS.EPSG3857=u.extend({},u.CRS,{code:"EPSG:3857",projection:u.Projection.SphericalMercator,transformation:new u.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(n){var t=this.projection.project(n);return t.multiplyBy(6378137)}});u.CRS.EPSG900913=u.extend({},u.CRS.EPSG3857,{code:"EPSG:900913"});u.CRS.EPSG4326=u.extend({},u.CRS,{code:"EPSG:4326",projection:u.Projection.LonLat,transformation:new u.Transformation(1/360,.5,-1/360,.5)});u.Map=u.Class.extend({includes:u.Mixin.Events,options:{crs:u.CRS.EPSG3857,fadeAnimation:u.DomUtil.TRANSITION&&!u.Browser.android23,trackResize:!0,markerZoomAnimation:u.DomUtil.TRANSITION&&u.Browser.any3d},initialize:function(n,t){t=u.setOptions(this,t);this._initContainer(n);this._initLayout();this._onResize=u.bind(this._onResize,this);this._initEvents();t.maxBounds&&this.setMaxBounds(t.maxBounds);t.center&&t.zoom!==r&&this.setView(u.latLng(t.center),t.zoom,{reset:!0});this._handlers=[];this._layers={};this._zoomBoundLayers={};this._tileLayersNum=0;this.callInitHooks();this._addLayers(t.layers)},setView:function(n,t){return t=t===r?this.getZoom():t,this._resetView(u.latLng(n),this._limitZoom(t)),this},setZoom:function(n,t){return this._loaded?this.setView(this.getCenter(),n,{zoom:t}):(this._zoom=this._limitZoom(n),this)},zoomIn:function(n,t){return this.setZoom(this._zoom+(n||1),t)},zoomOut:function(n,t){return this.setZoom(this._zoom-(n||1),t)},setZoomAround:function(n,t,i){var f=this.getZoomScale(t),r=this.getSize().divideBy(2),e=n instanceof u.Point?n:this.latLngToContainerPoint(n),o=e.subtract(r).multiplyBy(1-1/f),s=this.containerPointToLatLng(r.add(o));return this.setView(s,t,{zoom:i})},fitBounds:function(n,t){t=t||{};n=n.getBounds?n.getBounds():u.latLngBounds(n);var r=u.point(t.paddingTopLeft||t.padding||[0,0]),f=u.point(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(n,!1,r.add(f)),e=f.subtract(r).divideBy(2),o=this.project(n.getSouthWest(),i),s=this.project(n.getNorthEast(),i),h=this.unproject(o.add(s).divideBy(2).add(e),i);return i=t&&t.maxZoom?Math.min(t.maxZoom,i):i,this.setView(h,i,t)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,t){return this.setView(n,this._zoom,{pan:t})},panBy:function(n){return this.fire("movestart"),this._rawPanBy(u.point(n)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(n){if(n=u.latLngBounds(n),this.options.maxBounds=n,!n)return this.off("moveend",this._panInsideMaxBounds,this);this._loaded&&this._panInsideMaxBounds();return this.on("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(n,t){var i=this.getCenter(),r=this._limitCenter(i,this._zoom,n);return i.equals(r)?this:this.panTo(r,t)},addLayer:function(n){var t=u.stamp(n);if(this._layers[t])return this;if(this._layers[t]=n,!n.options||isNaN(n.options.maxZoom)&&isNaN(n.options.minZoom)||(this._zoomBoundLayers[t]=n,this._updateZoomLevels()),this.options.zoomAnimation&&u.TileLayer&&n instanceof u.TileLayer){this._tileLayersNum++;this._tileLayersToLoad++;n.on("load",this._onTileLayerLoad,this)}return this._loaded&&this._layerAdd(n),this},removeLayer:function(n){var t=u.stamp(n);if(!this._layers[t])return this;if(this._loaded)n.onRemove(this);return delete this._layers[t],this._loaded&&this.fire("layerremove",{layer:n}),this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels()),this.options.zoomAnimation&&u.TileLayer&&n instanceof u.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,n.off("load",this._onTileLayerLoad,this)),this},hasLayer:function(n){return n?u.stamp(n)in this._layers:!1},eachLayer:function(n,t){for(var i in this._layers)n.call(t,this._layers[i]);return this},invalidateSize:function(n){var i;if(!this._loaded)return this;n=u.extend({animate:!1,pan:!0},n===!0?{animate:!0}:n);i=this.getSize();this._sizeChanged=!0;this._initialCenter=null;var r=this.getSize(),f=i.divideBy(2).round(),e=r.divideBy(2).round(),t=f.subtract(e);return!t.x&&!t.y?this:(n.animate&&n.pan?this.panBy(t):(n.pan&&this._rawPanBy(t),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:r}))},addHandler:function(n,t){if(!t)return this;var i=this[n]=new t(this);return this._handlers.push(i),this.options[n]&&i.enable(),this},remove:function(){this._loaded&&this.fire("unload");this._initEvents("off");try{delete this._container._leaflet}catch(n){this._container._leaflet=r}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return(this._checkIfLoaded(),this._initialCenter&&!this._moved())?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),t=this.unproject(n.getBottomLeft()),i=this.unproject(n.getTopRight());return new u.LatLngBounds(t,i)},getMinZoom:function(){return this.options.minZoom===r?this._layersMinZoom===r?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===r?this._layersMaxZoom===r?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,t,i){n=u.latLngBounds(n);var r=this.getMinZoom()-(t?1:0),s=this.getMaxZoom(),e=this.getSize(),h=n.getNorthWest(),c=n.getSouthEast(),o=!0,f;i=u.point(i||[0,0]);do r++,f=this.project(c,r).subtract(this.project(h,r)).add(i),o=t?f.x<e.x||f.y<e.y:e.contains(f);while(o&&r<=s);return o&&t?null:t?r:r-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new u.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var n=this._getTopLeftPoint();return new u.Bounds(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n){var t=this.options.crs;return t.scale(n)/t.scale(this._zoom)},getScaleZoom:function(n){return this._zoom+Math.log(n)/Math.LN2},project:function(n,t){return t=t===r?this._zoom:t,this.options.crs.latLngToPoint(u.latLng(n),t)},unproject:function(n,t){return t=t===r?this._zoom:t,this.options.crs.pointToLatLng(u.point(n),t)},layerPointToLatLng:function(n){var t=u.point(n).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(n){var t=this.project(u.latLng(n))._round();return t._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(n){return u.point(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return u.point(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var t=this.containerPointToLayerPoint(u.point(n));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(u.latLng(n)))},mouseEventToContainerPoint:function(n){return u.DomEvent.getMousePosition(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var t=this._container=u.DomUtil.get(n);if(t){if(t._leaflet)throw new Error("Map container is already initialized.");}else throw new Error("Map container not found.");t._leaflet=!0},_initLayout:function(){var t=this._container,n;u.DomUtil.addClass(t,"leaflet-container"+(u.Browser.touch?" leaflet-touch":"")+(u.Browser.retina?" leaflet-retina":"")+(u.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));n=u.DomUtil.getStyle(t,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&(t.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={},t;this._mapPane=n.mapPane=this._createPane("leaflet-map-pane",this._container);this._tilePane=n.tilePane=this._createPane("leaflet-tile-pane",this._mapPane);n.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane);n.shadowPane=this._createPane("leaflet-shadow-pane");n.overlayPane=this._createPane("leaflet-overlay-pane");n.markerPane=this._createPane("leaflet-marker-pane");n.popupPane=this._createPane("leaflet-popup-pane");t=" leaflet-zoom-hide";this.options.markerZoomAnimation||(u.DomUtil.addClass(n.markerPane,t),u.DomUtil.addClass(n.shadowPane,t),u.DomUtil.addClass(n.popupPane,t))},_createPane:function(n,t){return u.DomUtil.create("div",n,t||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(n){n=n?u.Util.isArray(n)?n:[n]:[];for(var t=0,i=n.length;t<i;t++)this.addLayer(n[t])},_resetView:function(n,t,i,r){var f=this._zoom!==t,e;r||(this.fire("movestart"),f&&this.fire("zoomstart"));this._zoom=t;this._initialCenter=n;this._initialTopLeftPoint=this._getNewTopLeftPoint(n);i?this._initialTopLeftPoint._add(this._getMapPanePos()):u.DomUtil.setPosition(this._mapPane,new u.Point(0,0));this._tileLayersToLoad=this._tileLayersNum;e=!this._loaded;this._loaded=!0;this.fire("viewreset",{hard:!i});e&&(this.fire("load"),this.eachLayer(this._layerAdd,this));this.fire("move");(f||r)&&this.fire("zoomend");this.fire("moveend",{hard:!i})},_rawPanBy:function(n){u.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var t,i=Infinity,u=-Infinity,f=this._getZoomSpan(),n;for(t in this._zoomBoundLayers)n=this._zoomBoundLayers[t],isNaN(n.options.minZoom)||(i=Math.min(i,n.options.minZoom)),isNaN(n.options.maxZoom)||(u=Math.max(u,n.options.maxZoom));t===r?this._layersMaxZoom=this._layersMinZoom=r:(this._layersMaxZoom=u,this._layersMinZoom=i);f!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.");},_initEvents:function(t){if(u.DomEvent){t=t||"on";u.DomEvent[t](this._container,"click",this._onMouseClick,this);for(var r=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"],i=0,f=r.length;i<f;i++)u.DomEvent[t](this._container,r[i],this._fireMouseEvent,this);this.options.trackResize&&u.DomEvent[t](n,"resize",this._onResize,this)}},_onResize:function(){u.Util.cancelAnimFrame(this._resizeRequest);this._resizeRequest=u.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(n){!this._loaded||!n._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||u.DomEvent._skipped(n)||(this.fire("preclick"),this._fireMouseEvent(n))},_fireMouseEvent:function(n){var t;if(this._loaded&&!u.DomEvent._skipped(n)&&(t=n.type,t=t==="mouseenter"?"mouseover":t==="mouseleave"?"mouseout":t,this.hasEventListeners(t))){t==="contextmenu"&&u.DomEvent.preventDefault(n);var i=this.mouseEventToContainerPoint(n),r=this.containerPointToLayerPoint(i),f=this.layerPointToLatLng(r);this.fire(t,{latlng:f,layerPoint:r,containerPoint:i,originalEvent:n})}},_onTileLayerLoad:function(){this._tileLayersToLoad--;this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var n=0,t=this._handlers.length;n<t;n++)this._handlers[n].disable()},whenReady:function(n,t){if(this._loaded)n.call(t||this,this);else this.on("load",n,t);return this},_layerAdd:function(n){n.onAdd(this);this.fire("layeradd",{layer:n})},_getMapPanePos:function(){return u.DomUtil.getPosition(this._mapPane)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(n,t){var i=this.getSize()._divideBy(2);return this.project(n,t)._subtract(i)._round()},_latLngToNewLayerPoint:function(n,t,i){var r=this._getNewTopLeftPoint(i,t).add(this._getMapPanePos());return this.project(n,t)._subtract(r)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,t,i){if(!i)return n;var r=this.project(n,t),f=this.getSize().divideBy(2),e=new u.Bounds(r.subtract(f),r.add(f)),o=this._getBoundsOffset(e,i,t);return this.unproject(r.add(o),t)},_limitOffset:function(n,t){if(!t)return n;var i=this.getPixelBounds(),r=new u.Bounds(i.min.add(n),i.max.add(n));return n.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(n,t,i){var r=this.project(t.getNorthWest(),i).subtract(n.min),f=this.project(t.getSouthEast(),i).subtract(n.max),e=this._rebound(r.x,-f.x),o=this._rebound(r.y,-f.y);return new u.Point(e,o)},_rebound:function(n,t){return n+t>0?Math.round(n-t)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(t))},_limitZoom:function(n){var t=this.getMinZoom(),i=this.getMaxZoom();return Math.max(t,Math.min(i,n))}});u.map=function(n,t){return new u.Map(n,t)};u.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.3142451793,R_MAJOR:6378137,project:function(n){var f=u.LatLng.DEG_TO_RAD,e=this.MAX_LATITUDE,c=Math.max(Math.min(e,n.lat),-e),r=this.R_MAJOR,l=this.R_MINOR,a=n.lng*f*r,t=c*f,o=l/r,s=Math.sqrt(1-o*o),i=s*Math.sin(t),h;return i=Math.pow((1-i)/(1+i),s*.5),h=Math.tan(.5*(Math.PI*.5-t))/i,t=-r*Math.log(h),new u.Point(a,t)},unproject:function(n){for(var e=u.LatLng.RAD_TO_DEG,i=this.R_MAJOR,c=this.R_MINOR,l=n.x*e/i,o=c/i,s=Math.sqrt(1-o*o),h=Math.exp(-n.y/i),t=Math.PI/2-2*Math.atan(h),a=15,r=.1,f;Math.abs(r)>1e-7&&--a>0;)f=s*Math.sin(t),r=Math.PI/2-2*Math.atan(h*Math.pow((1-f)/(1+f),.5*s))-t,t+=r;return new u.LatLng(t*e,l)}};u.CRS.EPSG3395=u.extend({},u.CRS,{code:"EPSG:3395",projection:u.Projection.Mercator,transformation:function(){var t=u.Projection.Mercator,i=t.R_MAJOR,n=.5/(Math.PI*i);return new u.Transformation(n,.5,-n,.5)}()});u.TileLayer=u.Class.extend({includes:u.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:u.Browser.mobile,updateWhenIdle:u.Browser.mobile},initialize:function(n,t){t=u.setOptions(this,t);t.detectRetina&&u.Browser.retina&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomOffset++,t.minZoom>0&&t.minZoom--,this.options.maxZoom--);t.bounds&&(t.bounds=u.latLngBounds(t.bounds));this._url=n;var i=this.options.subdomains;typeof i=="string"&&(this.options.subdomains=i.split(""))},onAdd:function(n){this._map=n;this._animated=n._zoomAnimated;this._initContainer();n.on({viewreset:this._reset,moveend:this._update},this);if(this._animated)n.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this);if(!this.options.updateWhenIdle){this._limitedUpdate=u.Util.limitExecByInterval(this._update,150,this);n.on("move",this._limitedUpdate,this)}this._reset();this._update()},addTo:function(n){return n.addLayer(this),this},onRemove:function(n){this._container.parentNode.removeChild(this._container);n.off({viewreset:this._reset,moveend:this._update},this);this._animated&&n.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this);this.options.updateWhenIdle||n.off("move",this._limitedUpdate,this);this._container=null;this._map=null},bringToFront:function(){var n=this._map._panes.tilePane;return this._container&&(n.appendChild(this._container),this._setAutoZIndex(n,Math.max)),this},bringToBack:function(){var n=this._map._panes.tilePane;return this._container&&(n.insertBefore(this._container,n.firstChild),this._setAutoZIndex(n,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},setUrl:function(n,t){return this._url=n,t||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==r&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n,t){for(var u=n.children,r=-t(Infinity,-Infinity),f,i=0,e=u.length;i<e;i++)u[i]!==this._container&&(f=parseInt(u[i].style.zIndex,10),isNaN(f)||(r=t(r,f)));this.options.zIndex=this._container.style.zIndex=(isFinite(r)?r:0)+t(1,-1)},_updateOpacity:function(){var n,t=this._tiles;if(u.Browser.ielt9)for(n in t)u.DomUtil.setOpacity(t[n],this.options.opacity);else u.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var t=this._map._panes.tilePane,n;this._container||(this._container=u.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated?(n="leaflet-tile-container",this._bgBuffer=u.DomUtil.create("div",n,this._container),this._tileContainer=u.DomUtil.create("div",n,this._container)):this._tileContainer=this._container,t.appendChild(this._container),this.options.opacity<1&&this._updateOpacity())},_reset:function(n){for(var t in this._tiles)this.fire("tileunload",{tile:this._tiles[t]});this._tiles={};this._tilesToLoad=0;this.options.reuseTiles&&(this._unusedTiles=[]);this._tileContainer.innerHTML="";this._animated&&n&&n.hard&&this._clearBgBuffer();this._initContainer()},_getTileSize:function(){var n=this._map,r=n.getZoom()+this.options.zoomOffset,t=this.options.maxNativeZoom,i=this.options.tileSize;return t&&r>t&&(i=Math.round(n.getZoomScale(r)/n.getZoomScale(t)*i)),i},_update:function(){var n;if(this._map){var t=this._map,i=t.getPixelBounds(),r=t.getZoom(),f=this._getTileSize();r>this.options.maxZoom||r<this.options.minZoom||(n=u.bounds(i.min.divideBy(f)._floor(),i.max.divideBy(f)._floor()),this._addTilesFromCenterOut(n),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(n))}},_addTilesFromCenterOut:function(n){for(var r=[],h=n.getCenter(),t,o,e,s,f=n.min.y;f<=n.max.y;f++)for(t=n.min.x;t<=n.max.x;t++)o=new u.Point(t,f),this._tileShouldBeLoaded(o)&&r.push(o);if(e=r.length,e!==0){for(r.sort(function(n,t){return n.distanceTo(h)-t.distanceTo(h)}),s=i.createDocumentFragment(),this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=e,t=0;t<e;t++)this._addTile(r[t],s);this._tileContainer.appendChild(s)}},_tileShouldBeLoaded:function(n){var t,i;if(n.x+":"+n.y in this._tiles||(t=this.options,!t.continuousWorld&&(i=this._getWrapTileNum(),t.noWrap&&(n.x<0||n.x>=i.x)||n.y<0||n.y>=i.y)))return!1;if(t.bounds){var r=t.tileSize,e=n.multiplyBy(r),o=e.add([r,r]),u=this._map.unproject(e),f=this._map.unproject(o);if(t.continuousWorld||t.noWrap||(u=u.wrap(),f=f.wrap()),!t.bounds.intersects([u,f]))return!1}return!0},_removeOtherTiles:function(n){var t,i,r;for(var u in this._tiles)t=u.split(":"),i=parseInt(t[0],10),r=parseInt(t[1],10),(i<n.min.x||i>n.max.x||r<n.min.y||r>n.max.y)&&this._removeTile(u)},_removeTile:function(n){var t=this._tiles[n];this.fire("tileunload",{tile:t,url:t.src});this.options.reuseTiles?(u.DomUtil.removeClass(t,"leaflet-tile-loaded"),this._unusedTiles.push(t)):t.parentNode===this._tileContainer&&this._tileContainer.removeChild(t);u.Browser.android||(t.onload=null,t.src=u.Util.emptyImageUrl);delete this._tiles[n]},_addTile:function(n,t){var r=this._getTilePos(n),i=this._getTile();u.DomUtil.setPosition(i,r,u.Browser.chrome);this._tiles[n.x+":"+n.y]=i;this._loadTile(i,n);i.parentNode!==this._tileContainer&&t.appendChild(i)},_getZoomForUrl:function(){var n=this.options,t=this._map.getZoom();return n.zoomReverse&&(t=n.maxZoom-t),t+=n.zoomOffset,n.maxNativeZoom?Math.min(t,n.maxNativeZoom):t},_getTilePos:function(n){var t=this._map.getPixelOrigin(),i=this._getTileSize();return n.multiplyBy(i).subtract(t)},getTileUrl:function(n){return u.Util.template(this._url,u.extend({s:this._getSubdomain(n),z:n.z,x:n.x,y:n.y},this.options))},_getWrapTileNum:function(){var n=this._map.options.crs,t=n.getSize(this._map.getZoom());return t.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(n){var t=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(n.x=(n.x%t.x+t.x)%t.x);this.options.tms&&(n.y=t.y-n.y-1);n.z=this._getZoomForUrl()},_getSubdomain:function(n){var t=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[t]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var n=this._unusedTiles.pop();return this._resetTile(n),n}return this._createTile()},_resetTile:function(){},_createTile:function(){var n=u.DomUtil.create("img","leaflet-tile");return n.style.width=n.style.height=this._getTileSize()+"px",n.galleryimg="no",n.onselectstart=n.onmousemove=u.Util.falseFn,u.Browser.ielt9&&this.options.opacity!==r&&u.DomUtil.setOpacity(n,this.options.opacity),u.Browser.mobileWebkit3d&&(n.style.WebkitBackfaceVisibility="hidden"),n},_loadTile:function(n,t){n._layer=this;n.onload=this._tileOnLoad;n.onerror=this._tileOnError;this._adjustTilePoint(t);n.src=this.getTileUrl(t);this.fire("tileloadstart",{tile:n,url:n.src})},_tileLoaded:function(){this._tilesToLoad--;this._animated&&u.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated");this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(u.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var n=this._layer;this.src!==u.Util.emptyImageUrl&&(u.DomUtil.addClass(this,"leaflet-tile-loaded"),n.fire("tileload",{tile:this,url:this.src}));n._tileLoaded()},_tileOnError:function(){var n=this._layer,t;n.fire("tileerror",{tile:this,url:this.src});t=n.options.errorTileUrl;t&&(this.src=t);n._tileLoaded()}});u.tileLayer=function(n,t){return new u.TileLayer(n,t)};u.TileLayer.WMS=u.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(n,t){var i,f,r;this._url=n;i=u.extend({},this.defaultWmsParams);f=t.tileSize||this.options.tileSize;i.width=t.detectRetina&&u.Browser.retina?i.height=f*2:i.height=f;for(r in t)this.options.hasOwnProperty(r)||r==="crs"||(i[r]=t[r]);this.wmsParams=i;u.setOptions(this,t)},onAdd:function(n){this._crs=this.options.crs||n.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code;u.TileLayer.prototype.onAdd.call(this,n)},getTileUrl:function(n){var f=this._map,r=this.options.tileSize,e=n.multiplyBy(r),s=e.add([r,r]),t=this._crs.project(f.unproject(e,n.z)),i=this._crs.project(f.unproject(s,n.z)),h=this._wmsVersion>=1.3&&this._crs===u.CRS.EPSG4326?[i.y,t.x,t.y,i.x].join(","):[t.x,i.y,i.x,t.y].join(","),o=u.Util.template(this._url,{s:this._getSubdomain(n)});return o+u.Util.getParamString(this.wmsParams,o,!0)+"&BBOX="+h},setParams:function(n,t){return u.extend(this.wmsParams,n),t||this.redraw(),this}});u.tileLayer.wms=function(n,t){return new u.TileLayer.WMS(n,t)};u.TileLayer.Canvas=u.TileLayer.extend({options:{async:!1},initialize:function(n){u.setOptions(this,n)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var n in this._tiles)this._redrawTile(this._tiles[n]);return this},_redrawTile:function(n){this.drawTile(n,n._tilePoint,this._map._zoom)},_createTile:function(){var n=u.DomUtil.create("canvas","leaflet-tile");return n.width=n.height=this.options.tileSize,n.onselectstart=n.onmousemove=u.Util.falseFn,n},_loadTile:function(n,t){n._layer=this;n._tilePoint=t;this._redrawTile(n);this.options.async||this.tileDrawn(n)},drawTile:function(){},tileDrawn:function(n){this._tileOnLoad.call(n)}});u.tileLayer.canvas=function(n){return new u.TileLayer.Canvas(n)};u.ImageOverlay=u.Class.extend({includes:u.Mixin.Events,options:{opacity:1},initialize:function(n,t,i){this._url=n;this._bounds=u.latLngBounds(t);u.setOptions(this,i)},onAdd:function(n){this._map=n;this._image||this._initImage();n._panes.overlayPane.appendChild(this._image);n.on("viewreset",this._reset,this);if(n.options.zoomAnimation&&u.Browser.any3d)n.on("zoomanim",this._animateZoom,this);this._reset()},onRemove:function(n){n.getPanes().overlayPane.removeChild(this._image);n.off("viewreset",this._reset,this);n.options.zoomAnimation&&n.off("zoomanim",this._animateZoom,this)},addTo:function(n){return n.addLayer(this),this},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var n=this._map._panes.overlayPane;return this._image&&n.insertBefore(this._image,n.firstChild),this},setUrl:function(n){this._url=n;this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=u.DomUtil.create("img","leaflet-image-layer");this._map.options.zoomAnimation&&u.Browser.any3d?u.DomUtil.addClass(this._image,"leaflet-zoom-animated"):u.DomUtil.addClass(this._image,"leaflet-zoom-hide");this._updateOpacity();u.extend(this._image,{galleryimg:"no",onselectstart:u.Util.falseFn,onmousemove:u.Util.falseFn,onload:u.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(n){var t=this._map,f=this._image,i=t.getZoomScale(n.zoom),e=this._bounds.getNorthWest(),o=this._bounds.getSouthEast(),r=t._latLngToNewLayerPoint(e,n.zoom,n.center),s=t._latLngToNewLayerPoint(o,n.zoom,n.center)._subtract(r),h=r._add(s._multiplyBy(1/2*(1-1/i)));f.style[u.DomUtil.TRANSFORM]=u.DomUtil.getTranslateString(h)+" scale("+i+") "},_reset:function(){var n=this._image,t=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),i=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(t);u.DomUtil.setPosition(n,t);n.style.width=i.x+"px";n.style.height=i.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){u.DomUtil.setOpacity(this._image,this.options.opacity)}});u.imageOverlay=function(n,t,i){return new u.ImageOverlay(n,t,i)};u.Icon=u.Class.extend({options:{className:""},initialize:function(n){u.setOptions(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,t){var i=this._getIconUrl(n),r;if(!i){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}return r=t&&t.tagName==="IMG"?this._createImg(i,t):this._createImg(i),this._setIconStyles(r,n),r},_setIconStyles:function(n,t){var r=this.options,f=u.point(r[t+"Size"]),i;i=t==="shadow"?u.point(r.shadowAnchor||r.iconAnchor):u.point(r.iconAnchor);!i&&f&&(i=f.divideBy(2,!0));n.className="leaflet-marker-"+t+" "+r.className;i&&(n.style.marginLeft=-i.x+"px",n.style.marginTop=-i.y+"px");f&&(n.style.width=f.x+"px",n.style.height=f.y+"px")},_createImg:function(n,t){return t=t||i.createElement("img"),t.src=n,t},_getIconUrl:function(n){return u.Browser.retina&&this.options[n+"RetinaUrl"]?this.options[n+"RetinaUrl"]:this.options[n+"Url"]}});u.icon=function(n){return new u.Icon(n)};u.Icon.Default=u.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(n){var i=n+"Url",t;if(this.options[i])return this.options[i];if(u.Browser.retina&&n==="icon"&&(n+="-2x"),t=u.Icon.Default.imagePath,!t)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return t+"/marker-"+n+".png"}});u.Icon.Default.imagePath=function(){for(var u=i.getElementsByTagName("script"),f=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/,t,o,r,n=0,e=u.length;n<e;n++)if(t=u[n].src,o=t.match(f),o)return r=t.split(f)[0],(r?r+"/":"")+"images"}();u.Marker=u.Class.extend({includes:u.Mixin.Events,options:{icon:new u.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(n,t){u.setOptions(this,t);this._latlng=u.latLng(n)},onAdd:function(n){this._map=n;n.on("viewreset",this.update,this);if(this._initIcon(),this.update(),this.fire("add"),n.options.zoomAnimation&&n.options.markerZoomAnimation)n.on("zoomanim",this._animateZoom,this)},addTo:function(n){return n.addLayer(this),this},onRemove:function(n){this.dragging&&this.dragging.disable();this._removeIcon();this._removeShadow();this.fire("remove");n.off({viewreset:this.update,zoomanim:this._animateZoom},this);this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=u.latLng(n),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update(),this},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){if(this._icon){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,e=this._map,h=e.options.zoomAnimation&&e.options.markerZoomAnimation,o=h?"leaflet-zoom-animated":"leaflet-zoom-hide",t=n.icon.createIcon(this._icon),s=!1,i,r,f;if(t!==this._icon&&(this._icon&&this._removeIcon(),s=!0,n.title&&(t.title=n.title),n.alt&&(t.alt=n.alt)),u.DomUtil.addClass(t,o),n.keyboard&&(t.tabIndex="0"),this._icon=t,this._initInteraction(),n.riseOnHover)u.DomEvent.on(t,"mouseover",this._bringToFront,this).on(t,"mouseout",this._resetZIndex,this);i=n.icon.createShadow(this._shadow);r=!1;i!==this._shadow&&(this._removeShadow(),r=!0);i&&u.DomUtil.addClass(i,o);this._shadow=i;n.opacity<1&&this._updateOpacity();f=this._map._panes;s&&f.markerPane.appendChild(this._icon);i&&r&&f.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&u.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex);this._map._panes.markerPane.removeChild(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow);this._shadow=null},_setPos:function(n){u.DomUtil.setPosition(this._icon,n);this._shadow&&u.DomUtil.setPosition(this._shadow,n);this._zIndex=n.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(n){this._icon.style.zIndex=this._zIndex+n},_animateZoom:function(n){var t=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(t)},_initInteraction:function(){var n,i,t;if(this.options.clickable){n=this._icon;i=["dblclick","mousedown","mouseover","mouseout","contextmenu"];u.DomUtil.addClass(n,"leaflet-clickable");u.DomEvent.on(n,"click",this._onMouseClick,this);u.DomEvent.on(n,"keypress",this._onKeyPress,this);for(t=0;t<i.length;t++)u.DomEvent.on(n,i[t],this._fireMouseEvent,this);u.Handler.MarkerDrag&&(this.dragging=new u.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(n){var t=this.dragging&&this.dragging.moved();((this.hasEventListeners(n.type)||t)&&u.DomEvent.stopPropagation(n),t)||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(n.type,{originalEvent:n,latlng:this._latlng})},_onKeyPress:function(n){n.keyCode===13&&this.fire("click",{originalEvent:n,latlng:this._latlng})},_fireMouseEvent:function(n){this.fire(n.type,{originalEvent:n,latlng:this._latlng});n.type==="contextmenu"&&this.hasEventListeners(n.type)&&u.DomEvent.preventDefault(n);n.type!=="mousedown"?u.DomEvent.stopPropagation(n):u.DomEvent.preventDefault(n)},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){u.DomUtil.setOpacity(this._icon,this.options.opacity);this._shadow&&u.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}});u.marker=function(n,t){return new u.Marker(n,t)};u.DivIcon=u.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(n){var r=n&&n.tagName==="DIV"?n:i.createElement("div"),t=this.options;return r.innerHTML=t.html!==!1?t.html:"",t.bgPos&&(r.style.backgroundPosition=-t.bgPos.x+"px "+-t.bgPos.y+"px"),this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});u.divIcon=function(n){return new u.DivIcon(n)};u.Map.mergeOptions({closePopupOnClick:!0});u.Popup=u.Class.extend({includes:u.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(n,t){u.setOptions(this,n);this._source=t;this._animated=u.Browser.any3d&&this.options.zoomAnimation;this._isOpen=!1},onAdd:function(n){this._map=n;this._container||this._initLayout();var t=n.options.fadeAnimation;t&&u.DomUtil.setOpacity(this._container,0);n._panes.popupPane.appendChild(this._container);n.on(this._getEvents(),this);this.update();t&&u.DomUtil.setOpacity(this._container,1);this.fire("open");n.fire("popupopen",{popup:this});this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(n){return n.addLayer(this),this},openOn:function(n){return n.openPopup(this),this},onRemove:function(n){n._panes.popupPane.removeChild(this._container);u.Util.falseFn(this._container.offsetWidth);n.off(this._getEvents(),this);n.options.fadeAnimation&&u.DomUtil.setOpacity(this._container,0);this._map=null;this.fire("close");n.fire("popupclose",{popup:this});this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=u.latLng(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var n={viewreset:this._updatePosition};return this._animated&&(n.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this._close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var n="leaflet-popup",f=n+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),r=this._container=u.DomUtil.create("div",f),t,i;if(this.options.closeButton){t=this._closeButton=u.DomUtil.create("a",n+"-close-button",r);t.href="#close";t.innerHTML="&#215;";u.DomEvent.disableClickPropagation(t);u.DomEvent.on(t,"click",this._onCloseButtonClick,this)}i=this._wrapper=u.DomUtil.create("div",n+"-content-wrapper",r);u.DomEvent.disableClickPropagation(i);this._contentNode=u.DomUtil.create("div",n+"-content",i);u.DomEvent.disableScrollPropagation(this._contentNode);u.DomEvent.on(i,"contextmenu",u.DomEvent.stopPropagation);this._tipContainer=u.DomUtil.create("div",n+"-tip-container",r);this._tip=u.DomUtil.create("div",n+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if(typeof this._content=="string")this._contentNode.innerHTML=this._content;else{while(this._contentNode.hasChildNodes())this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var i=this._contentNode,n=i.style,t;n.width="";n.whiteSpace="nowrap";t=i.offsetWidth;t=Math.min(t,this.options.maxWidth);t=Math.max(t,this.options.minWidth);n.width=t+1+"px";n.whiteSpace="";n.height="";var e=i.offsetHeight,r=this.options.maxHeight,f="leaflet-popup-scrolled";r&&e>r?(n.height=r+"px",u.DomUtil.addClass(i,f)):u.DomUtil.removeClass(i,f);this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),t=this._animated,i=u.point(this.options.offset);t&&u.DomUtil.setPosition(this._container,n);this._containerBottom=-i.y-(t?0:n.y);this._containerLeft=-Math.round(this._containerWidth/2)+i.x+(t?0:n.x);this._container.style.bottom=this._containerBottom+"px";this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(n){var t=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);u.DomUtil.setPosition(this._container,t)},_adjustPan:function(){if(this.options.autoPan){var o=this._map,s=this._container.offsetHeight,h=this._containerWidth,c=new u.Point(this._containerLeft,-s-this._containerBottom);this._animated&&c._add(u.DomUtil.getPosition(this._container));var n=o.layerPointToContainerPoint(c),l=u.point(this.options.autoPanPadding),r=u.point(this.options.autoPanPaddingTopLeft||l),f=u.point(this.options.autoPanPaddingBottomRight||l),e=o.getSize(),t=0,i=0;n.x+h+f.x>e.x&&(t=n.x+h-e.x+f.x);n.x-t-r.x<0&&(t=n.x-r.x);n.y+s+f.y>e.y&&(i=n.y+s-e.y+f.y);n.y-i-r.y<0&&(i=n.y-r.y);(t||i)&&o.fire("autopanstart").panBy([t,i])}},_onCloseButtonClick:function(n){this._close();u.DomEvent.stop(n)}});u.popup=function(n,t){return new u.Popup(n,t)};u.Map.include({openPopup:function(n,t,i){if(this.closePopup(),!(n instanceof u.Popup)){var r=n;n=new u.Popup(i).setLatLng(t).setContent(r)}return n._isOpen=!0,this._popup=n,this.addLayer(n)},closePopup:function(n){return n&&n!==this._popup||(n=this._popup,this._popup=null),n&&(this.removeLayer(n),n._isOpen=!1),this}});u.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(n,t){var i=u.point(this.options.icon.options.popupAnchor||[0,0]);if(i=i.add(u.Popup.prototype.options.offset),t&&t.offset&&(i=i.add(t.offset)),t=u.extend({offset:i},t),!this._popupHandlersAdded){this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this);this._popupHandlersAdded=!0}return n instanceof u.Popup?(u.setOptions(n,t),this._popup=n):this._popup=new u.Popup(t,this).setContent(n),this},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(n){this._popup.setLatLng(n.latlng)}});u.LayerGroup=u.Class.extend({initialize:function(n){this._layers={};var t,i;if(n)for(t=0,i=n.length;t<i;t++)this.addLayer(n[t])},addLayer:function(n){var t=this.getLayerId(n);return this._layers[t]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var t=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(n){return n?n in this._layers||this.getLayerId(n)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),i,t;for(i in this._layers)t=this._layers[i],t[n]&&t[n].apply(t,r);return this},onAdd:function(n){this._map=n;this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n);this._map=null},addTo:function(n){return n.addLayer(this),this},eachLayer:function(n,t){for(var i in this._layers)n.call(t,this._layers[i]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];for(var t in this._layers)n.push(this._layers[t]);return n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return u.stamp(n)}});u.layerGroup=function(n){return new u.LayerGroup(n)};u.FeatureGroup=u.LayerGroup.extend({includes:u.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(n){if(this.hasLayer(n))return this;if("on"in n)n.on(u.FeatureGroup.EVENTS,this._propagateEvent,this);return u.LayerGroup.prototype.addLayer.call(this,n),this._popupContent&&n.bindPopup&&n.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:n})},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.off(u.FeatureGroup.EVENTS,this._propagateEvent,this),u.LayerGroup.prototype.removeLayer.call(this,n),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:n})):this},bindPopup:function(n,t){return this._popupContent=n,this._popupOptions=t,this.invoke("bindPopup",n,t)},openPopup:function(n){for(var t in this._layers){this._layers[t].openPopup(n);break}return this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new u.LatLngBounds;return this.eachLayer(function(t){n.extend(t instanceof u.Marker?t.getLatLng():t.getBounds())}),n},_propagateEvent:function(n){n=u.extend({layer:n.target,target:this},n);this.fire(n.type,n)}});u.featureGroup=function(n){return new u.FeatureGroup(n)};u.Path=u.Class.extend({includes:[u.Mixin.Events],statics:{CLIP_PADDING:function(){var t=u.Browser.mobile?1280:2e3,i=(t/Math.max(n.outerWidth,n.outerHeight)-1)/2;return Math.max(0,Math.min(.5,i))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(n){u.setOptions(this,n)},onAdd:function(n){this._map=n;this._container||(this._initElements(),this._initEvents());this.projectLatlngs();this._updatePath();this._container&&this._map._pathRoot.appendChild(this._container);this.fire("add");n.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(n){return n.addLayer(this),this},onRemove:function(n){n._pathRoot.removeChild(this._container);this.fire("remove");this._map=null;u.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null);n.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(n){return u.setOptions(this,n),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}});u.Map.include({_updatePathViewport:function(){var n=u.Path.CLIP_PADDING,t=this.getSize(),r=u.DomUtil.getPosition(this._mapPane),i=r.multiplyBy(-1)._subtract(t.multiplyBy(n)._round()),f=i.add(t.multiplyBy(1+n*2)._round());this._pathViewport=new u.Bounds(i,f)}});u.Path.SVG_NS="http://www.w3.org/2000/svg";u.Browser.svg=!!(i.createElementNS&&i.createElementNS(u.Path.SVG_NS,"svg").createSVGRect);u.Path=u.Path.extend({statics:{SVG:u.Browser.svg},bringToFront:function(){var t=this._map._pathRoot,n=this._container;return n&&t.lastChild!==n&&t.appendChild(n),this},bringToBack:function(){var t=this._map._pathRoot,n=this._container,i=t.firstChild;return n&&i!==n&&t.insertBefore(n,i),this},getPathString:function(){},_createElement:function(n){return i.createElementNS(u.Path.SVG_NS,n)},_initElements:function(){this._map._initPathRoot();this._initPath();this._initStyle()},_initPath:function(){this._container=this._createElement("g");this._path=this._createElement("path");this.options.className&&u.DomUtil.addClass(this._path,this.options.className);this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round"));this.options.fill&&this._path.setAttribute("fill-rule","evenodd");this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents);this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none");this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none");this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var n=this.getPathString();n||(n="M0 0");this._path.setAttribute("d",n)},_initEvents:function(){var t,n;if(this.options.clickable){(u.Browser.svg||!u.Browser.vml)&&u.DomUtil.addClass(this._path,"leaflet-clickable");u.DomEvent.on(this._container,"click",this._onMouseClick,this);for(t=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],n=0;n<t.length;n++)u.DomEvent.on(this._container,t[n],this._fireMouseEvent,this)}},_onMouseClick:function(n){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(n)},_fireMouseEvent:function(n){if(this.hasEventListeners(n.type)){var t=this._map,i=t.mouseEventToContainerPoint(n),r=t.containerPointToLayerPoint(i),f=t.layerPointToLatLng(r);this.fire(n.type,{latlng:f,layerPoint:r,containerPoint:i,originalEvent:n});n.type==="contextmenu"&&u.DomEvent.preventDefault(n);n.type!=="mousemove"&&u.DomEvent.stopPropagation(n)}}});u.Map.include({_initPathRoot:function(){if(!this._pathRoot){if(this._pathRoot=u.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&u.Browser.any3d){u.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated");this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})}else u.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide");this.on("moveend",this._updateSvgViewport);this._updateSvgViewport()}},_animatePathZoom:function(n){var t=this.getZoomScale(n.zoom),i=this._getCenterOffset(n.center)._multiplyBy(-t)._add(this._pathViewport.min);this._pathRoot.style[u.DomUtil.TRANSFORM]=u.DomUtil.getTranslateString(i)+" scale("+t+") ";this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var i=this._pathViewport,t=i.min,r=i.max,f=r.x-t.x,e=r.y-t.y,n=this._pathRoot,o=this._panes.overlayPane;u.Browser.mobileWebkit&&o.removeChild(n);u.DomUtil.setPosition(n,t);n.setAttribute("width",f);n.setAttribute("height",e);n.setAttribute("viewBox",[t.x,t.y,f,e].join(" "));u.Browser.mobileWebkit&&o.appendChild(n)}}});u.Path.include({bindPopup:function(n,t){if(n instanceof u.Popup?this._popup=n:((!this._popup||t)&&(this._popup=new u.Popup(t,this)),this._popup.setContent(n)),!this._popupHandlersAdded){this.on("click",this._openPopup,this).on("remove",this.closePopup,this);this._popupHandlersAdded=!0}return this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(n){return this._popup&&(n=n||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:n})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(n){this._popup.setLatLng(n.latlng);this._map.openPopup(this._popup)}});u.Browser.vml=!u.Browser.svg&&function(){var t,n;try{return t=i.createElement("div"),t.innerHTML='<v:shape adj="1"/>',n=t.firstChild,n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch(r){return!1}}();u.Path=u.Browser.svg||!u.Browser.vml?u.Path:u.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return i.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return i.createElement("<lvml:"+n+' class="lvml">')}}catch(n){return function(n){return i.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var n=this._container=this._createElement("shape");u.DomUtil.addClass(n,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:""));this.options.clickable&&u.DomUtil.addClass(n,"leaflet-clickable");n.coordsize="1 1";this._path=this._createElement("path");n.appendChild(this._path);this._map._pathRoot.appendChild(n)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,i=this._fill,n=this.options,r=this._container;r.stroked=n.stroke;r.filled=n.fill;n.stroke?(t||(t=this._stroke=this._createElement("stroke"),t.endcap="round",r.appendChild(t)),t.weight=n.weight+"px",t.color=n.color,t.opacity=n.opacity,t.dashStyle=n.dashArray?u.Util.isArray(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):"",n.lineCap&&(t.endcap=n.lineCap.replace("butt","flat")),n.lineJoin&&(t.joinstyle=n.lineJoin)):t&&(r.removeChild(t),this._stroke=null);n.fill?(i||(i=this._fill=this._createElement("fill"),r.appendChild(i)),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(r.removeChild(i),this._fill=null)},_updatePath:function(){var n=this._container.style;n.display="none";this._path.v=this.getPathString()+" ";n.display=""}});u.Map.include(u.Browser.svg||!u.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var n=this._pathRoot=i.createElement("div");n.className="leaflet-vml-container";this._panes.overlayPane.appendChild(n);this.on("moveend",this._updatePathViewport);this._updatePathViewport()}}});u.Browser.canvas=function(){return!!i.createElement("canvas").getContext}();u.Path=u.Path.SVG&&!n.L_PREFER_CANVAS||!u.Browser.canvas?u.Path:u.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(n){return u.setOptions(this,n),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(n){n.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this);this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this));this._requestUpdate();this.fire("remove");this._map=null},_requestUpdate:function(){this._map&&!u.Path._updateRequest&&(u.Path._updateRequest=u.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){u.Path._updateRequest=null;this.fire("moveend")},_initElements:function(){this._map._initPathRoot();this._ctx=this._map._canvasCtx},_updateStyle:function(){var n=this.options;n.stroke&&(this._ctx.lineWidth=n.weight,this._ctx.strokeStyle=n.color);n.fill&&(this._ctx.fillStyle=n.fillColor||n.color)},_drawPath:function(){var n,t,r,f,i,e;for(this._ctx.beginPath(),n=0,r=this._parts.length;n<r;n++){for(t=0,f=this._parts[n].length;t<f;t++)i=this._parts[n][t],e=(t===0?"move":"line")+"To",this._ctx[e](i.x,i.y);this instanceof u.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var n=this._ctx,t=this.options;this._drawPath();n.save();this._updateStyle();t.fill&&(n.globalAlpha=t.fillOpacity,n.fill());t.stroke&&(n.globalAlpha=t.opacity,n.stroke());n.restore()}},_initEvents:function(){if(this.options.clickable){this._map.on("mousemove",this._onMouseMove,this);this._map.on("click",this._onClick,this)}},_onClick:function(n){this._containsPoint(n.layerPoint)&&this.fire("click",n)},_onMouseMove:function(n){this._map&&!this._map._animatingZoom&&(this._containsPoint(n.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",n)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",n)))}});u.Map.include(u.Path.SVG&&!n.L_PREFER_CANVAS||!u.Browser.canvas?{}:{_initPathRoot:function(){var n=this._pathRoot,t;if(!n){if(n=this._pathRoot=i.createElement("canvas"),n.style.position="absolute",t=this._canvasCtx=n.getContext("2d"),t.lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(n),this.options.zoomAnimation){this._pathRoot.className="leaflet-zoom-animated";this.on("zoomanim",this._animatePathZoom);this.on("zoomend",this._endPathZoom)}this.on("moveend",this._updateCanvasViewport);this._updateCanvasViewport()}},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var i=this._pathViewport,n=i.min,r=i.max.subtract(n),t=this._pathRoot;u.DomUtil.setPosition(t,n);t.width=r.x;t.height=r.y;t.getContext("2d").translate(-n.x,-n.y)}}});u.LineUtil={simplify:function(n,t){if(!t||!n.length)return n.slice();var i=t*t;return n=this._reducePoints(n,i),this._simplifyDP(n,i)},pointToSegmentDistance:function(n,t,i){return Math.sqrt(this._sqClosestPointOnSegment(n,t,i,!0))},closestPointOnSegment:function(n,t,i){return this._sqClosestPointOnSegment(n,t,i)},_simplifyDP:function(n,t){var u=n.length,o=typeof Uint8Array!=r+""?Uint8Array:Array,f=new o(u),i,e;for(f[0]=f[u-1]=1,this._simplifyDPStep(n,f,t,0,u-1),e=[],i=0;i<u;i++)f[i]&&e.push(n[i]);return e},_simplifyDPStep:function(n,t,i,r,u){for(var o=0,e,s,f=r+1;f<=u-1;f++)s=this._sqClosestPointOnSegment(n[f],n[r],n[u],!0),s>o&&(e=f,o=s);o>i&&(t[e]=1,this._simplifyDPStep(n,t,i,r,e),this._simplifyDPStep(n,t,i,e,u))},_reducePoints:function(n,t){for(var r=[n[0]],i=1,u=0,f=n.length;i<f;i++)this._sqDist(n[i],n[u])>t&&(r.push(n[i]),u=i);return u<f-1&&r.push(n[f-1]),r},clipSegment:function(n,t,i,r){var u=r?this._lastCode:this._getBitCode(n,i),f=this._getBitCode(t,i),o,e,s;for(this._lastCode=f;;)if(u|f){if(u&f)return!1;o=u||f;e=this._getEdgeIntersection(n,t,o,i);s=this._getBitCode(e,i);o===u?(n=e,u=s):(t=e,f=s)}else return[n,t]},_getEdgeIntersection:function(n,t,i,r){var f=t.x-n.x,e=t.y-n.y,o=r.min,s=r.max;return i&8?new u.Point(n.x+f*(s.y-n.y)/e,s.y):i&4?new u.Point(n.x+f*(o.y-n.y)/e,o.y):i&2?new u.Point(s.x,n.y+e*(s.x-n.x)/f):i&1?new u.Point(o.x,n.y+e*(o.x-n.x)/f):void 0},_getBitCode:function(n,t){var i=0;return n.x<t.min.x?i|=1:n.x>t.max.x&&(i|=2),n.y<t.min.y?i|=4:n.y>t.max.y&&(i|=8),i},_sqDist:function(n,t){var i=t.x-n.x,r=t.y-n.y;return i*i+r*r},_sqClosestPointOnSegment:function(n,t,i,r){var o=t.x,s=t.y,f=i.x-o,e=i.y-s,c=f*f+e*e,h;return c>0&&(h=((n.x-o)*f+(n.y-s)*e)/c,h>1?(o=i.x,s=i.y):h>0&&(o+=f*h,s+=e*h)),f=n.x-o,e=n.y-s,r?f*f+e*e:new u.Point(o,s)}};u.Polyline=u.Path.extend({initialize:function(n,t){u.Path.prototype.initialize.call(this,t);this._latlngs=this._convertLatLngs(n)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var n=0,t=this._latlngs.length;n<t;n++)this._originalPoints[n]=this._map.latLngToLayerPoint(this._latlngs[n])},getPathString:function(){for(var n=0,i=this._parts.length,t="";n<i;n++)t+=this._getPathPartStr(this._parts[n]);return t},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._latlngs=this._convertLatLngs(n),this.redraw()},addLatLng:function(n){return this._latlngs.push(u.latLng(n)),this.redraw()},spliceLatLngs:function(){var n=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),n},closestLayerPoint:function(n){for(var r,t,l,h,f=Infinity,c=this._parts,e,o,i=null,s=0,a=c.length;s<a;s++)for(r=c[s],t=1,l=r.length;t<l;t++)e=r[t-1],o=r[t],h=u.LineUtil._sqClosestPointOnSegment(n,e,o,!0),h<f&&(f=h,i=u.LineUtil._sqClosestPointOnSegment(n,e,o));return i&&(i.distance=Math.sqrt(f)),i},getBounds:function(){return new u.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(n,t){for(var f=t?n:[],i=0,r=n.length;i<r;i++){if(u.Util.isArray(n[i])&&typeof n[i][0]!="number")return;f[i]=u.latLng(n[i])}return f},_initEvents:function(){u.Path.prototype._initEvents.call(this)},_getPathPartStr:function(n){for(var f=u.Path.VML,t=0,e=n.length,r="",i;t<e;t++)i=n[t],f&&i._round(),r+=(t?"L":"M")+i.x+" "+i.y;return r},_clipPoints:function(){var i=this._originalPoints,e=i.length,n,t,r;if(this.options.noClip){this._parts=[i];return}this._parts=[];var f=this._parts,o=this._map._pathViewport,s=u.LineUtil;for(n=0,t=0;n<e-1;n++)(r=s.clipSegment(i[n],i[n+1],o,n),r)&&(f[t]=f[t]||[],f[t].push(r[0]),(r[1]!==i[n+1]||n===e-2)&&(f[t].push(r[1]),t++))},_simplifyPoints:function(){for(var t=this._parts,i=u.LineUtil,n=0,r=t.length;n<r;n++)t[n]=i.simplify(t[n],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),u.Path.prototype._updatePath.call(this))}});u.polyline=function(n,t){return new u.Polyline(n,t)};u.PolyUtil={};u.PolyUtil.clipPolygon=function(n,t){for(var e,v=[1,4,2,8],a,l,o,s,f,r,c=u.LineUtil,i=0,h=n.length;i<h;i++)n[i]._code=c._getBitCode(n[i],t);for(l=0;l<4;l++){for(f=v[l],e=[],i=0,h=n.length,a=h-1;i<h;a=i++)o=n[i],s=n[a],o._code&f?s._code&f||(r=c._getEdgeIntersection(s,o,f,t),r._code=c._getBitCode(r,t),e.push(r)):(s._code&f&&(r=c._getEdgeIntersection(s,o,f,t),r._code=c._getBitCode(r,t),e.push(r)),e.push(o));n=e}return n};u.Polygon=u.Polyline.extend({options:{fill:!0},initialize:function(n,t){u.Polyline.prototype.initialize.call(this,n,t);this._initWithHoles(n)},_initWithHoles:function(n){var t,r,i;if(n&&u.Util.isArray(n[0])&&typeof n[0][0]!="number")for(this._latlngs=this._convertLatLngs(n[0]),this._holes=n.slice(1),t=0,r=this._holes.length;t<r;t++)i=this._holes[t]=this._convertLatLngs(this._holes[t]),i[0].equals(i[i.length-1])&&i.pop();n=this._latlngs;n.length>=2&&n[0].equals(n[n.length-1])&&n.pop()},projectLatlngs:function(){if(u.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes)for(var t,r,n=0,i=this._holes.length;n<i;n++)for(this._holePoints[n]=[],t=0,r=this._holes[n].length;t<r;t++)this._holePoints[n][t]=this._map.latLngToLayerPoint(this._holes[n][t])},setLatLngs:function(n){return n&&u.Util.isArray(n[0])&&typeof n[0][0]!="number"?(this._initWithHoles(n),this.redraw()):u.Polyline.prototype.setLatLngs.call(this,n)},_clipPoints:function(){var f=this._originalPoints,i=[],n,r,t;if(this._parts=[f].concat(this._holePoints),!this.options.noClip){for(n=0,r=this._parts.length;n<r;n++)t=u.PolyUtil.clipPolygon(this._parts[n],this._map._pathViewport),t.length&&i.push(t);this._parts=i}},_getPathPartStr:function(n){var t=u.Polyline.prototype._getPathPartStr.call(this,n);return t+(u.Browser.svg?"z":"x")}});u.polygon=function(n,t){return new u.Polygon(n,t)},function(){function n(n){return u.FeatureGroup.extend({initialize:function(n,t){this._layers={};this._options=t;this.setLatLngs(n)},setLatLngs:function(t){var i=0,r=t.length;for(this.eachLayer(function(n){i<r?n.setLatLngs(t[i++]):this.removeLayer(n)},this);i<r;)this.addLayer(new n(t[i++],this._options));return this},getLatLngs:function(){var n=[];return this.eachLayer(function(t){n.push(t.getLatLngs())}),n}})}u.MultiPolyline=n(u.Polyline);u.MultiPolygon=n(u.Polygon);u.multiPolyline=function(n,t){return new u.MultiPolyline(n,t)};u.multiPolygon=function(n,t){return new u.MultiPolygon(n,t)}}();u.Rectangle=u.Polygon.extend({initialize:function(n,t){u.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(n),t)},setBounds:function(n){this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=u.latLngBounds(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});u.rectangle=function(n,t){return new u.Rectangle(n,t)};u.Circle=u.Path.extend({initialize:function(n,t,i){u.Path.prototype.initialize.call(this,i);this._latlng=u.latLng(n);this._mRadius=t},options:{fill:!0},setLatLng:function(n){return this._latlng=u.latLng(n),this.redraw()},setRadius:function(n){return this._mRadius=n,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),n=this._latlng,i=this._map.latLngToLayerPoint([n.lat,n.lng-t]);this._point=this._map.latLngToLayerPoint(n);this._radius=Math.max(this._point.x-i.x,1)},getBounds:function(){var t=this._getLngRadius(),i=this._mRadius/40075017*360,n=this._latlng;return new u.LatLngBounds([n.lat-i,n.lng-t],[n.lat+i,n.lng+t])},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,n=this._radius;return this._checkIfEmpty()?"":u.Browser.svg?"M"+t.x+","+(t.y-n)+"A"+n+","+n+",0,1,1,"+(t.x-.1)+","+(t.y-n)+" z":(t._round(),n=Math.round(n),"AL "+t.x+","+t.y+" "+n+","+n+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(u.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var n=this._map._pathViewport,t=this._radius,i=this._point;return i.x-t>n.max.x||i.y-t>n.max.y||i.x+t<n.min.x||i.y+t<n.min.y}});u.circle=function(n,t,i){return new u.Circle(n,t,i)};u.CircleMarker=u.Circle.extend({options:{radius:10,weight:2},initialize:function(n,t){u.Circle.prototype.initialize.call(this,n,null,t);this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){u.Circle.prototype._updateStyle.call(this);this.setRadius(this.options.radius)},setLatLng:function(n){return u.Circle.prototype.setLatLng.call(this,n),this._popup&&this._popup._isOpen&&this._popup.setLatLng(n),this},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius}});u.circleMarker=function(n,t){return new u.CircleMarker(n,t)};u.Polyline.include(u.Path.CANVAS?{_containsPoint:function(n,t){var r,i,e,s,o,h,f,c=this.options.weight/2;for(u.Browser.touch&&(c+=10),r=0,s=this._parts.length;r<s;r++)for(f=this._parts[r],i=0,o=f.length,e=o-1;i<o;e=i++)if((t||i!==0)&&(h=u.LineUtil.pointToSegmentDistance(n,f[e],f[i]),h<=c))return!0;return!1}}:{});u.Polygon.include(u.Path.CANVAS?{_containsPoint:function(n){var o=!1,i,t,r,f,e,s,c,h;if(u.Polyline.prototype._containsPoint.call(this,n,!0))return!0;for(f=0,c=this._parts.length;f<c;f++)for(i=this._parts[f],e=0,h=i.length,s=h-1;e<h;s=e++)t=i[e],r=i[s],t.y>n.y!=r.y>n.y&&n.x<(r.x-t.x)*(n.y-t.y)/(r.y-t.y)+t.x&&(o=!o);return o}}:{});u.Circle.include(u.Path.CANVAS?{_drawPath:function(){var n=this._point;this._ctx.beginPath();this._ctx.arc(n.x,n.y,this._radius,0,Math.PI*2,!1)},_containsPoint:function(n){var t=this._point,i=this.options.stroke?this.options.weight/2:0;return n.distanceTo(t)<=this._radius+i}}:{});u.CircleMarker.include(u.Path.CANVAS?{_updateStyle:function(){u.Path.prototype._updateStyle.call(this)}}:{});u.GeoJSON=u.FeatureGroup.extend({initialize:function(n,t){u.setOptions(this,t);this._layers={};n&&this.addData(n)},addData:function(n){var e=u.Util.isArray(n)?n:n.features,r,o,f,t,i;if(e){for(r=0,o=e.length;r<o;r++)f=e[r],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(e[r]);return this}if(t=this.options,!t.filter||t.filter(n)){if(i=u.GeoJSON.geometryToLayer(n,t.pointToLayer,t.coordsToLatLng,t),i.feature=u.GeoJSON.asFeature(n),i.defaultOptions=i.options,this.resetStyle(i),t.onEachFeature)t.onEachFeature(n,i);return this.addLayer(i)}},resetStyle:function(n){var t=this.options.style;t&&(u.Util.extend(n.options,n.defaultOptions),this._setLayerStyle(n,t))},setStyle:function(n){this.eachLayer(function(t){this._setLayerStyle(t,n)},this)},_setLayerStyle:function(n,t){typeof t=="function"&&(t=t(n.feature));n.setStyle&&n.setStyle(t)}});u.extend(u.GeoJSON,{geometryToLayer:function(n,t,i,r){var h=n.type==="Feature"?n.geometry:n,f=h.coordinates,c=[],s,e,o,l;i=i||this.coordsToLatLng;switch(h.type){case"Point":return s=i(f),t?t(n,s):new u.Marker(s);case"MultiPoint":for(o=0,l=f.length;o<l;o++)s=i(f[o]),c.push(t?t(n,s):new u.Marker(s));return new u.FeatureGroup(c);case"LineString":return e=this.coordsToLatLngs(f,0,i),new u.Polyline(e,r);case"Polygon":if(f.length===2&&!f[1].length)throw new Error("Invalid GeoJSON object.");return e=this.coordsToLatLngs(f,1,i),new u.Polygon(e,r);case"MultiLineString":return e=this.coordsToLatLngs(f,1,i),new u.MultiPolyline(e,r);case"MultiPolygon":return e=this.coordsToLatLngs(f,2,i),new u.MultiPolygon(e,r);case"GeometryCollection":for(o=0,l=h.geometries.length;o<l;o++)c.push(this.geometryToLayer({geometry:h.geometries[o],type:"Feature",properties:n.properties},t,i,r));return new u.FeatureGroup(c);default:throw new Error("Invalid GeoJSON object.");}},coordsToLatLng:function(n){return new u.LatLng(n[1],n[0],n[2])},coordsToLatLngs:function(n,t,i){for(var u,e=[],r=0,f=n.length;r<f;r++)u=t?this.coordsToLatLngs(n[r],t-1,i):(i||this.coordsToLatLng)(n[r]),e.push(u);return e},latLngToCoords:function(n){var t=[n.lng,n.lat];return n.alt!==r&&t.push(n.alt),t},latLngsToCoords:function(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(u.GeoJSON.latLngToCoords(n[t]));return i},getFeature:function(n,t){return n.feature?u.extend({},n.feature,{geometry:t}):u.GeoJSON.asFeature(t)},asFeature:function(n){return n.type==="Feature"?n:{type:"Feature",properties:{},geometry:n}}});e={toGeoJSON:function(){return u.GeoJSON.getFeature(this,{type:"Point",coordinates:u.GeoJSON.latLngToCoords(this.getLatLng())})}};u.Marker.include(e);u.Circle.include(e);u.CircleMarker.include(e);u.Polyline.include({toGeoJSON:function(){return u.GeoJSON.getFeature(this,{type:"LineString",coordinates:u.GeoJSON.latLngsToCoords(this.getLatLngs())})}});u.Polygon.include({toGeoJSON:function(){var n=[u.GeoJSON.latLngsToCoords(this.getLatLngs())],t,r,i;if(n[0].push(n[0][0]),this._holes)for(t=0,r=this._holes.length;t<r;t++)i=u.GeoJSON.latLngsToCoords(this._holes[t]),i.push(i[0]),n.push(i);return u.GeoJSON.getFeature(this,{type:"Polygon",coordinates:n})}}),function(){function n(n){return function(){var t=[];return this.eachLayer(function(n){t.push(n.toGeoJSON().geometry.coordinates)}),u.GeoJSON.getFeature(this,{type:n,coordinates:t})}}u.MultiPolyline.include({toGeoJSON:n("MultiLineString")});u.MultiPolygon.include({toGeoJSON:n("MultiPolygon")});u.LayerGroup.include({toGeoJSON:function(){var t=this.feature&&this.feature.geometry,i=[],r,f;return t&&t.type==="MultiPoint"?n("MultiPoint").call(this):(f=t&&t.type==="GeometryCollection",this.eachLayer(function(n){n.toGeoJSON&&(r=n.toGeoJSON(),i.push(f?r.geometry:u.GeoJSON.asFeature(r)))}),f)?u.GeoJSON.getFeature(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}})}();u.geoJson=function(n,t){return new u.GeoJSON(n,t)};u.DomEvent={addListener:function(n,t,i,r){var o=u.stamp(i),s="_leaflet_"+t+o,f,e,h;return n[s]?this:(f=function(t){return i.call(r||n,t||u.DomEvent._getEvent())},u.Browser.pointer&&t.indexOf("touch")===0)?this.addPointerListener(n,t,f,o):(u.Browser.touch&&t==="dblclick"&&this.addDoubleTapListener&&this.addDoubleTapListener(n,f,o),"addEventListener"in n?t==="mousewheel"?(n.addEventListener("DOMMouseScroll",f,!1),n.addEventListener(t,f,!1)):t==="mouseenter"||t==="mouseleave"?(e=f,h=t==="mouseenter"?"mouseover":"mouseout",f=function(t){if(u.DomEvent._checkMouse(n,t))return e(t)},n.addEventListener(h,f,!1)):t==="click"&&u.Browser.android?(e=f,f=function(n){return u.DomEvent._filterClick(n,e)},n.addEventListener(t,f,!1)):n.addEventListener(t,f,!1):"attachEvent"in n&&n.attachEvent("on"+t,f),n[s]=f,this)},removeListener:function(n,t,i){var f=u.stamp(i),e="_leaflet_"+t+f,r=n[e];return r?(u.Browser.pointer&&t.indexOf("touch")===0?this.removePointerListener(n,t,f):u.Browser.touch&&t==="dblclick"&&this.removeDoubleTapListener?this.removeDoubleTapListener(n,f):"removeEventListener"in n?t==="mousewheel"?(n.removeEventListener("DOMMouseScroll",r,!1),n.removeEventListener(t,r,!1)):t==="mouseenter"||t==="mouseleave"?n.removeEventListener(t==="mouseenter"?"mouseover":"mouseout",r,!1):n.removeEventListener(t,r,!1):"detachEvent"in n&&n.detachEvent("on"+t,r),n[e]=null,this):this},stopPropagation:function(n){return n.stopPropagation?n.stopPropagation():n.cancelBubble=!0,u.DomEvent._skipped(n),this},disableScrollPropagation:function(n){var t=u.DomEvent.stopPropagation;return u.DomEvent.on(n,"mousewheel",t).on(n,"MozMousePixelScroll",t)},disableClickPropagation:function(n){for(var i=u.DomEvent.stopPropagation,t=u.Draggable.START.length-1;t>=0;t--)u.DomEvent.on(n,u.Draggable.START[t],i);return u.DomEvent.on(n,"click",u.DomEvent._fakeStop).on(n,"dblclick",i)},preventDefault:function(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this},stop:function(n){return u.DomEvent.preventDefault(n).stopPropagation(n)},getMousePosition:function(n,t){if(!t)return new u.Point(n.clientX,n.clientY);var i=t.getBoundingClientRect();return new u.Point(n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop)},getWheelDelta:function(n){var t=0;return n.wheelDelta&&(t=n.wheelDelta/120),n.detail&&(t=-n.detail/3),t},_skipEvents:{},_fakeStop:function(n){u.DomEvent._skipEvents[n.type]=!0},_skipped:function(n){var t=this._skipEvents[n.type];return this._skipEvents[n.type]=!1,t},_checkMouse:function(n,t){var i=t.relatedTarget;if(!i)return!0;try{while(i&&i!==n)i=i.parentNode}catch(r){return!1}return i!==n},_getEvent:function(){var t=n.event,i;if(!t)for(i=arguments.callee.caller;i;){if(t=i.arguments[0],t&&n.Event===t.constructor)break;i=i.caller}return t},_filterClick:function(n,t){var r=n.timeStamp||n.originalEvent.timeStamp,i=u.DomEvent._lastClick&&r-u.DomEvent._lastClick;if(i&&i>100&&i<500||n.target._simulatedClick&&!n._simulated){u.DomEvent.stop(n);return}return u.DomEvent._lastClick=r,t(n)}};u.DomEvent.on=u.DomEvent.addListener;u.DomEvent.off=u.DomEvent.removeListener;u.Draggable=u.Class.extend({includes:u.Mixin.Events,statics:{START:u.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(n,t){this._element=n;this._dragStartTarget=t||n},enable:function(){if(!this._enabled){for(var n=u.Draggable.START.length-1;n>=0;n--)u.DomEvent.on(this._dragStartTarget,u.Draggable.START[n],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var n=u.Draggable.START.length-1;n>=0;n--)u.DomEvent.off(this._dragStartTarget,u.Draggable.START[n],this._onDown,this);this._enabled=!1;this._moved=!1}},_onDown:function(n){if((this._moved=!1,!n.shiftKey&&(n.which===1||n.button===1||n.touches))&&(u.DomEvent.stopPropagation(n),!u.Draggable._disabled)&&(u.DomUtil.disableImageDrag(),u.DomUtil.disableTextSelection(),!this._moving)){var t=n.touches?n.touches[0]:n;this._startPoint=new u.Point(t.clientX,t.clientY);this._startPos=this._newPos=u.DomUtil.getPosition(this._element);u.DomEvent.on(i,u.Draggable.MOVE[n.type],this._onMove,this).on(i,u.Draggable.END[n.type],this._onUp,this)}},_onMove:function(n){if(n.touches&&n.touches.length>1){this._moved=!0;return}var r=n.touches&&n.touches.length===1?n.touches[0]:n,f=new u.Point(r.clientX,r.clientY),t=f.subtract(this._startPoint);(t.x||t.y)&&(u.Browser.touch&&Math.abs(t.x)+Math.abs(t.y)<3||(u.DomEvent.preventDefault(n),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=u.DomUtil.getPosition(this._element).subtract(t),u.DomUtil.addClass(i.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,u.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(t),this._moving=!0,u.Util.cancelAnimFrame(this._animRequest),this._animRequest=u.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)))},_updatePosition:function(){this.fire("predrag");u.DomUtil.setPosition(this._element,this._newPos);this.fire("drag")},_onUp:function(){u.DomUtil.removeClass(i.body,"leaflet-dragging");this._lastTarget&&(u.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var n in u.Draggable.MOVE)u.DomEvent.off(i,u.Draggable.MOVE[n],this._onMove).off(i,u.Draggable.END[n],this._onUp);u.DomUtil.enableImageDrag();u.DomUtil.enableTextSelection();this._moved&&this._moving&&(u.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)}));this._moving=!1}});u.Handler=u.Class.extend({initialize:function(n){this._map=n},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}});u.Map.mergeOptions({dragging:!0,inertia:!u.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,inertiaThreshold:u.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1});u.Map.Drag=u.Handler.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new u.Draggable(n._mapPane,n._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);if(n.options.worldCopyJump){this._draggable.on("predrag",this._onPreDrag,this);n.on("viewreset",this._onViewReset,this);n.whenReady(this._onViewReset,this)}}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var n=this._map;n._panAnim&&n._panAnim.stop();n.fire("movestart").fire("dragstart");n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var n=this._lastTime=+new Date,t=this._lastPos=this._draggable._newPos;this._positions.push(t);this._times.push(n);n-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var n=this._map.getSize()._divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(n).x;this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var i=this._worldWidth,t=Math.round(i/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,u=(r-t+n)%i+t-n,f=(r+t+n)%i-t-n,e=Math.abs(u+n)<Math.abs(f+n)?u:f;this._draggable._newPos.x=e},_onDragEnd:function(n){var t=this._map,i=t.options,e=+new Date-this._lastTime,l=!i.inertia||e>i.inertiaThreshold||!this._positions[0];if(t.fire("dragend",n),l)t.fire("moveend");else{var a=this._lastPos.subtract(this._positions[0]),v=(this._lastTime+e-this._times[0])/1e3,f=i.easeLinearity,o=a.multiplyBy(f/v),s=o.distanceTo([0,0]),h=Math.min(i.inertiaMaxSpeed,s),y=o.multiplyBy(h/s),c=h/(i.inertiaDeceleration*f),r=y.multiplyBy(-c/2).round();r.x&&r.y?(r=t._limitOffset(r,t.options.maxBounds),u.Util.requestAnimFrame(function(){t.panBy(r,{duration:c,easeLinearity:f,noMoveStart:!0})})):t.fire("moveend")}}});u.Map.addInitHook("addHandler","dragging",u.Map.Drag);u.Map.mergeOptions({doubleClickZoom:!0});u.Map.DoubleClickZoom=u.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var t=this._map,i=t.getZoom()+(n.originalEvent.shiftKey?-1:1);t.options.doubleClickZoom==="center"?t.setZoom(i):t.setZoomAround(n.containerPoint,i)}});u.Map.addInitHook("addHandler","doubleClickZoom",u.Map.DoubleClickZoom);u.Map.mergeOptions({scrollWheelZoom:!0});u.Map.ScrollWheelZoom=u.Handler.extend({addHooks:function(){u.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this);u.DomEvent.on(this._map._container,"MozMousePixelScroll",u.DomEvent.preventDefault);this._delta=0},removeHooks:function(){u.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll);u.DomEvent.off(this._map._container,"MozMousePixelScroll",u.DomEvent.preventDefault)},_onWheelScroll:function(n){var i=u.DomEvent.getWheelDelta(n),t;this._delta+=i;this._lastMousePos=this._map.mouseEventToContainerPoint(n);this._startTime||(this._startTime=+new Date);t=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(u.bind(this._performZoom,this),t);u.DomEvent.preventDefault(n);u.DomEvent.stopPropagation(n)},_performZoom:function(){var t=this._map,n=this._delta,i=t.getZoom();(n=n>0?Math.ceil(n):Math.floor(n),n=Math.max(Math.min(n,4),-4),n=t._limitZoom(i+n)-i,this._delta=0,this._startTime=null,n)&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+n):t.setZoomAround(this._lastMousePos,i+n))}});u.Map.addInitHook("addHandler","scrollWheelZoom",u.Map.ScrollWheelZoom);u.extend(u.DomEvent,{_touchstart:u.Browser.msPointer?"MSPointerDown":u.Browser.pointer?"pointerdown":"touchstart",_touchend:u.Browser.msPointer?"MSPointerUp":u.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(n,t,r){function y(n){var i,t,r;(u.Browser.pointer?(e.push(n.pointerId),i=e.length):i=n.touches.length,i>1)||(t=Date.now(),r=t-(o||t),f=n.touches?n.touches[0]:n,c=r>0&&r<=p,o=t)}function s(n){var r,s,i,h;if(u.Browser.pointer){if(r=e.indexOf(n.pointerId),r===-1)return;e.splice(r,1)}if(c){if(u.Browser.pointer){s={};for(h in f)i=f[h],s[h]=typeof i=="function"?i.bind(f):i;f=s}f.type="dblclick";t(f);o=null}}var o,c=!1,p=250,f,l="_leaflet_",a=this._touchstart,v=this._touchend,e=[],h;return n[l+a+r]=y,n[l+v+r]=s,h=u.Browser.pointer?i.documentElement:n,n.addEventListener(a,y,!1),h.addEventListener(v,s,!1),u.Browser.pointer&&h.addEventListener(u.DomEvent.POINTER_CANCEL,s,!1),this},removeDoubleTapListener:function(n,t){var r="_leaflet_";return n.removeEventListener(this._touchstart,n[r+this._touchstart+t],!1),(u.Browser.pointer?i.documentElement:n).removeEventListener(this._touchend,n[r+this._touchend+t],!1),u.Browser.pointer&&i.documentElement.removeEventListener(u.DomEvent.POINTER_CANCEL,n[r+this._touchend+t],!1),this}});u.extend(u.DomEvent,{POINTER_DOWN:u.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:u.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:u.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:u.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(n,t,i,r){switch(t){case"touchstart":return this.addPointerListenerStart(n,t,i,r);case"touchend":return this.addPointerListenerEnd(n,t,i,r);case"touchmove":return this.addPointerListenerMove(n,t,i,r);default:throw"Unknown touch event type";}},addPointerListenerStart:function(n,t,r,f){var e=this._pointers,s=function(n){var i,t;for(u.DomEvent.preventDefault(n),i=!1,t=0;t<e.length;t++)if(e[t].pointerId===n.pointerId){i=!0;break}i||e.push(n);n.touches=e.slice();n.changedTouches=[n];r(n)},o;return n["_leaflet_touchstart"+f]=s,n.addEventListener(this.POINTER_DOWN,s,!1),this._pointerDocumentListener||(o=function(n){for(var t=0;t<e.length;t++)if(e[t].pointerId===n.pointerId){e.splice(t,1);break}},i.documentElement.addEventListener(this.POINTER_UP,o,!1),i.documentElement.addEventListener(this.POINTER_CANCEL,o,!1),this._pointerDocumentListener=!0),this},addPointerListenerMove:function(n,t,i,r){function f(n){if(n.pointerType!==n.MSPOINTER_TYPE_MOUSE&&n.pointerType!=="mouse"||n.buttons!==0){for(var t=0;t<u.length;t++)if(u[t].pointerId===n.pointerId){u[t]=n;break}n.touches=u.slice();n.changedTouches=[n];i(n)}}var u=this._pointers;return n["_leaflet_touchmove"+r]=f,n.addEventListener(this.POINTER_MOVE,f,!1),this},addPointerListenerEnd:function(n,t,i,r){var u=this._pointers,f=function(n){for(var t=0;t<u.length;t++)if(u[t].pointerId===n.pointerId){u.splice(t,1);break}n.touches=u.slice();n.changedTouches=[n];i(n)};return n["_leaflet_touchend"+r]=f,n.addEventListener(this.POINTER_UP,f,!1),n.addEventListener(this.POINTER_CANCEL,f,!1),this},removePointerListener:function(n,t,i){var r=n["_leaflet_"+t+i];switch(t){case"touchstart":n.removeEventListener(this.POINTER_DOWN,r,!1);break;case"touchmove":n.removeEventListener(this.POINTER_MOVE,r,!1);break;case"touchend":n.removeEventListener(this.POINTER_UP,r,!1);n.removeEventListener(this.POINTER_CANCEL,r,!1)}return this}});u.Map.mergeOptions({touchZoom:u.Browser.touch&&!u.Browser.android23,bounceAtZoomLimits:!0});u.Map.TouchZoom=u.Handler.extend({addHooks:function(){u.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){u.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var t=this._map;if(n.touches&&n.touches.length===2&&!t._animatingZoom&&!this._zooming){var r=t.mouseEventToLayerPoint(n.touches[0]),f=t.mouseEventToLayerPoint(n.touches[1]),e=t._getCenterLayerPoint();this._startCenter=r.add(f)._divideBy(2);this._startDist=r.distanceTo(f);this._moved=!1;this._zooming=!0;this._centerOffset=e.subtract(this._startCenter);t._panAnim&&t._panAnim.stop();u.DomEvent.on(i,"touchmove",this._onTouchMove,this).on(i,"touchend",this._onTouchEnd,this);u.DomEvent.preventDefault(n)}},_onTouchMove:function(n){var t=this._map,i,r;n.touches&&n.touches.length===2&&this._zooming&&(i=t.mouseEventToLayerPoint(n.touches[0]),r=t.mouseEventToLayerPoint(n.touches[1]),this._scale=i.distanceTo(r)/this._startDist,this._delta=i._add(r)._divideBy(2)._subtract(this._startCenter),this._scale!==1)&&(!t.options.bounceAtZoomLimits&&(t.getZoom()===t.getMinZoom()&&this._scale<1||t.getZoom()===t.getMaxZoom()&&this._scale>1)||(this._moved||(u.DomUtil.addClass(t._mapPane,"leaflet-touching"),t.fire("movestart").fire("zoomstart"),this._moved=!0),u.Util.cancelAnimFrame(this._animRequest),this._animRequest=u.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),u.DomEvent.preventDefault(n)))},_updateOnMove:function(){var n=this._map,t=this._getScaleOrigin(),i=n.layerPointToLatLng(t),r=n.getScaleZoom(this._scale);n._animateZoom(i,r,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){var n;if(!this._moved||!this._zooming){this._zooming=!1;return}n=this._map;this._zooming=!1;u.DomUtil.removeClass(n._mapPane,"leaflet-touching");u.Util.cancelAnimFrame(this._animRequest);u.DomEvent.off(i,"touchmove",this._onTouchMove).off(i,"touchend",this._onTouchEnd);var r=this._getScaleOrigin(),o=n.layerPointToLatLng(r),f=n.getZoom(),t=n.getScaleZoom(this._scale)-f,s=t>0?Math.ceil(t):Math.floor(t),e=n._limitZoom(f+s),h=n.getZoomScale(e)/this._scale;n._animateZoom(o,e,r,h)},_getScaleOrigin:function(){var n=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(n)}});u.Map.addInitHook("addHandler","touchZoom",u.Map.TouchZoom);u.Map.mergeOptions({tap:!0,tapTolerance:15});u.Map.Tap=u.Handler.extend({addHooks:function(){u.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){u.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(n.touches){if(u.DomEvent.preventDefault(n),this._fireClick=!0,n.touches.length>1){this._fireClick=!1;clearTimeout(this._holdTimeout);return}var t=n.touches[0],r=t.target;this._startPos=this._newPos=new u.Point(t.clientX,t.clientY);r.tagName&&r.tagName.toLowerCase()==="a"&&u.DomUtil.addClass(r,"leaflet-active");this._holdTimeout=setTimeout(u.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",t))},this),1e3);u.DomEvent.on(i,"touchmove",this._onMove,this).on(i,"touchend",this._onUp,this)}},_onUp:function(n){if(clearTimeout(this._holdTimeout),u.DomEvent.off(i,"touchmove",this._onMove,this).off(i,"touchend",this._onUp,this),this._fireClick&&n&&n.changedTouches){var r=n.changedTouches[0],t=r.target;t&&t.tagName&&t.tagName.toLowerCase()==="a"&&u.DomUtil.removeClass(t,"leaflet-active");this._isTapValid()&&this._simulateEvent("click",r)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(n){var t=n.touches[0];this._newPos=new u.Point(t.clientX,t.clientY)},_simulateEvent:function(t,r){var u=i.createEvent("MouseEvents");u._simulated=!0;r.target._simulatedClick=!0;u.initMouseEvent(t,!0,!0,n,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null);r.target.dispatchEvent(u)}});u.Browser.touch&&!u.Browser.pointer&&u.Map.addInitHook("addHandler","tap",u.Map.Tap);u.Map.mergeOptions({boxZoom:!0});u.Map.BoxZoom=u.Handler.extend({initialize:function(n){this._map=n;this._container=n._container;this._pane=n._panes.overlayPane;this._moved=!1},addHooks:function(){u.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){u.DomEvent.off(this._container,"mousedown",this._onMouseDown);this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(n){if(this._moved=!1,!n.shiftKey||n.which!==1&&n.button!==1)return!1;u.DomUtil.disableTextSelection();u.DomUtil.disableImageDrag();this._startLayerPoint=this._map.mouseEventToLayerPoint(n);u.DomEvent.on(i,"mousemove",this._onMouseMove,this).on(i,"mouseup",this._onMouseUp,this).on(i,"keydown",this._onKeyDown,this)},_onMouseMove:function(n){this._moved||(this._box=u.DomUtil.create("div","leaflet-zoom-box",this._pane),u.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var t=this._startLayerPoint,i=this._box,r=this._map.mouseEventToLayerPoint(n),f=r.subtract(t),e=new u.Point(Math.min(r.x,t.x),Math.min(r.y,t.y));u.DomUtil.setPosition(i,e);this._moved=!0;i.style.width=Math.max(0,Math.abs(f.x)-4)+"px";i.style.height=Math.max(0,Math.abs(f.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor="");u.DomUtil.enableTextSelection();u.DomUtil.enableImageDrag();u.DomEvent.off(i,"mousemove",this._onMouseMove).off(i,"mouseup",this._onMouseUp).off(i,"keydown",this._onKeyDown)},_onMouseUp:function(n){var t,i,r;(this._finish(),t=this._map,i=t.mouseEventToLayerPoint(n),this._startLayerPoint.equals(i))||(r=new u.LatLngBounds(t.layerPointToLatLng(this._startLayerPoint),t.layerPointToLatLng(i)),t.fitBounds(r),t.fire("boxzoomend",{boxZoomBounds:r}))},_onKeyDown:function(n){n.keyCode===27&&this._finish()}});u.Map.addInitHook("addHandler","boxZoom",u.Map.BoxZoom);u.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1});u.Map.Keyboard=u.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(n){this._map=n;this._setPanOffset(n.options.keyboardPanOffset);this._setZoomOffset(n.options.keyboardZoomOffset)},addHooks:function(){var n=this._map._container;n.tabIndex===-1&&(n.tabIndex="0");u.DomEvent.on(n,"focus",this._onFocus,this).on(n,"blur",this._onBlur,this).on(n,"mousedown",this._onMouseDown,this);this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var n=this._map._container;u.DomEvent.off(n,"focus",this._onFocus,this).off(n,"blur",this._onBlur,this).off(n,"mousedown",this._onMouseDown,this);this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var t=i.body,r=i.documentElement,u=t.scrollTop||r.scrollTop,f=t.scrollLeft||r.scrollLeft;this._map._container.focus();n.scrollTo(f,u)}},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=!1;this._map.fire("blur")},_setPanOffset:function(n){for(var u=this._panKeys={},i=this.keyCodes,t=0,r=i.left.length;t<r;t++)u[i.left[t]]=[-1*n,0];for(t=0,r=i.right.length;t<r;t++)u[i.right[t]]=[n,0];for(t=0,r=i.down.length;t<r;t++)u[i.down[t]]=[0,n];for(t=0,r=i.up.length;t<r;t++)u[i.up[t]]=[0,-1*n]},_setZoomOffset:function(n){for(var u=this._zoomKeys={},i=this.keyCodes,t=0,r=i.zoomIn.length;t<r;t++)u[i.zoomIn[t]]=n;for(t=0,r=i.zoomOut.length;t<r;t++)u[i.zoomOut[t]]=-n},_addHooks:function(){u.DomEvent.on(i,"keydown",this._onKeyDown,this)},_removeHooks:function(){u.DomEvent.off(i,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){var i=n.keyCode,t=this._map;if(i in this._panKeys){if(t._panAnim&&t._panAnim._inProgress)return;t.panBy(this._panKeys[i]);t.options.maxBounds&&t.panInsideBounds(t.options.maxBounds)}else if(i in this._zoomKeys)t.setZoom(t.getZoom()+this._zoomKeys[i]);else return;u.DomEvent.stop(n)}});u.Map.addInitHook("addHandler","keyboard",u.Map.Keyboard);u.Handler.MarkerDrag=u.Handler.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new u.Draggable(n,n));this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this);this._draggable.enable();u.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this);this._draggable.disable();u.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var n=this._marker,t=n._shadow,i=u.DomUtil.getPosition(n._icon),r=n._map.layerPointToLatLng(i);t&&u.DomUtil.setPosition(t,i);n._latlng=r;n.fire("move",{latlng:r}).fire("drag")},_onDragEnd:function(n){this._marker.fire("moveend").fire("dragend",n)}});u.Control=u.Class.extend({options:{position:"topright"},initialize:function(n){u.setOptions(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var t=this._map;return t&&t.removeControl(this),this.options.position=n,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this._map=n;var t=this._container=this.onAdd(n),r=this.getPosition(),i=n._controlCorners[r];return u.DomUtil.addClass(t,"leaflet-control"),r.indexOf("bottom")!==-1?i.insertBefore(t,i.firstChild):i.appendChild(t),this},removeFrom:function(n){var t=this.getPosition(),i=n._controlCorners[t];if(i.removeChild(this._container),this._map=null,this.onRemove)this.onRemove(n);return this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}});u.control=function(n){return new u.Control(n)};u.Map.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.removeFrom(this),this},_initControlPos:function(){function n(n,f){var e=t+n+" "+t+f;i[n+f]=u.DomUtil.create("div",e,r)}var i=this._controlCorners={},t="leaflet-",r=this._controlContainer=u.DomUtil.create("div",t+"control-container",this._container);n("top","left");n("top","right");n("bottom","left");n("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}});u.Control.Zoom=u.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(n){var t="leaflet-control-zoom",i=u.DomUtil.create("div",t+" leaflet-bar");this._map=n;this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,t+"-in",i,this._zoomIn,this);this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,t+"-out",i,this._zoomOut,this);this._updateDisabled();n.on("zoomend zoomlevelschange",this._updateDisabled,this);return i},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(n){this._map.zoomIn(n.shiftKey?3:1)},_zoomOut:function(n){this._map.zoomOut(n.shiftKey?3:1)},_createButton:function(n,t,i,r,f,e){var o=u.DomUtil.create("a",i,r),s;o.innerHTML=n;o.href="#";o.title=t;s=u.DomEvent.stopPropagation;u.DomEvent.on(o,"click",s).on(o,"mousedown",s).on(o,"dblclick",s).on(o,"click",u.DomEvent.preventDefault).on(o,"click",f,e).on(o,"click",this._refocusOnMap,e);return o},_updateDisabled:function(){var n=this._map,t="leaflet-disabled";u.DomUtil.removeClass(this._zoomInButton,t);u.DomUtil.removeClass(this._zoomOutButton,t);n._zoom===n.getMinZoom()&&u.DomUtil.addClass(this._zoomOutButton,t);n._zoom===n.getMaxZoom()&&u.DomUtil.addClass(this._zoomInButton,t)}});u.Map.mergeOptions({zoomControl:!0});u.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new u.Control.Zoom,this.addControl(this.zoomControl))});u.control.zoom=function(n){return new u.Control.Zoom(n)};u.Control.Attribution=u.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet<\/a>'},initialize:function(n){u.setOptions(this,n);this._attributions={}},onAdd:function(n){this._container=u.DomUtil.create("div","leaflet-control-attribution");u.DomEvent.disableClickPropagation(this._container);for(var t in n._layers)n._layers[t].getAttribution&&this.addAttribution(n._layers[t].getAttribution());n.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this);return this._update(),this._container},onRemove:function(n){n.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){if(n)return this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this},removeAttribution:function(n){if(n)return this._attributions[n]&&(this._attributions[n]--,this._update()),this},_update:function(){var n,i,t;if(this._map){n=[];for(i in this._attributions)this._attributions[i]&&n.push(i);t=[];this.options.prefix&&t.push(this.options.prefix);n.length&&t.push(n.join(", "));this._container.innerHTML=t.join(" | ")}},_onLayerAdd:function(n){n.layer.getAttribution&&this.addAttribution(n.layer.getAttribution())},_onLayerRemove:function(n){n.layer.getAttribution&&this.removeAttribution(n.layer.getAttribution())}});u.Map.mergeOptions({attributionControl:!0});u.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new u.Control.Attribution).addTo(this))});u.control.attribution=function(n){return new u.Control.Attribution(n)};u.Control.Scale=u.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(n){this._map=n;var t="leaflet-control-scale",i=u.DomUtil.create("div",t),r=this.options;this._addScales(r,t,i);n.on(r.updateWhenIdle?"moveend":"move",this._update,this);return n.whenReady(this._update,this),i},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,t,i){n.metric&&(this._mScale=u.DomUtil.create("div",t+"-line",i));n.imperial&&(this._iScale=u.DomUtil.create("div",t+"-line",i))},_update:function(){var n=this._map.getBounds(),u=n.getCenter().lat,f=6378137*Math.PI*Math.cos(u*Math.PI/180),e=f*(n.getNorthEast().lng-n.getSouthWest().lng)/180,t=this._map.getSize(),i=this.options,r=0;t.x>0&&(r=e*(i.maxWidth/t.x));this._updateScales(i,r)},_updateScales:function(n,t){n.metric&&t&&this._updateMetric(t);n.imperial&&t&&this._updateImperial(t)},_updateMetric:function(n){var t=this._getRoundNum(n);this._mScale.style.width=this._getScaleWidth(t/n)+"px";this._mScale.innerHTML=t<1e3?t+" m":t/1e3+" km"},_updateImperial:function(n){var t=n*3.2808399,i=this._iScale,r,u,f;t>5280?(r=t/5280,u=this._getRoundNum(r),i.style.width=this._getScaleWidth(u/r)+"px",i.innerHTML=u+" mi"):(f=this._getRoundNum(t),i.style.width=this._getScaleWidth(f/t)+"px",i.innerHTML=f+" ft")},_getScaleWidth:function(n){return Math.round(this.options.maxWidth*n)-10},_getRoundNum:function(n){var i=Math.pow(10,(Math.floor(n)+"").length-1),t=n/i;return t=t>=10?10:t>=5?5:t>=3?3:t>=2?2:1,i*t}});u.control.scale=function(n){return new u.Control.Scale(n)};u.Control.Layers=u.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(n,t,i){u.setOptions(this,i);this._layers={};this._lastZIndex=0;this._handlingClick=!1;for(var r in n)this._addLayer(n[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(n){this._initLayout();this._update();n.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this);return this._container},onRemove:function(n){n.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(n,t){return this._addLayer(n,t),this._update(),this},addOverlay:function(n,t){return this._addLayer(n,t,!0),this._update(),this},removeLayer:function(n){var t=u.stamp(n);return delete this._layers[t],this._update(),this},_initLayout:function(){var t="leaflet-control-layers",n=this._container=u.DomUtil.create("div",t),i,r;if(n.setAttribute("aria-haspopup",!0),u.Browser.touch)u.DomEvent.on(n,"click",u.DomEvent.stopPropagation);else u.DomEvent.disableClickPropagation(n).disableScrollPropagation(n);if(i=this._form=u.DomUtil.create("form",t+"-list"),this.options.collapsed){if(!u.Browser.android)u.DomEvent.on(n,"mouseover",this._expand,this).on(n,"mouseout",this._collapse,this);if(r=this._layersLink=u.DomUtil.create("a",t+"-toggle",n),r.href="#",r.title="Layers",u.Browser.touch)u.DomEvent.on(r,"click",u.DomEvent.stop).on(r,"click",this._expand,this);else u.DomEvent.on(r,"focus",this._expand,this);u.DomEvent.on(i,"click",function(){setTimeout(u.bind(this._onInputClick,this),0)},this);this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=u.DomUtil.create("div",t+"-base",i);this._separator=u.DomUtil.create("div",t+"-separator",i);this._overlaysList=u.DomUtil.create("div",t+"-overlays",i);n.appendChild(i)},_addLayer:function(n,t,i){var r=u.stamp(n);this._layers[r]={layer:n,name:t,overlay:i};this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="";this._overlaysList.innerHTML="";var t=!1,i=!1,r,n;for(r in this._layers)n=this._layers[r],this._addItem(n),i=i||n.overlay,t=t||!n.overlay;this._separator.style.display=i&&t?"":"none"}},_onLayerChange:function(n){var t=this._layers[u.stamp(n.layer)],i;t&&(this._handlingClick||this._update(),i=t.overlay?n.type==="layeradd"?"overlayadd":"overlayremove":n.type==="layeradd"?"baselayerchange":null,i&&this._map.fire(i,t))},_createRadioElement:function(n,t){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"',u;return t&&(r+=' checked="checked"'),r+="/>",u=i.createElement("div"),u.innerHTML=r,u.firstChild},_addItem:function(n){var r=i.createElement("label"),t,e=this._map.hasLayer(n.layer),f,o;n.overlay?(t=i.createElement("input"),t.type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=e):t=this._createRadioElement("leaflet-base-layers",e);t.layerId=u.stamp(n.layer);u.DomEvent.on(t,"click",this._onInputClick,this);return f=i.createElement("span"),f.innerHTML=" "+n.name,r.appendChild(t),r.appendChild(f),o=n.overlay?this._overlaysList:this._baseLayersList,o.appendChild(r),r},_onInputClick:function(){var t,i,n,r=this._form.getElementsByTagName("input"),u=r.length;for(this._handlingClick=!0,t=0;t<u;t++)i=r[t],n=this._layers[i.layerId],i.checked&&!this._map.hasLayer(n.layer)?this._map.addLayer(n.layer):!i.checked&&this._map.hasLayer(n.layer)&&this._map.removeLayer(n.layer);this._handlingClick=!1;this._refocusOnMap()},_expand:function(){u.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}});u.control.layers=function(n,t,i){return new u.Control.Layers(n,t,i)};u.PosAnimation=u.Class.extend({includes:u.Mixin.Events,run:function(n,t,i,r){this.stop();this._el=n;this._inProgress=!0;this._newPos=t;this.fire("start");n.style[u.DomUtil.TRANSITION]="all "+(i||.25)+"s cubic-bezier(0,0,"+(r||.5)+",1)";u.DomEvent.on(n,u.DomUtil.TRANSITION_END,this._onTransitionEnd,this);u.DomUtil.setPosition(n,t);u.Util.falseFn(n.offsetWidth);this._stepTimer=setInterval(u.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(u.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),u.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var n=this._getPos();if(!n){this._onTransitionEnd();return}this._el._leaflet_pos=n;this.fire("step")},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var i,r,t,e=this._el,f=n.getComputedStyle(e);if(u.Browser.any3d){if(t=f[u.DomUtil.TRANSFORM].match(this._transformRe),!t)return;i=parseFloat(t[1]);r=parseFloat(t[2])}else i=parseFloat(f.left),r=parseFloat(f.top);return new u.Point(i,r,!0)},_onTransitionEnd:function(){(u.DomEvent.off(this._el,u.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress)&&(this._inProgress=!1,this._el.style[u.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}});u.Map.include({setView:function(n,t,i){if(t=t===r?this._zoom:this._limitZoom(t),n=this._limitCenter(u.latLng(n),t,this.options.maxBounds),i=i||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!i.reset&&i!==!0){i.animate!==r&&(i.zoom=u.extend({animate:i.animate},i.zoom),i.pan=u.extend({animate:i.animate},i.pan));var f=this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,t,i.zoom):this._tryAnimatedPan(n,i.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(n,t),this},panBy:function(n,t){if(n=u.point(n).round(),t=t||{},!n.x&&!n.y)return this;if(!this._panAnim){this._panAnim=new u.PosAnimation;this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)}if(t.noMoveStart||this.fire("movestart"),t.animate!==!1){u.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(n);this._panAnim.run(this._mapPane,i,t.duration||.25,t.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){u.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(n,t){var i=this._getCenterOffset(n)._floor();return(t&&t.animate)!==!0&&!this.getSize().contains(i)?!1:(this.panBy(i,t),!0)}});u.PosAnimation=u.DomUtil.TRANSITION?u.PosAnimation:u.PosAnimation.extend({run:function(n,t,i,r){this.stop();this._el=n;this._inProgress=!0;this._duration=i||.25;this._easeOutPower=1/Math.max(r||.5,.2);this._startPos=u.DomUtil.getPosition(n);this._offset=t.subtract(this._startPos);this._startTime=+new Date;this.fire("start");this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=u.Util.requestAnimFrame(this._animate,this);this._step()},_step:function(){var n=+new Date-this._startTime,t=this._duration*1e3;n<t?this._runFrame(this._easeOut(n/t)):(this._runFrame(1),this._complete())},_runFrame:function(n){var t=this._startPos.add(this._offset.multiplyBy(n));u.DomUtil.setPosition(this._el,t);this.fire("step")},_complete:function(){u.Util.cancelAnimFrame(this._animId);this._inProgress=!1;this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}});u.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});u.DomUtil.TRANSITION&&u.Map.addInitHook(function(){if(this._zoomAnimated=this.options.zoomAnimation&&u.DomUtil.TRANSITION&&u.Browser.any3d&&!u.Browser.android23&&!u.Browser.mobileOpera,this._zoomAnimated)u.DomEvent.on(this._mapPane,u.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)});u.Map.include(u.DomUtil.TRANSITION?{_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,t,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),u=this._getCenterOffset(n)._divideBy(1-1/r),f=this._getCenterLayerPoint()._add(u);return i.animate!==!0&&!this.getSize().contains(u)?!1:(this.fire("movestart").fire("zoomstart"),this._animateZoom(n,t,f,r,null,!0),!0)},_animateZoom:function(n,t,i,r,f,e,o){o||(this._animatingZoom=!0);u.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim");this._animateToCenter=n;this._animateToZoom=t;u.Draggable&&(u.Draggable._disabled=!0);u.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:n,zoom:t,origin:i,scale:r,delta:f,backwards:e})},this)},_onZoomTransitionEnd:function(){this._animatingZoom=!1;u.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim");this._resetView(this._animateToCenter,this._animateToZoom,!0,!0);u.Draggable&&(u.Draggable._disabled=!1)}}:{});u.TileLayer.include({_animateZoom:function(n){this._animating||(this._animating=!0,this._prepareBgBuffer());var t=this._bgBuffer,i=u.DomUtil.TRANSFORM,r=n.delta?u.DomUtil.getTranslateString(n.delta):t.style[i],f=u.DomUtil.getScaleString(n.scale,n.origin);t.style[i]=n.backwards?f+" "+r:r+" "+f},_endZoomAnim:function(){var n=this._tileContainer,t=this._bgBuffer;n.style.visibility="";n.parentNode.appendChild(n);u.Util.falseFn(t.offsetWidth);this._animating=!1},_clearBgBuffer:function(){var n=this._map;!n||n._animatingZoom||n.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[u.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var t=this._tileContainer,n=this._bgBuffer,i=this._getLoadedTilesPercentage(n),r=this._getLoadedTilesPercentage(t);if(n&&i>.5&&r<.5){t.style.visibility="hidden";this._stopLoadingImages(t);return}n.style.visibility="hidden";n.style[u.DomUtil.TRANSFORM]="";this._tileContainer=n;n=this._bgBuffer=t;this._stopLoadingImages(n);clearTimeout(this._clearBgBufferTimer)},_getLoadedTilesPercentage:function(n){for(var r=n.getElementsByTagName("img"),u=0,t=0,i=r.length;t<i;t++)r[t].complete&&u++;return u/i},_stopLoadingImages:function(n){for(var r=Array.prototype.slice.call(n.getElementsByTagName("img")),t,i=0,f=r.length;i<f;i++)t=r[i],t.complete||(t.onload=u.Util.falseFn,t.onerror=u.Util.falseFn,t.src=u.Util.emptyImageUrl,t.parentNode.removeChild(t))}});u.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:Infinity,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(n){if(n=this._locateOptions=u.extend(this._defaultLocateOptions,n),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=u.bind(this._handleGeolocationResponse,this),i=u.bind(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,i,n):navigator.geolocation.getCurrentPosition(t,i,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){var t=n.code,i=n.message||(t===1?"permission denied":t===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld();this.fire("locationerror",{code:t,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(n){var t=n.coords.latitude,r=n.coords.longitude,o=new u.LatLng(t,r),f=180*n.coords.accuracy/40075017,s=f/Math.cos(u.LatLng.DEG_TO_RAD*t),h=u.latLngBounds([t-f,r-s],[t+f,r+s]),c=this._locateOptions,l,e,i;c.setView&&(l=Math.min(this.getBoundsZoom(h),c.maxZoom),this.setView(o,l));e={latlng:o,bounds:h,timestamp:n.timestamp};for(i in n.coords)typeof n.coords[i]=="number"&&(e[i]=n.coords[i]);this.fire("locationfound",e)}})})(window,document)},{}],3:[function(n,t,i){(function(n,t){if(typeof i=="object"&&i)t(i);else{var r={};t(r);typeof define=="function"&&define.amd?define(r):n.Mustache=r}})(this,function(n){function b(n,t){return w.call(n,t)}function k(n){return!b(v,n)}function u(n){return typeof n=="function"}function o(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function nt(n){return String(n).replace(/[&<>"'\/]/g,function(n){return g[n]})}function f(n){this.string=n;this.tail=n;this.pos=0}function t(n,t){this.view=n==null?{}:n;this.parent=t;this._cache={".":this.view}}function i(){this.clearCache()}function e(t,i,r,f){function w(n){return i.render(n,r)}for(var a,y,p,s="",h,l,o,v=0,b=t.length;v<b;++v){h=t[v];l=h[1];switch(h[0]){case"#":if(o=r.lookup(l),typeof o=="object"||typeof o=="string")if(c(o))for(a=0,y=o.length;a<y;++a)s+=e(h[4],i,r.push(o[a]),f);else o&&(s+=e(h[4],i,r.push(o),f));else u(o)?(p=f==null?null:f.slice(h[3],h[5]),o=o.call(r.view,p,w),o!=null&&(s+=o)):o&&(s+=e(h[4],i,r,f));break;case"^":o=r.lookup(l);(!o||c(o)&&o.length===0)&&(s+=e(h[4],i,r,f));break;case">":o=i.getPartial(l);u(o)&&(s+=o(r));break;case"&":o=r.lookup(l);o!=null&&(s+=o);break;case"name":o=r.lookup(l);o!=null&&(s+=n.escape(o));break;case"text":s+=l}}return s}function tt(n){for(var e,u=[],r=u,i=[],t,f=0,o=n.length;f<o;++f){t=n[f];switch(t[0]){case"#":case"^":i.push(t);r.push(t);r=t[4]=[];break;case"/":e=i.pop();e[5]=t[2];r=i.length>0?i[i.length-1][4]:u;break;default:r.push(t)}}return u}function it(n){for(var u=[],t,i,r=0,f=n.length;r<f;++r)t=n[r],t&&(t[0]==="text"&&i&&i[0]==="text"?(i[1]+=t[1],i[3]=t[3]):(i=t,u.push(t)));return u}function l(n){return[new RegExp(o(n[0])+"\\s*"),new RegExp("\\s*"+o(n[1]))]}function rt(t,i){function st(){if(ft&&!g)while(d.length)delete b[d.pop()];else d=[];ft=!1;g=!1}var c,u,e,nt,et,w,rt,ot;if(t=t||"",i=i||n.tags,typeof i=="string"&&(i=i.split(s)),i.length!==2)throw new Error("Invalid tags: "+i.join(", "));for(var v=l(i),r=new f(t),ut=[],b=[],d=[],ft=!1,g=!1;!r.eos();){if(c=r.pos,e=r.scanUntil(v[0]),e)for(rt=0,ot=e.length;rt<ot;++rt)nt=e.charAt(rt),k(nt)?d.push(b.length):g=!0,b.push(["text",nt,c,c+1]),c+=1,nt=="\n"&&st();if(!r.scan(v[0]))break;if(ft=!0,u=r.scan(p)||"name",r.scan(a),u==="="?(e=r.scanUntil(h),r.scan(h),r.scanUntil(v[1])):u==="{"?(e=r.scanUntil(new RegExp("\\s*"+o("}"+i[1]))),r.scan(y),r.scanUntil(v[1]),u="&"):e=r.scanUntil(v[1]),!r.scan(v[1]))throw new Error("Unclosed tag at "+r.pos);if(et=[u,e,c,r.pos],b.push(et),u==="#"||u==="^")ut.push(et);else if(u==="/"){if(w=ut.pop(),!w)throw new Error('Unopened section "'+e+'" at '+c);if(w[1]!==e)throw new Error('Unclosed section "'+w[1]+'" at '+c);}else if(u==="name"||u==="{"||u==="&")g=!0;else if(u==="="){if(i=e.split(s),i.length!==2)throw new Error("Invalid tags at "+c+": "+i.join(", "));v=l(i)}}if(w=ut.pop(),w)throw new Error('Unclosed section "'+w[1]+'" at '+r.pos);return tt(it(b))}var a=/\s*/,s=/\s+/,v=/\S/,h=/\s*=/,y=/\s*\}/,p=/#|\^|\/|>|\{|&|=|!/,w=RegExp.prototype.test,d=Object.prototype.toString,c=Array.isArray||function(n){return d.call(n)==="[object Array]"},g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},r;f.prototype.eos=function(){return this.tail===""};f.prototype.scan=function(n){var i=this.tail.match(n),t;return i&&i.index===0?(t=i[0],this.tail=this.tail.substring(t.length),this.pos+=t.length,t):""};f.prototype.scanUntil=function(n){var i=this.tail.search(n),t;switch(i){case-1:t=this.tail;this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,i);this.tail=this.tail.substring(i)}return this.pos+=t.length,t};t.make=function(n){return n instanceof t?n:new t(n)};t.prototype.push=function(n){return new t(n,this)};t.prototype.lookup=function(n){var t,i,r,f;if(n in this._cache)t=this._cache[n];else{for(i=this;i;){if(n.indexOf(".")>0)for(t=i.view,r=n.split("."),f=0;t!=null&&f<r.length;)t=t[r[f++]];else t=i.view[n];if(t!=null)break;i=i.parent}this._cache[n]=t}return u(t)&&(t=t.call(this.view)),t};i.prototype.clearCache=function(){this._cache={};this._partialCache={}};i.prototype.compile=function(t,i){var r=this._cache[t],u;return r||(u=n.parse(t,i),r=this._cache[t]=this.compileTokens(u,t)),r};i.prototype.compilePartial=function(n,t,i){var r=this.compile(t,i);return this._partialCache[n]=r,r};i.prototype.getPartial=function(n){return n in this._partialCache||!this._loadPartial||this.compilePartial(n,this._loadPartial(n)),this._partialCache[n]};i.prototype.compileTokens=function(n,i){var r=this;return function(f,o){if(o)if(u(o))r._loadPartial=o;else for(var s in o)r.compilePartial(s,o[s]);return e(n,r,t.make(f),i)}};i.prototype.render=function(n,t,i){return this.compile(n)(t,i)};n.name="mustache.js";n.version="0.7.3";n.tags=["{{","}}"];n.Scanner=f;n.Context=t;n.Writer=i;n.parse=rt;n.escape=nt;r=new i;n.clearCache=function(){return r.clearCache()};n.compile=function(n,t){return r.compile(n,t)};n.compilePartial=function(n,t,i){return r.compilePartial(n,t,i)};n.compileTokens=function(n,t){return r.compileTokens(n,t)};n.render=function(n,t,i){return r.render(n,t,i)};n.to_html=function(t,i,r,f){var e=n.render(t,i,r);if(u(f))f(e);else return e}})},{}],4:[function(n,t){function r(n){"use strict";return/^https?/.test(n.getScheme())?n.toString():/^mailto?/.test(n.getScheme())?n.toString():"data"==n.getScheme()&&/^image/.test(n.getPath())?n.toString():void 0}function u(n){return n}var i=n("./sanitizer-bundle.js");t.exports=function(n){return n?i(n,r,u):""}},{"./sanitizer-bundle.js":5}],5:[function(n,t){var f=function(){function u(i){var r=(""+i).match(p);return r?new n(t(r[1]),t(r[2]),t(r[3]),t(r[4]),t(r[5]),t(r[6]),t(r[7])):null}function l(t,r,u,f,h,l,a){var v=new n(i(t,e),i(r,e),o(u),f>0?f.toString():null,i(h,c),null,o(a));return l&&("string"==typeof l?v.setRawQuery(l.replace(/[^?&=0-9A-Za-z_\-~.%]/g,s)):v.setAllParameters(l)),v}function o(n){return"string"==typeof n?encodeURIComponent(n):null}function i(n,t){return"string"==typeof n?encodeURI(n).replace(t,s):null}function s(n){var t=n.charCodeAt(0);return"%"+"0123456789ABCDEF".charAt(t>>4&15)+"0123456789ABCDEF".charAt(t&15)}function a(n){return n.replace(/(^|\/)\.(?:\/|$)/g,"$1").replace(/\/{2,}/g,"/")}function r(n){var t,i,r;if(n===null)return null;for(t=a(n),i=y;(r=t.replace(i,"$1"))!=t;t=r);return t}function h(n,t){var e=n.clone(),i=t.hasScheme(),o,u,s,h;return i?e.setRawScheme(t.getRawScheme()):i=t.hasCredentials(),i?e.setRawCredentials(t.getRawCredentials()):i=t.hasDomain(),i?e.setRawDomain(t.getRawDomain()):i=t.hasPort(),o=t.getRawPath(),u=r(o),i?(e.setPort(t.getPort()),u=u&&u.replace(f,"")):(i=!!o,i?u.charCodeAt(0)!==47&&(s=r(e.getRawPath()||"").replace(f,""),h=s.lastIndexOf("/")+1,u=r((h?s.substring(0,h):"")+r(o)).replace(f,"")):(u=u&&u.replace(f,""),u!==o&&e.setRawPath(u))),i?e.setRawPath(u):i=t.hasQuery(),i?e.setRawQuery(t.getRawQuery()):i=t.hasFragment(),i&&e.setRawFragment(t.getRawFragment()),e}function n(n,t,i,r,u,f,e){this.scheme_=n;this.credentials_=t;this.domain_=i;this.port_=r;this.path_=u;this.query_=f;this.fragment_=e;this.paramCache_=null}function t(n){return"string"==typeof n&&n.length>0?n:null}var v=new RegExp("(/|^)(?:[^./][^/]*|\\.{2,}(?:[^./][^/]*)|\\.{3,}[^/]*)/\\.\\.(?:/|$)"),y=new RegExp(v),f=/^(?:\.\.\/)*(?:\.\.$)?/;n.prototype.toString=function(){var n=[];return null!==this.scheme_&&n.push(this.scheme_,":"),null!==this.domain_&&(n.push("//"),null!==this.credentials_&&n.push(this.credentials_,"@"),n.push(this.domain_),null!==this.port_&&n.push(":",this.port_.toString())),null!==this.path_&&n.push(this.path_),null!==this.query_&&n.push("?",this.query_),null!==this.fragment_&&n.push("#",this.fragment_),n.join("")};n.prototype.clone=function(){return new n(this.scheme_,this.credentials_,this.domain_,this.port_,this.path_,this.query_,this.fragment_)};n.prototype.getScheme=function(){return this.scheme_&&decodeURIComponent(this.scheme_).toLowerCase()};n.prototype.getRawScheme=function(){return this.scheme_};n.prototype.setScheme=function(n){return this.scheme_=i(n,e),this};n.prototype.setRawScheme=function(n){return this.scheme_=n?n:null,this};n.prototype.hasScheme=function(){return null!==this.scheme_};n.prototype.getCredentials=function(){return this.credentials_&&decodeURIComponent(this.credentials_)};n.prototype.getRawCredentials=function(){return this.credentials_};n.prototype.setCredentials=function(n){return this.credentials_=i(n,e),this};n.prototype.setRawCredentials=function(n){return this.credentials_=n?n:null,this};n.prototype.hasCredentials=function(){return null!==this.credentials_};n.prototype.getDomain=function(){return this.domain_&&decodeURIComponent(this.domain_)};n.prototype.getRawDomain=function(){return this.domain_};n.prototype.setDomain=function(n){return this.setRawDomain(n&&encodeURIComponent(n))};n.prototype.setRawDomain=function(n){return this.domain_=n?n:null,this.setRawPath(this.path_)};n.prototype.hasDomain=function(){return null!==this.domain_};n.prototype.getPort=function(){return this.port_&&decodeURIComponent(this.port_)};n.prototype.setPort=function(n){if(n){if(n=Number(n),n!==(n&65535))throw new Error("Bad port number "+n);this.port_=""+n}else this.port_=null;return this};n.prototype.hasPort=function(){return null!==this.port_};n.prototype.getPath=function(){return this.path_&&decodeURIComponent(this.path_)};n.prototype.getRawPath=function(){return this.path_};n.prototype.setPath=function(n){return this.setRawPath(i(n,c))};n.prototype.setRawPath=function(n){return n?(n=String(n),this.path_=!this.domain_||/^\//.test(n)?n:"/"+n):this.path_=null,this};n.prototype.hasPath=function(){return null!==this.path_};n.prototype.getQuery=function(){return this.query_&&decodeURIComponent(this.query_).replace(/\+/g," ")};n.prototype.getRawQuery=function(){return this.query_};n.prototype.setQuery=function(n){return this.paramCache_=null,this.query_=o(n),this};n.prototype.setRawQuery=function(n){return this.paramCache_=null,this.query_=n?n:null,this};n.prototype.hasQuery=function(){return null!==this.query_};n.prototype.setAllParameters=function(n){var r,e,u,o,f,i,t;if(typeof n=="object"&&!(n instanceof Array)&&(n instanceof Object||Object.prototype.toString.call(n)!=="[object Array]")){r=[];e=-1;for(i in n)t=n[i],"string"==typeof t&&(r[++e]=i,r[++e]=t);n=r}for(this.paramCache_=null,u=[],o="",f=0;f<n.length;)i=n[f++],t=n[f++],u.push(o,encodeURIComponent(i.toString())),o="&",t&&u.push("=",encodeURIComponent(t.toString()));return this.query_=u.join(""),this};n.prototype.checkParameterCache_=function(){var t,n,r;if(!this.paramCache_)if(t=this.query_,t){var u=t.split(/[&\?]/),i=[],f=-1;for(n=0;n<u.length;++n)r=u[n].match(/^([^=]*)(?:=(.*))?$/),i[++f]=decodeURIComponent(r[1]).replace(/\+/g," "),i[++f]=decodeURIComponent(r[2]||"").replace(/\+/g," ");this.paramCache_=i}else this.paramCache_=[]};n.prototype.setParameterValues=function(n,t){var i,e;typeof t=="string"&&(t=[t]);this.checkParameterCache_();var r=0,u=this.paramCache_,f=[];for(i=0,e=0;i<u.length;i+=2)n===u[i]?r<t.length&&f.push(n,t[r++]):f.push(u[i],u[i+1]);while(r<t.length)f.push(n,t[r++]);return this.setAllParameters(f),this};n.prototype.removeParameter=function(n){return this.setParameterValues(n,[])};n.prototype.getAllParameters=function(){return this.checkParameterCache_(),this.paramCache_.slice(0,this.paramCache_.length)};n.prototype.getParameterValues=function(n){var i,t;for(this.checkParameterCache_(),i=[],t=0;t<this.paramCache_.length;t+=2)n===this.paramCache_[t]&&i.push(this.paramCache_[t+1]);return i};n.prototype.getParameterMap=function(){var n,t,i,r;for(this.checkParameterCache_(),n={},t=0;t<this.paramCache_.length;t+=2)i=this.paramCache_[t++],r=this.paramCache_[t++],i in n?n[i].push(r):n[i]=[r];return n};n.prototype.getParameterValue=function(n){this.checkParameterCache_();for(var t=0;t<this.paramCache_.length;t+=2)if(n===this.paramCache_[t])return this.paramCache_[t+1];return null};n.prototype.getFragment=function(){return this.fragment_&&decodeURIComponent(this.fragment_)};n.prototype.getRawFragment=function(){return this.fragment_};n.prototype.setFragment=function(n){return this.fragment_=n?encodeURIComponent(n):null,this};n.prototype.setRawFragment=function(n){return this.fragment_=n?n:null,this};n.prototype.hasFragment=function(){return null!==this.fragment_};var p=new RegExp("^(?:([^:/?#]+):)?(?://(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),e=/[#\/\?@]/g,c=/[\#\?]/g;return n.parse=u,n.create=l,n.resolve=h,n.collapse_dots=r,n.utils={mimeTypeOf:function(n){var t=u(n);return/\.html$/.test(t.getPath())?"text/html":"application/javascript"},resolve:function(n,t){return n?h(u(n),u(t)).toString():""+t}},n}(),i={},r,u;if(i.atype={NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,HTML:12,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10,MEDIA_QUERY:13},i.atype=i.atype,i.ATTRIBS={"*::class":9,"*::dir":0,"*::draggable":0,"*::hidden":0,"*::id":4,"*::inert":0,"*::itemprop":0,"*::itemref":6,"*::itemscope":0,"*::lang":0,"*::onblur":2,"*::onchange":2,"*::onclick":2,"*::ondblclick":2,"*::onfocus":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::onreset":2,"*::onscroll":2,"*::onselect":2,"*::onsubmit":2,"*::onunload":2,"*::spellcheck":0,"*::style":3,"*::title":0,"*::translate":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::shape":0,"a::tabindex":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"audio::controls":0,"audio::loop":0,"audio::mediagroup":5,"audio::muted":0,"audio::preload":0,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"command::checked":0,"command::command":5,"command::disabled":0,"command::icon":1,"command::label":0,"command::radiogroup":0,"command::type":0,"data::value":0,"del::cite":1,"del::datetime":0,"details::open":0,"dir::compact":0,"div::align":0,"dl::compact":0,"fieldset::disabled":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::novalidate":0,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::inputmode":0,"input::ismap":0,"input::list":5,"input::max":0,"input::maxlength":0,"input::min":0,"input::multiple":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::placeholder":0,"input::readonly":0,"input::required":0,"input::size":0,"input::src":1,"input::step":0,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"menu::label":0,"menu::type":0,"meter::high":0,"meter::low":0,"meter::max":0,"meter::min":0,"meter::value":0,"ol::compact":0,"ol::reversed":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"output::for":6,"output::name":8,"p::align":0,"pre::width":0,"progress::max":0,"progress::min":0,"progress::value":0,"q::cite":1,"select::autocomplete":0,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::required":0,"select::size":0,"select::tabindex":0,"source::type":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::autocomplete":0,"textarea::cols":0,"textarea::disabled":0,"textarea::inputmode":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::placeholder":0,"textarea::readonly":0,"textarea::required":0,"textarea::rows":0,"textarea::tabindex":0,"textarea::wrap":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"track::default":0,"track::kind":0,"track::label":0,"track::srclang":0,"ul::compact":0,"ul::type":0,"video::controls":0,"video::height":0,"video::loop":0,"video::mediagroup":5,"video::muted":0,"video::poster":1,"video::preload":0,"video::width":0},i.ATTRIBS=i.ATTRIBS,i.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128,VIRTUALIZED:256},i.eflags=i.eflags,i.ELEMENTS={a:0,abbr:0,acronym:0,address:0,applet:272,area:2,article:0,aside:0,audio:0,b:0,base:274,basefont:274,bdi:0,bdo:0,big:0,blockquote:0,body:305,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,command:2,data:0,datalist:0,dd:1,del:0,details:0,dfn:0,dialog:272,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,figcaption:0,figure:0,font:0,footer:0,form:0,frame:274,frameset:272,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:305,header:0,hgroup:0,hr:2,html:305,i:0,iframe:16,img:2,input:2,ins:0,isindex:274,kbd:0,keygen:274,label:0,legend:0,li:1,link:274,map:0,mark:0,menu:0,meta:274,meter:0,nav:0,nobr:0,noembed:276,noframes:276,noscript:276,object:272,ol:0,optgroup:0,option:1,output:0,p:1,param:274,pre:0,progress:0,q:0,s:0,samp:0,script:84,section:0,select:0,small:0,source:2,span:0,strike:0,strong:0,style:148,sub:0,summary:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,time:0,title:280,tr:1,track:2,tt:0,u:0,ul:0,"var":0,video:0,wbr:2},i.ELEMENTS=i.ELEMENTS,i.ELEMENT_DOM_INTERFACES={a:"HTMLAnchorElement",abbr:"HTMLElement",acronym:"HTMLElement",address:"HTMLElement",applet:"HTMLAppletElement",area:"HTMLAreaElement",article:"HTMLElement",aside:"HTMLElement",audio:"HTMLAudioElement",b:"HTMLElement",base:"HTMLBaseElement",basefont:"HTMLBaseFontElement",bdi:"HTMLElement",bdo:"HTMLElement",big:"HTMLElement",blockquote:"HTMLQuoteElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLTableCaptionElement",center:"HTMLElement",cite:"HTMLElement",code:"HTMLElement",col:"HTMLTableColElement",colgroup:"HTMLTableColElement",command:"HTMLCommandElement",data:"HTMLElement",datalist:"HTMLDataListElement",dd:"HTMLElement",del:"HTMLModElement",details:"HTMLDetailsElement",dfn:"HTMLElement",dialog:"HTMLDialogElement",dir:"HTMLDirectoryElement",div:"HTMLDivElement",dl:"HTMLDListElement",dt:"HTMLElement",em:"HTMLElement",fieldset:"HTMLFieldSetElement",figcaption:"HTMLElement",figure:"HTMLElement",font:"HTMLFontElement",footer:"HTMLElement",form:"HTMLFormElement",frame:"HTMLFrameElement",frameset:"HTMLFrameSetElement",h1:"HTMLHeadingElement",h2:"HTMLHeadingElement",h3:"HTMLHeadingElement",h4:"HTMLHeadingElement",h5:"HTMLHeadingElement",h6:"HTMLHeadingElement",head:"HTMLHeadElement",header:"HTMLElement",hgroup:"HTMLElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",i:"HTMLElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",ins:"HTMLModElement",isindex:"HTMLUnknownElement",kbd:"HTMLElement",keygen:"HTMLKeygenElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",map:"HTMLMapElement",mark:"HTMLElement",menu:"HTMLMenuElement",meta:"HTMLMetaElement",meter:"HTMLMeterElement",nav:"HTMLElement",nobr:"HTMLElement",noembed:"HTMLElement",noframes:"HTMLElement",noscript:"HTMLElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLOutputElement",p:"HTMLParagraphElement",param:"HTMLParamElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",s:"HTMLElement",samp:"HTMLElement",script:"HTMLScriptElement",section:"HTMLElement",select:"HTMLSelectElement",small:"HTMLElement",source:"HTMLSourceElement",span:"HTMLSpanElement",strike:"HTMLElement",strong:"HTMLElement",style:"HTMLStyleElement",sub:"HTMLElement",summary:"HTMLElement",sup:"HTMLElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",td:"HTMLTableDataCellElement",textarea:"HTMLTextAreaElement",tfoot:"HTMLTableSectionElement",th:"HTMLTableHeaderCellElement",thead:"HTMLTableSectionElement",time:"HTMLTimeElement",title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",tt:"HTMLElement",u:"HTMLElement",ul:"HTMLUListElement","var":"HTMLElement",video:"HTMLVideoElement",wbr:"HTMLElement"},i.ELEMENT_DOM_INTERFACES=i.ELEMENT_DOM_INTERFACES,i.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2},i.ueffects=i.ueffects,i.URIEFFECTS={"a::href":2,"area::href":2,"blockquote::cite":0,"command::icon":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0,"video::poster":1},i.URIEFFECTS=i.URIEFFECTS,i.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0},i.ltypes=i.ltypes,i.LOADERTYPES={"a::href":2,"area::href":2,"blockquote::cite":2,"command::icon":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2,"video::poster":1},i.LOADERTYPES=i.LOADERTYPES,"I".toLowerCase()!=="i")throw"I/i problem";r=function(n){function yt(n){var t,i;return s.hasOwnProperty(n)?s[n]:(t=n.match(lt),t?String.fromCharCode(parseInt(t[1],10)):(t=n.match(at))?String.fromCharCode(parseInt(t[1],16)):h&&vt.test(n)?(h.innerHTML="&"+n+";",i=h.textContent,s[n]=i,i):"&"+n+";")}function pt(n,t){return yt(t)}function wt(n){return n.replace(v,"")}function w(n){return n.replace(y,pt)}function d(n){return(""+n).replace(bt,"&amp;").replace(b,"&lt;").replace(k,"&gt;").replace(dt,"&#34;")}function g(n){return n.replace(kt,"&amp;$1").replace(b,"&lt;").replace(k,"&gt;")}function tt(n){var t={cdata:n.cdata||n.cdata,comment:n.comment||n.comment,endDoc:n.endDoc||n.endDoc,endTag:n.endTag||n.endTag,pcdata:n.pcdata||n.pcdata,rcdata:n.rcdata||n.rcdata,startDoc:n.startDoc||n.startDoc,startTag:n.startTag||n.startTag};return function(n,i){return ti(n,t,i)}}function ti(n,t,i){var r=ii(n);it(t,r,0,{noMoreGT:!1,noMoreEndComments:!1},i)}function r(n,t,i,r,u){return function(){it(n,t,i,r,u)}}function it(t,u,f,e,o){var a,h,v,s,c,y,l,w,k,b;try{for(t.startDoc&&f==0&&t.startDoc(o),s=f,c=u.length;s<c;){y=u[s++];l=u[s];switch(y){case"&":p.test(l)?(t.pcdata&&t.pcdata("&"+l,o,i,r(t,u,s,e,o)),s++):t.pcdata&&t.pcdata("&amp;",o,i,r(t,u,s,e,o));break;case"<\/":(a=/^([-\w:]+)[^\'\"]*/.exec(l))?a[0].length===l.length&&u[s+1]===">"?(s+=2,v=a[1].toLowerCase(),t.endTag&&t.endTag(v,o,i,r(t,u,s,e,o))):s=ri(u,s,t,o,i,e):t.pcdata&&t.pcdata("&lt;/",o,i,r(t,u,s,e,o));break;case"<":(a=/^([-\w:]+)\s*\/?/.exec(l))?a[0].length===l.length&&u[s+1]===">"?(s+=2,v=a[1].toLowerCase(),t.startTag&&t.startTag(v,[],o,i,r(t,u,s,e,o)),w=n.ELEMENTS[v],w&nt&&(k={name:v,next:s,eflags:w},s=rt(u,k,t,o,i,e))):s=ui(u,s,t,o,i,e):t.pcdata&&t.pcdata("&lt;",o,i,r(t,u,s,e,o));break;case"<!--":if(!e.noMoreEndComments){for(h=s+1;h<c;h++)if(u[h]===">"&&/--$/.test(u[h-1]))break;h<c?(t.comment&&(b=u.slice(s,h).join(""),t.comment(b.substr(0,b.length-2),o,i,r(t,u,h+1,e,o))),s=h+1):e.noMoreEndComments=!0}e.noMoreEndComments&&t.pcdata&&t.pcdata("&lt;!--",o,i,r(t,u,s,e,o));break;case"<!":if(/^\w/.test(l)){if(!e.noMoreGT){for(h=s+1;h<c;h++)if(u[h]===">")break;h<c?s=h+1:e.noMoreGT=!0}e.noMoreGT&&t.pcdata&&t.pcdata("&lt;!",o,i,r(t,u,s,e,o))}else t.pcdata&&t.pcdata("&lt;!",o,i,r(t,u,s,e,o));break;case"<?":if(!e.noMoreGT){for(h=s+1;h<c;h++)if(u[h]===">")break;h<c?s=h+1:e.noMoreGT=!0}e.noMoreGT&&t.pcdata&&t.pcdata("&lt;?",o,i,r(t,u,s,e,o));break;case">":t.pcdata&&t.pcdata("&gt;",o,i,r(t,u,s,e,o));break;case"":break;default:t.pcdata&&t.pcdata(y,o,i,r(t,u,s,e,o))}}t.endDoc&&t.endDoc(o)}catch(d){if(d!==i)throw d;}}function ii(n){var u=/(<\/|<\!--|<[!?]|[&<>])/g,t,r,i;if(n+="",ni)return n.split(u);for(t=[],r=0;(i=u.exec(n))!==null;)t.push(n.substring(r,i.index)),t.push(i[0]),r=i.index+i[0].length;return t.push(n.substring(r)),t}function ri(n,t,i,u,f,e){var o=ut(n,t);return o?(i.endTag&&i.endTag(o.name,u,f,r(i,n,t,e,u)),o.next):n.length}function ui(n,t,i,u,f,e){var o=ut(n,t);return o?(i.startTag&&i.startTag(o.name,o.attrs,u,f,r(i,n,o.next,e,u)),o.eflags&nt?rt(n,o,i,u,f,e):o.next):n.length}function rt(t,i,u,f,o,s){var l=t.length,c;e.hasOwnProperty(i.name)||(e[i.name]=new RegExp("^"+i.name+"(?:[\\s\\/]|$)","i"));for(var a=e[i.name],v=i.next,h=i.next+1;h<l;h++)if(t[h-1]==="<\/"&&a.test(t[h]))break;if(h<l&&(h-=1),c=t.slice(v,h).join(""),i.eflags&n.eflags.CDATA)u.cdata&&u.cdata(c,f,o,r(u,t,h,s,f));else if(i.eflags&n.eflags.RCDATA)u.rcdata&&u.rcdata(g(c),f,o,r(u,t,h,s,f));else throw new Error("bug");return h}function ut(t,i){var r=/^([-\w:]+)/.exec(t[i]),e={},s,l,a;e.name=r[1].toLowerCase();e.eflags=n.ELEMENTS[e.name];for(var f=t[i].substr(r[0].length),u=i+1,o=t.length;u<o;u++){if(t[u]===">")break;f+=t[u]}if(o<=u)return void 0;for(s=[];f!=="";)if(r=gt.exec(f),r)if(r[4]&&!r[5]||r[6]&&!r[7]){for(var v=r[4]||r[6],h=!1,c=[f,t[u++]];u<o;u++){if(h){if(t[u]===">")break}else 0<=t[u].indexOf(v)&&(h=!0);c.push(t[u])}if(o<=u)break;f=c.join("");continue}else l=r[1].toLowerCase(),a=r[2]?fi(r[3]):"",s.push(l,a),f=f.substr(r[0].length);else f=f.replace(/^[\s\S][^a-z\s]*/,"");return e.attrs=s,e.next=u+1,e}function fi(n){var t=n.charCodeAt(0);return(t===34||t===39)&&(n=n.substr(1,n.length-2)),w(wt(n))}function ft(t){var i,r,u=function(n,t){r||t.push(n)};return tt({startDoc:function(){i=[];r=!1},startTag:function(u,f,e){var s,h,v,o,c,l,y,p,a;if(!r&&n.ELEMENTS.hasOwnProperty(u)&&(s=n.ELEMENTS[u],!(s&n.eflags.FOLDABLE))){if(h=t(u,f),h){if(typeof h!="object")throw new Error("tagPolicy did not return object (old API?)");}else{r=!(s&n.eflags.EMPTY);return}if("attribs"in h)f=h.attribs;else throw new Error("tagPolicy gave no attribs");for(("tagName"in h)?(o=h.tagName,v=n.ELEMENTS[o]):(o=u,v=s),s&n.eflags.OPTIONAL_ENDTAG&&(c=i[i.length-1],c&&c.orig===u&&(c.rep!==o||u!==o)&&e.push("<\/",c.rep,">")),s&n.eflags.EMPTY||i.push({orig:u,rep:o}),e.push("<",o),l=0,y=f.length;l<y;l+=2)p=f[l],a=f[l+1],a!==null&&a!==void 0&&e.push(" ",p,'="',d(a),'"');e.push(">");s&n.eflags.EMPTY&&!(v&n.eflags.EMPTY)&&e.push("<\/",o,">")}},endTag:function(t,u){var e,f,o,s,h;if(r){r=!1;return}if(n.ELEMENTS.hasOwnProperty(t)&&(e=n.ELEMENTS[t],!(e&(n.eflags.EMPTY|n.eflags.FOLDABLE)))){if(e&n.eflags.OPTIONAL_ENDTAG)for(f=i.length;--f>=0;){if(o=i[f].orig,o===t)break;if(!(n.ELEMENTS[o]&n.eflags.OPTIONAL_ENDTAG))return}else for(f=i.length;--f>=0;)if(i[f].orig===t)break;if(f<0)return;for(s=i.length;--s>f;)h=i[s].rep,n.ELEMENTS[h]&n.eflags.OPTIONAL_ENDTAG||u.push("<\/",h,">");f<i.length&&(t=i[f].rep);i.length=f;u.push("<\/",t,">")}},pcdata:u,rcdata:u,cdata:u,endDoc:function(n){for(;i.length;i.length--)n.push("<\/",i[i.length-1].rep,">")}})}function ot(n,t,i,r,u){var e,o;if(!u)return null;try{if(e=f.parse(""+n),e&&(!e.hasScheme()||et.test(e.getScheme())))return o=u(e,t,i,r),o?o.toString():null}catch(s){return null}return null}function u(n,t,i,r,u){if(i||n(t+" removed",{change:"removed",tagName:t}),r!==u){var f="changed";r&&!u?f="removed":!r&&u&&(f="added");n(t+"."+i+" "+f,{change:f,tagName:t,attribName:i,oldValue:r,newValue:u})}}function c(n,t,i){var r;return(r=t+"::"+i,n.hasOwnProperty(r))?n[r]:(r="*::"+i,n.hasOwnProperty(r))?n[r]:void 0}function ei(t,i){return c(n.LOADERTYPES,t,i)}function oi(t,i){return c(n.URIEFFECTS,t,i)}function st(t,i,r,f,e){for(var p,v=0;v<i.length;v+=2){var h=i[v],s=i[v+1],c=s,w=null,y;if(((y=t+"::"+h,n.ATTRIBS.hasOwnProperty(y))||(y="*::"+h,n.ATTRIBS.hasOwnProperty(y)))&&(w=n.ATTRIBS[y]),w!==null)switch(w){case n.atype.NONE:break;case n.atype.SCRIPT:s=null;e&&u(e,t,h,c,s);break;case n.atype.STYLE:if("undefined"==typeof o){s=null;e&&u(e,t,h,c,s);break}p=[];o(s,{declaration:function(t,i){var u=t.toLowerCase(),f=a[u];f&&(l(u,f,i,r?function(t){return ot(t,n.ueffects.SAME_DOCUMENT,n.ltypes.SANDBOXED,{TYPE:"CSS",CSS_PROP:u},r)}:null),p.push(t+": "+i.join(" ")))}});s=p.length>0?p.join(" ; "):null;e&&u(e,t,h,c,s);break;case n.atype.ID:case n.atype.IDREF:case n.atype.IDREFS:case n.atype.GLOBAL_NAME:case n.atype.LOCAL_NAME:case n.atype.CLASSES:s=f?f(s):s;e&&u(e,t,h,c,s);break;case n.atype.URI:s=ot(s,oi(t,h),ei(t,h),{TYPE:"MARKUP",XML_ATTR:h,XML_TAG:t},r);e&&u(e,t,h,c,s);break;case n.atype.URI_FRAGMENT:s&&"#"===s.charAt(0)?(s=s.substring(1),s=f?f(s):s,s!==null&&s!==void 0&&(s="#"+s)):s=null;e&&u(e,t,h,c,s);break;default:s=null;e&&u(e,t,h,c,s)}else s=null,e&&u(e,t,h,c,s);i[v+1]=s}return i}function ht(t,i,r){return function(f,e){if(n.ELEMENTS[f]&n.eflags.UNSAFE)r&&u(r,f,undefined,undefined,undefined);else return{attribs:st(f,e,t,i,r)}}}function ct(n,t){var i=[];return ft(t)(n,i),i.join("")}function si(n,t,i,r){var u=ht(t,i,r);return ct(n,u)}var o,l,a,v,y,p,i,e,et,t;"undefined"!=typeof window&&(o=window.parseCssDeclarations,l=window.sanitizeCssProperty,a=window.cssSchema);var s={lt:"<",LT:"<",gt:">",GT:">",amp:"&",AMP:"&",quot:'"',apos:"'",nbsp:'\240'},lt=/^#(\d+)$/,at=/^#x([0-9A-Fa-f]+)$/,vt=/^[A-Za-z][A-za-z0-9]+$/,h="undefined"!=typeof window&&window.document?window.document.createElement("textarea"):null;v=/\0/g;y=/&(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/g;p=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/;var bt=/&/g,kt=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,b=/[<]/g,k=/>/g,dt=/\"/g;var gt=new RegExp("^\\s*([-.:\\w]+)(?:\\s*(=)\\s*((\")[^\"]*(\"|$)|(')[^']*('|$)|(?=[a-z][-\\w]*\\s*=)|[^\"'\\s]*))?","i"),ni="a,b".split(/(,)/).length===3,nt=n.eflags.CDATA|n.eflags.RCDATA;return i={},e={},et=/^(?:https?|mailto|data)$/i,t={},t.escapeAttrib=t.escapeAttrib=d,t.makeHtmlSanitizer=t.makeHtmlSanitizer=ft,t.makeSaxParser=t.makeSaxParser=tt,t.makeTagPolicy=t.makeTagPolicy=ht,t.normalizeRCData=t.normalizeRCData=g,t.sanitize=t.sanitize=si,t.sanitizeAttribs=t.sanitizeAttribs=st,t.sanitizeWithPolicy=t.sanitizeWithPolicy=ct,t.unescapeEntities=t.unescapeEntities=w,t}(i);u=r.sanitize;i.ATTRIBS["*::style"]=0;i.ELEMENTS.style=0;i.ATTRIBS["a::target"]=0;i.ELEMENTS.video=0;i.ATTRIBS["video::src"]=0;i.ATTRIBS["video::poster"]=0;i.ATTRIBS["video::controls"]=0;i.ELEMENTS.audio=0;i.ATTRIBS["audio::src"]=0;i.ATTRIBS["video::autoplay"]=0;i.ATTRIBS["video::controls"]=0;typeof t!="undefined"&&(t.exports=u)},{}],6:[function(n,t){t.exports={author:"Mapbox",name:"mapbox.js",description:"mapbox javascript api",version:"2.1.9",homepage:"http://mapbox.com/",repository:{type:"git",url:"git://github.com/mapbox/mapbox.js.git"},main:"src/index.js",dependencies:{leaflet:"0.7.3",mustache:"0.7.3",corslite:"0.0.6","sanitize-caja":"0.1.3"},scripts:{test:"jshint src/*.js && mocha-phantomjs test/index.html"},devDependencies:{browserify:"^6.3.2","clean-css":"~2.0.7","expect.js":"0.3.1",happen:"0.1.3",jshint:"2.4.4","leaflet-fullscreen":"0.0.4","leaflet-hash":"0.2.1",marked:"~0.3.0",minifyify:"^6.1.0",minimist:"0.0.5",mocha:"1.17.1","mocha-phantomjs":"3.1.6",sinon:"1.10.2"},optionalDependencies:{},engines:{node:"*"}}},{}],7:[function(n,t){"use strict";t.exports={HTTP_URL:"http://a.tiles.mapbox.com/v4",HTTPS_URL:"https://a.tiles.mapbox.com/v4",FORCE_HTTPS:!1,REQUIRE_ACCESS_TOKEN:!0}},{}],8:[function(n,t){"use strict";var i=n("./util"),e=n("./url"),o=n("./request"),r=n("./marker"),u=n("./simplestyle"),f=L.FeatureGroup.extend({options:{filter:function(){return!0},sanitizer:n("sanitize-caja"),style:u.style,popupOptions:{closeButton:!1}},initialize:function(n,t){L.setOptions(this,t);this._layers={};typeof n=="string"?i.idUrl(n,this):n&&typeof n=="object"&&this.setGeoJSON(n)},setGeoJSON:function(n){return this._geojson=n,this.clearLayers(),this._initialize(n),this},getGeoJSON:function(){return this._geojson},loadURL:function(n){return this._request&&"abort"in this._request&&this._request.abort(),this._request=o(n,L.bind(function(t,r){this._request=null;t&&t.type!=="abort"?(i.log("could not load features at "+n),this.fire("error",{error:t})):r&&(this.setGeoJSON(r),this.fire("ready"))},this)),this},loadID:function(n){return this.loadURL(e("/"+n+"/features.json",this.options.accessToken))},setFilter:function(n){return this.options.filter=n,this._geojson&&(this.clearLayers(),this._initialize(this._geojson)),this},getFilter:function(){return this.options.filter},_initialize:function(n){var f=L.Util.isArray(n)?n:n.features,t,o;if(f)for(t=0,o=f.length;t<o;t++)(f[t].geometries||f[t].geometry||f[t].features)&&this._initialize(f[t]);else if(this.options.filter(n)){var h={accessToken:this.options.accessToken},c=this.options.pointToLayer||function(n,t){return r.style(n,t,h)},i=L.GeoJSON.geometryToLayer(n,c),s=r.createPopup(n,this.options.sanitizer),e=this.options.style,l=e===u.style;e&&"setStyle"in i&&!(l&&(i instanceof L.Circle||i instanceof L.CircleMarker))&&(typeof e=="function"&&(e=e(n)),i.setStyle(e));i.feature=n;s&&i.bindPopup(s,this.options.popupOptions);this.addLayer(i)}}});t.exports.FeatureLayer=f;t.exports.featureLayer=function(n,t){return new f(n,t)}},{"./marker":23,"./request":24,"./simplestyle":26,"./url":28,"./util":29,"sanitize-caja":4}],9:[function(n,t){"use strict";var i=L.Class.extend({includes:L.Mixin.Events,data:{},record:function(n){L.extend(this.data,n);this.fire("change")}});t.exports=new i},{}],10:[function(n,t){"use strict";var i=n("./util"),u=n("./url"),f=n("./feedback"),r=n("./request");t.exports=function(n,t){var e={};return i.strict(n,"string"),n.indexOf("/")===-1&&(n=u("/geocode/"+n+"/{query}.json",t&&t.accessToken)),e.getURL=function(){return n},e.queryURL=function(n){var i,r,t;if(typeof n!="string"){for(r=[],t=0;t<n.length;t++)r[t]=encodeURIComponent(n[t]);i=r.join(";")}else i=encodeURIComponent(n);return f.record({geocoding:i}),L.Util.template(e.getURL(),{query:i})},e.query=function(n,t){return i.strict(t,"function"),r(e.queryURL(n),function(n,r){if(r&&(r.length||r.features)){var u={results:r};r.features&&r.features.length&&(u.latlng=[r.features[0].center[1],r.features[0].center[0]],r.features[0].bbox&&(u.bounds=r.features[0].bbox,u.lbounds=i.lbounds(u.bounds)));t(null,u)}else t(n||!0)}),e},e.reverseQuery=function(n,t){function o(n){return n.lat!==undefined&&n.lng!==undefined?n.lng+","+n.lat:n.lat!==undefined&&n.lon!==undefined?n.lon+","+n.lat:n[0]+","+n[1]}var u="",i,f;if(n.length&&n[0].length){for(i=0,f=[];i<n.length;i++)f.push(o(n[i]));u=f.join(";")}else u=o(n);return r(e.queryURL(u),function(n,i){t(n,i)}),e},e}},{"./feedback":9,"./request":24,"./url":28,"./util":29}],11:[function(n,t){"use strict";var r=n("./geocoder"),u=n("./util"),i=L.Control.extend({includes:L.Mixin.Events,options:{position:"topleft",pointZoom:16,keepOpen:!1,autocomplete:!1},initialize:function(n,t){L.Util.setOptions(this,t);this.setURL(n);this._updateSubmit=L.bind(this._updateSubmit,this);this._updateAutocomplete=L.bind(this._updateAutocomplete,this);this._chooseResult=L.bind(this._chooseResult,this)},setURL:function(n){return this.geocoder=r(n,{accessToken:this.options.accessToken}),this},getURL:function(){return this.geocoder.getURL()},setID:function(n){return this.setURL(n)},setTileJSON:function(n){return this.setURL(n.geocoder)},_toggle:function(n){n&&L.DomEvent.stop(n);L.DomUtil.hasClass(this._container,"active")?(L.DomUtil.removeClass(this._container,"active"),this._results.innerHTML="",this._input.blur()):(L.DomUtil.addClass(this._container,"active"),this._input.focus(),this._input.select())},_closeIfOpen:function(){L.DomUtil.hasClass(this._container,"active")&&!this.options.keepOpen&&(L.DomUtil.removeClass(this._container,"active"),this._results.innerHTML="",this._input.blur())},onAdd:function(n){var t=L.DomUtil.create("div","leaflet-control-mapbox-geocoder leaflet-bar leaflet-control"),r=L.DomUtil.create("a","leaflet-control-mapbox-geocoder-toggle mapbox-icon mapbox-icon-geocoder",t),f=L.DomUtil.create("div","leaflet-control-mapbox-geocoder-results",t),e=L.DomUtil.create("div","leaflet-control-mapbox-geocoder-wrap",t),u=L.DomUtil.create("form","leaflet-control-mapbox-geocoder-form",e),i=L.DomUtil.create("input","",u);if(r.href="#",r.innerHTML="&nbsp;",i.type="text",i.setAttribute("placeholder","Search"),L.DomEvent.addListener(u,"submit",this._geocode,this),L.DomEvent.addListener(i,"keyup",this._autocomplete,this),L.DomEvent.disableClickPropagation(t),this._map=n,this._results=f,this._input=i,this._form=u,this.options.keepOpen)L.DomUtil.addClass(t,"active");else{this._map.on("click",this._closeIfOpen,this);L.DomEvent.addListener(r,"click",this._toggle,this)}return t},_updateSubmit:function(n,t){if(L.DomUtil.removeClass(this._container,"searching"),this._results.innerHTML="",n||!t)this.fire("error",{error:n});else{var i=[];t.results&&t.results.features&&(i=t.results.features);i.length===1?(this.fire("autoselect",{feature:i[0]}),this.fire("found",{results:t.results}),this._chooseResult(i[0]),this._closeIfOpen()):i.length>1?(this.fire("found",{results:t.results}),this._displayResults(i)):this._displayResults(i)}},_updateAutocomplete:function(n,t){if(this._results.innerHTML="",n||!t)this.fire("error",{error:n});else{var i=[];t.results&&t.results.features&&(i=t.results.features);i.length&&this.fire("found",{results:t.results});this._displayResults(i)}},_displayResults:function(n){for(var r,u,t,e,o,i=0,f=Math.min(n.length,5);i<f;i++)(r=n[i],u=r.place_name,u.length)&&(t=L.DomUtil.create("a","",this._results),e="innerText"in t?"innerText":"textContent",t[e]=u,t.href="#",L.bind(function(n){L.DomEvent.addListener(t,"click",function(t){this._chooseResult(n);L.DomEvent.stop(t);this.fire("select",{feature:n})},this)},this)(r));n.length>5&&(o=L.DomUtil.create("span","",this._results),o.innerHTML="Top 5 of "+n.length+"  results")},_chooseResult:function(n){n.bbox?this._map.fitBounds(u.lbounds(n.bbox)):n.center&&this._map.setView([n.center[1],n.center[0]],this._map.getZoom()===undefined?this.options.pointZoom:Math.max(this._map.getZoom(),this.options.pointZoom))},_geocode:function(n){if(L.DomEvent.preventDefault(n),this._input.value==="")return this._updateSubmit();L.DomUtil.addClass(this._container,"searching");this.geocoder.query(this._input.value,this._updateSubmit)},_autocomplete:function(){if(this.options.autocomplete){if(this._input.value==="")return this._updateAutocomplete();this.geocoder.query(this._input.value,this._updateAutocomplete)}}});t.exports.GeocoderControl=i;t.exports.geocoderControl=function(n,t){return new i(n,t)}},{"./geocoder":10,"./util":29}],12:[function(n,t){"use strict";function i(n){return n>=93&&n--,n>=35&&n--,n-32}t.exports=function(n){return function(t,r){if(n){var u=i(n.grid[r].charCodeAt(t)),f=n.keys[u];return n.data[f]}}}},{}],13:[function(n,t){"use strict";var i=n("./util"),u=n("mustache"),r=L.Control.extend({options:{pinnable:!0,follow:!1,sanitizer:n("sanitize-caja"),touchTeaser:!0,location:!0},_currentContent:"",_pinned:!1,initialize:function(n,t){L.Util.setOptions(this,t);i.strict_instance(n,L.Class,"L.mapbox.gridLayer");this._layer=n},setTemplate:function(n){return i.strict(n,"string"),this.options.template=n,this},_template:function(n,t){var i,r;if(t)return i=this.options.template||this._layer.getTileJSON().template,i?(r={},r["__"+n+"__"]=!0,this.options.sanitizer(u.to_html(i,L.extend(r,t)))):void 0},_show:function(n,t){n!==this._currentContent&&(this._currentContent=n,this.options.follow?(this._popup.setContent(n).setLatLng(t.latLng),this._map._popup!==this._popup&&this._popup.openOn(this._map)):(this._container.style.display="block",this._contentWrapper.innerHTML=n))},hide:function(){return this._pinned=!1,this._currentContent="",this._map.closePopup(),this._container.style.display="none",this._contentWrapper.innerHTML="",L.DomUtil.removeClass(this._container,"closable"),this},_mouseover:function(n){if(n.data?L.DomUtil.addClass(this._map._container,"map-clickable"):L.DomUtil.removeClass(this._map._container,"map-clickable"),!this._pinned){var t=this._template("teaser",n.data);t?this._show(t,n):this.hide()}},_mousemove:function(n){this._pinned||this.options.follow&&this._popup.setLatLng(n.latLng)},_navigateTo:function(n){window.top.location.href=n},_click:function(n){var i=this._template("location",n.data),t;if(this.options.location&&i&&i.search(/^https?:/)===0)return this._navigateTo(this._template("location",n.data));this.options.pinnable&&(t=this._template("full",n.data),!t&&this.options.touchTeaser&&L.Browser.touch&&(t=this._template("teaser",n.data)),t?(L.DomUtil.addClass(this._container,"closable"),this._pinned=!0,this._show(t,n)):this._pinned&&(L.DomUtil.removeClass(this._container,"closable"),this._pinned=!1,this.hide()))},_onPopupClose:function(){this._currentContent=null;this._pinned=!1},_createClosebutton:function(n,t){var i=L.DomUtil.create("a","close",n);i.innerHTML="close";i.href="#";i.title="close";L.DomEvent.on(i,"click",L.DomEvent.stopPropagation).on(i,"mousedown",L.DomEvent.stopPropagation).on(i,"dblclick",L.DomEvent.stopPropagation).on(i,"click",L.DomEvent.preventDefault).on(i,"click",t,this);return i},onAdd:function(n){this._map=n;var t=L.DomUtil.create("div","leaflet-control-grid map-tooltip"),i=L.DomUtil.create("div","map-tooltip-content");t.style.display="none";this._createClosebutton(t,this.hide);t.appendChild(i);this._contentWrapper=i;this._popup=new L.Popup({autoPan:!1,closeOnClick:!1});n.on("popupclose",this._onPopupClose,this);L.DomEvent.disableClickPropagation(t).addListener(t,"mousewheel",L.DomEvent.stopPropagation);this._layer.on("mouseover",this._mouseover,this).on("mousemove",this._mousemove,this).on("click",this._click,this);return t},onRemove:function(n){n.off("popupclose",this._onPopupClose,this);this._layer.off("mouseover",this._mouseover,this).off("mousemove",this._mousemove,this).off("click",this._click,this)}});t.exports.GridControl=r;t.exports.gridControl=function(n,t){return new r(n,t)}},{"./util":29,mustache:3,"sanitize-caja":4}],14:[function(n,t){"use strict";var i=n("./util"),u=n("./request"),f=n("./grid"),r=L.Class.extend({includes:[L.Mixin.Events,n("./load_tilejson")],options:{template:function(){return""}},_mouseOn:null,_tilejson:{},_cache:{},initialize:function(n,t){L.Util.setOptions(this,t);this._loadTileJSON(n)},_setTileJSON:function(n){return i.strict(n,"object"),L.extend(this.options,{grids:n.grids,minZoom:n.minzoom,maxZoom:n.maxzoom,bounds:n.bounds&&i.lbounds(n.bounds)}),this._tilejson=n,this._cache={},this._update(),this},getTileJSON:function(){return this._tilejson},active:function(){return!!(this._map&&this.options.grids&&this.options.grids.length)},addTo:function(n){return n.addLayer(this),this},onAdd:function(n){this._map=n;this._update();this._map.on("click",this._click,this).on("mousemove",this._move,this).on("moveend",this._update,this)},onRemove:function(){this._map.off("click",this._click,this).off("mousemove",this._move,this).off("moveend",this._update,this)},getData:function(n,t){if(this.active()){var r=this._map,u=r.project(n.wrap()),i=256,s=4,f=Math.floor(u.x/i),e=Math.floor(u.y/i),o=r.options.crs.scale(r.getZoom())/i;return f=(f+o)%o,e=(e+o)%o,this._getTile(r.getZoom(),f,e,function(n){var r=Math.floor((u.x-f*i)/s),o=Math.floor((u.y-e*i)/s);t(n(r,o))}),this}},_click:function(n){this.getData(n.latlng,L.bind(function(t){this.fire("click",{latLng:n.latlng,data:t})},this))},_move:function(n){this.getData(n.latlng,L.bind(function(t){t!==this._mouseOn?(this._mouseOn&&this.fire("mouseout",{latLng:n.latlng,data:this._mouseOn}),this.fire("mouseover",{latLng:n.latlng,data:t}),this._mouseOn=t):this.fire("mousemove",{latLng:n.latlng,data:t})},this))},_getTileURL:function(n){var t=this.options.grids,i=(n.x+n.y)%t.length,r=t[i];return L.Util.template(r,n)},_update:function(){var t,n,r,u;if(this.active()){var e=this._map.getPixelBounds(),i=this._map.getZoom(),f=256;if(!(i>this.options.maxZoom)&&!(i<this.options.minZoom))for(t=L.bounds(e.min.divideBy(f)._floor(),e.max.divideBy(f)._floor()),n=this._map.options.crs.scale(i)/f,r=t.min.x;r<=t.max.x;r++)for(u=t.min.y;u<=t.max.y;u++)this._getTile(i,(r%n+n)%n,(u%n+n)%n)}},_getTile:function(n,t,i,r){var e=n+"_"+t+"_"+i,o=L.point(t,i);if(o.z=n,this._tileShouldBeLoaded(o)){if(e in this._cache){if(!r)return;typeof this._cache[e]=="function"?r(this._cache[e]):this._cache[e].push(r);return}this._cache[e]=[];r&&this._cache[e].push(r);u(this._getTileURL(o),L.bind(function(n,t){var r=this._cache[e],i;for(this._cache[e]=f(t),i=0;i<r.length;++i)r[i](this._cache[e])},this))}},_tileShouldBeLoaded:function(n){if(n.z>this.options.maxZoom||n.z<this.options.minZoom)return!1;if(this.options.bounds){var t=256,i=n.multiplyBy(t),r=i.add(new L.Point(t,t)),u=this._map.unproject(i),f=this._map.unproject(r),e=new L.LatLngBounds([u,f]);if(!this.options.bounds.intersects(e))return!1}return!0}});t.exports.GridLayer=r;t.exports.gridLayer=function(n,t){return new r(n,t)}},{"./grid":12,"./load_tilejson":19,"./request":24,"./util":29}],15:[function(n){n("./leaflet");n("./mapbox")},{"./leaflet":17,"./mapbox":21}],16:[function(n,t){"use strict";var i=L.Control.extend({options:{position:"bottomright",sanitizer:n("sanitize-caja")},initialize:function(n){L.setOptions(this,n);this._info={};console.warn("infoControl has been deprecated and will be removed in mapbox.js v3.0.0. Use the default attribution control instead, which is now responsive.")},onAdd:function(n){var t,i;this._container=L.DomUtil.create("div","mapbox-control-info mapbox-small");this._content=L.DomUtil.create("div","map-info-container",this._container);t=L.DomUtil.create("a","mapbox-info-toggle mapbox-icon mapbox-icon-info",this._container);t.href="#";L.DomEvent.addListener(t,"click",this._showInfo,this);L.DomEvent.disableClickPropagation(this._container);for(i in n._layers)n._layers[i].getAttribution&&this.addInfo(n._layers[i].getAttribution());n.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this);return this._update(),this._container},onRemove:function(n){n.off("layeradd",this._onLayerAdd,this).off("layerremove",this._onLayerRemove,this)},addInfo:function(n){return n?(this._info[n]||(this._info[n]=0),this._info[n]=!0,this._update()):this},removeInfo:function(n){return n?(this._info[n]&&(this._info[n]=!1),this._update()):this},_showInfo:function(n){if(L.DomEvent.preventDefault(n),this._active===!0)return this._hidecontent();L.DomUtil.addClass(this._container,"active");this._active=!0;this._update()},_hidecontent:function(){this._content.innerHTML="";this._active=!1;L.DomUtil.removeClass(this._container,"active");return},_update:function(){var t,i,n;if(!this._map)return this;this._content.innerHTML="";t="none";i=[];for(n in this._info)this._info.hasOwnProperty(n)&&this._info[n]&&(i.push(this.options.sanitizer(n)),t="block");return this._content.innerHTML+=i.join(" | "),this._container.style.display=t,this},_onLayerAdd:function(n){if(n.layer.getAttribution&&n.layer.getAttribution())this.addInfo(n.layer.getAttribution());else if("on"in n.layer&&n.layer.getAttribution)n.layer.on("ready",L.bind(function(){this.addInfo(n.layer.getAttribution())},this))},_onLayerRemove:function(n){n.layer.getAttribution&&this.removeInfo(n.layer.getAttribution())}});t.exports.InfoControl=i;t.exports.infoControl=function(n){return new i(n)}},{"sanitize-caja":4}],17:[function(n){window.L=n("leaflet/dist/leaflet-src")},{"leaflet/dist/leaflet-src":2}],18:[function(n,t){"use strict";var i=L.Control.extend({options:{position:"bottomright",sanitizer:n("sanitize-caja")},initialize:function(n){L.setOptions(this,n);this._legends={}},onAdd:function(){return this._container=L.DomUtil.create("div","map-legends wax-legends"),L.DomEvent.disableClickPropagation(this._container),this._update(),this._container},addLegend:function(n){return n?(this._legends[n]||(this._legends[n]=0),this._legends[n]++,this._update()):this},removeLegend:function(n){return n?(this._legends[n]&&this._legends[n]--,this._update()):this},_update:function(){var t,n,i;if(!this._map)return this;this._container.innerHTML="";t="none";for(n in this._legends)this._legends.hasOwnProperty(n)&&this._legends[n]&&(i=L.DomUtil.create("div","map-legend wax-legend",this._container),i.innerHTML=this.options.sanitizer(n),t="block");return this._container.style.display=t,this}});t.exports.LegendControl=i;t.exports.legendControl=function(n){return new i(n)}},{"sanitize-caja":4}],19:[function(n,t){"use strict";var i=n("./request"),r=n("./url"),u=n("./util");t.exports={_loadTileJSON:function(n){typeof n=="string"?(n=r.tileJSON(n,this.options&&this.options.accessToken),i(n,L.bind(function(t,i){t?(u.log("could not load TileJSON at "+n),this.fire("error",{error:t})):i&&(this._setTileJSON(i),this.fire("ready"))},this))):n&&typeof n=="object"&&this._setTileJSON(n)}}},{"./request":24,"./url":28,"./util":29}],20:[function(n,t){"use strict";function r(n,t){return!t||n.accessToken?n:L.extend({accessToken:t},n)}var v=n("./util"),f=n("./tile_layer").tileLayer,e=n("./feature_layer").featureLayer,o=n("./grid_layer").gridLayer,s=n("./grid_control").gridControl,h=n("./info_control").infoControl,c=n("./share_control").shareControl,l=n("./legend_control").legendControl,a=n("./mapbox_logo").mapboxLogoControl,i=n("./feedback"),u=L.Map.extend({includes:[n("./load_tilejson")],options:{tileLayer:{},featureLayer:{},gridLayer:{},legendControl:{},gridControl:{},infoControl:!1,shareControl:!1,sanitizer:n("sanitize-caja")},_tilejson:{},initialize:function(n,t,u){if(L.Map.prototype.initialize.call(this,n,L.extend({},L.Map.prototype.options,u)),this.attributionControl){this.attributionControl.setPrefix("");var v=this.options.attributionControl.compact;if((v||v!==!1&&this._container.offsetWidth<=640)&&L.DomUtil.addClass(this.attributionControl._container,"leaflet-compact-attribution"),v===undefined)this.on("resize",function(){this._container.offsetWidth>640?L.DomUtil.removeClass(this.attributionControl._container,"leaflet-compact-attribution"):L.DomUtil.addClass(this.attributionControl._container,"leaflet-compact-attribution")})}this.options.tileLayer&&(this.tileLayer=f(undefined,r(this.options.tileLayer,this.options.accessToken)),this.addLayer(this.tileLayer));this.options.featureLayer&&(this.featureLayer=e(undefined,r(this.options.featureLayer,this.options.accessToken)),this.addLayer(this.featureLayer));this.options.gridLayer&&(this.gridLayer=o(undefined,r(this.options.gridLayer,this.options.accessToken)),this.addLayer(this.gridLayer));this.options.gridLayer&&this.options.gridControl&&(this.gridControl=s(this.gridLayer,this.options.gridControl),this.addControl(this.gridControl));this.options.infoControl&&(this.infoControl=h(this.options.infoControl),this.addControl(this.infoControl));this.options.legendControl&&(this.legendControl=l(this.options.legendControl),this.addControl(this.legendControl));this.options.shareControl&&(this.shareControl=c(undefined,r(this.options.shareControl,this.options.accessToken)),this.addControl(this.shareControl));this._mapboxLogoControl=a(this.options.mapboxLogoControl);this.addControl(this._mapboxLogoControl);this._loadTileJSON(t);this.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this).on("moveend",this._updateMapFeedbackLink,this);this.whenReady(function(){i.on("change",this._updateMapFeedbackLink,this)});this.on("unload",function(){i.off("change",this._updateMapFeedbackLink,this)})},_setTileJSON:function(n){return this._tilejson=n,this._initialize(n),this},getTileJSON:function(){return this._tilejson},_initialize:function(n){if(this.tileLayer&&(this.tileLayer._setTileJSON(n),this._updateLayer(this.tileLayer)),this.featureLayer&&!this.featureLayer.getGeoJSON()&&n.data&&n.data[0]&&this.featureLayer.loadURL(n.data[0]),this.gridLayer&&(this.gridLayer._setTileJSON(n),this._updateLayer(this.gridLayer)),this.infoControl&&n.attribution&&(this.infoControl.addInfo(this.options.sanitizer(n.attribution)),this._updateMapFeedbackLink()),this.legendControl&&n.legend&&this.legendControl.addLegend(n.legend),this.shareControl&&this.shareControl._setTileJSON(n),this._mapboxLogoControl._setTileJSON(n),!this._loaded&&n.center){var t=this.getZoom()!==undefined?this.getZoom():n.center[2],i=L.latLng(n.center[1],n.center[0]);this.setView(i,t)}},_updateMapFeedbackLink:function(){var n,r,t;if(this._controlContainer.getElementsByClassName&&(n=this._controlContainer.getElementsByClassName("mapbox-improve-map"),n.length&&this._loaded)){var u=this.getCenter().wrap(),e=this._tilejson||{},o=e.id||"",f="#"+o+"/"+u.lng.toFixed(3)+"/"+u.lat.toFixed(3)+"/"+this.getZoom();for(r in i.data)f+="/"+r+"="+i.data[r];for(t=0;t<n.length;t++)n[t].hash=f}},_onLayerAdd:function(n){if("on"in n.layer)n.layer.on("ready",this._onLayerReady,this);window.setTimeout(L.bind(this._updateMapFeedbackLink,this),0)},_onLayerRemove:function(n){"on"in n.layer&&n.layer.off("ready",this._onLayerReady,this);window.setTimeout(L.bind(this._updateMapFeedbackLink,this),0)},_onLayerReady:function(n){this._updateLayer(n.target)},_updateLayer:function(n){n.options&&(this.infoControl&&this._loaded&&this.infoControl.addInfo(n.options.infoControl),this.attributionControl&&this._loaded&&n.getAttribution&&this.attributionControl.addAttribution(n.getAttribution()),L.stamp(n)in this._zoomBoundLayers||!(n.options.maxZoom||n.options.minZoom)||(this._zoomBoundLayers[L.stamp(n)]=n),this._updateMapFeedbackLink(),this._updateZoomLevels())}});t.exports.Map=u;t.exports.map=function(n,t,i){return new u(n,t,i)}},{"./feature_layer":8,"./feedback":9,"./grid_control":13,"./grid_layer":14,"./info_control":16,"./legend_control":18,"./load_tilejson":19,"./mapbox_logo":22,"./share_control":25,"./tile_layer":27,"./util":29,"sanitize-caja":4}],21:[function(n,t){"use strict";var i=n("./geocoder_control"),r=n("./grid_control"),u=n("./feature_layer"),f=n("./legend_control"),e=n("./share_control"),o=n("./tile_layer"),s=n("./info_control"),h=n("./map"),c=n("./grid_layer");L.mapbox=t.exports={VERSION:n("../package.json").version,geocoder:n("./geocoder"),marker:n("./marker"),simplestyle:n("./simplestyle"),tileLayer:o.tileLayer,TileLayer:o.TileLayer,infoControl:s.infoControl,InfoControl:s.InfoControl,shareControl:e.shareControl,ShareControl:e.ShareControl,legendControl:f.legendControl,LegendControl:f.LegendControl,geocoderControl:i.geocoderControl,GeocoderControl:i.GeocoderControl,gridControl:r.gridControl,GridControl:r.GridControl,gridLayer:c.gridLayer,GridLayer:c.GridLayer,featureLayer:u.featureLayer,FeatureLayer:u.FeatureLayer,map:h.map,Map:h.Map,config:n("./config"),sanitize:n("sanitize-caja"),template:n("mustache").to_html,feedback:n("./feedback")};window.L.Icon.Default.imagePath=(document.location.protocol=="https:"||document.location.protocol=="http:"?"":"https:")+"//api.tiles.mapbox.com/mapbox.js/v"+n("../package.json").version+"/images"},{"../package.json":6,"./config":7,"./feature_layer":8,"./feedback":9,"./geocoder":10,"./geocoder_control":11,"./grid_control":13,"./grid_layer":14,"./info_control":16,"./legend_control":18,"./map":20,"./marker":23,"./share_control":25,"./simplestyle":26,"./tile_layer":27,mustache:3,"sanitize-caja":4}],22:[function(n,t){"use strict";var i=L.Control.extend({options:{position:"bottomleft"},initialize:function(n){L.setOptions(this,n)},onAdd:function(){return this._container=L.DomUtil.create("div","mapbox-logo"),this._container},_setTileJSON:function(n){n.mapbox_logo&&L.DomUtil.addClass(this._container,"mapbox-logo-true")}});t.exports.MapboxLogoControl=i;t.exports.mapboxLogoControl=function(n){return new i(n)}},{}],23:[function(n,t){"use strict";function r(n,t){n=n||{};var r={small:[20,50],medium:[30,70],large:[35,90]},i=n["marker-size"]||"medium",f="marker-symbol"in n&&n["marker-symbol"]!==""?"-"+n["marker-symbol"]:"",e=(n["marker-color"]||"7e7e7e").replace("#","");return L.icon({iconUrl:u("/marker/pin-"+i.charAt(0)+f+"+"+e+(L.Browser.retina?"@2x":"")+".png",t&&t.accessToken),iconSize:r[i],iconAnchor:[r[i][0]/2,r[i][1]/2],popupAnchor:[0,-r[i][1]/2]})}function e(n,t,u){return L.marker(t,{icon:r(n.properties,u),title:f.strip_tags(i(n.properties&&n.properties.title||""))})}function o(n,t){if(!n||!n.properties)return"";var r="";return n.properties.title&&(r+='<div class="marker-title">'+n.properties.title+"<\/div>"),n.properties.description&&(r+='<div class="marker-description">'+n.properties.description+"<\/div>"),(t||i)(r)}var u=n("./url"),f=n("./util"),i=n("sanitize-caja");t.exports={icon:r,style:e,createPopup:o}},{"./url":28,"./util":29,"sanitize-caja":4}],24:[function(n,t){"use strict";var r=n("corslite"),i=n("./util").strict,u=n("./config"),f=/^(https?:)?(?=\/\/(.|api)\.tiles\.mapbox\.com\/)/;t.exports=function(n,t){function e(n,i){!n&&i&&(i=JSON.parse(i.responseText));t(n,i)}return i(n,"string"),i(t,"function"),n=n.replace(f,function(n,t){return"withCredentials"in new window.XMLHttpRequest?"https:"===t||"https:"===document.location.protocol||u.FORCE_HTTPS?"https:":"http:":document.location.protocol}),r(n,e)}},{"./config":7,"./util":29,corslite:1}],25:[function(n,t){"use strict";var i=n("./url"),r=L.Control.extend({includes:[n("./load_tilejson")],options:{position:"topleft",url:""},initialize:function(n,t){L.setOptions(this,t);this._loadTileJSON(n)},_setTileJSON:function(n){this._tilejson=n},onAdd:function(n){this._map=n;var t=L.DomUtil.create("div","leaflet-control-mapbox-share leaflet-bar"),i=L.DomUtil.create("a","mapbox-share mapbox-icon mapbox-icon-share",t);i.href="#";this._modal=L.DomUtil.create("div","mapbox-modal",this._map._container);this._mask=L.DomUtil.create("div","mapbox-modal-mask",this._modal);this._content=L.DomUtil.create("div","mapbox-modal-content",this._modal);L.DomEvent.addListener(i,"click",this._shareClick,this);L.DomEvent.disableClickPropagation(t);this._map.on("mousedown",this._clickOut,this);return t},_clickOut:function(n){if(this._sharing){L.DomEvent.preventDefault(n);L.DomUtil.removeClass(this._modal,"active");this._content.innerHTML="";this._sharing=null;return}},_shareClick:function(n){var r,e,f;if(L.DomEvent.stop(n),this._sharing)return this._clickOut(n);var t=this._tilejson||this._map._tilejson||{},u=encodeURIComponent(this.options.url||t.webpage||window.location),o=encodeURIComponent(t.name),s=i("/"+t.id+"/"+this._map.getCenter().lng+","+this._map.getCenter().lat+","+this._map.getZoom()+"/600x600.png",this.options.accessToken),h=i("/"+t.id+".html",this.options.accessToken),c="//twitter.com/intent/tweet?status="+o+" "+u,l="//www.facebook.com/sharer.php?u="+u+"&t="+encodeURIComponent(t.name),a="//www.pinterest.com/pin/create/button/?url="+u+"&media="+s+"&description="+t.name,v="<h3>Share this map<\/h3><div class='mapbox-share-buttons'><a class='mapbox-button mapbox-button-icon mapbox-icon-facebook' target='_blank' href='{{facebook}}'>Facebook<\/a><a class='mapbox-button mapbox-button-icon mapbox-icon-twitter' target='_blank' href='{{twitter}}'>Twitter<\/a><a class='mapbox-button mapbox-button-icon mapbox-icon-pinterest' target='_blank' href='{{pinterest}}'>Pinterest<\/a><\/div>".replace("{{twitter}}",c).replace("{{facebook}}",l).replace("{{pinterest}}",a),y='<iframe width="100%" height="500px" frameBorder="0" src="{{embed}}"><\/iframe>'.replace("{{embed}}",h);L.DomUtil.addClass(this._modal,"active");this._sharing=L.DomUtil.create("div","mapbox-modal-body",this._content);this._sharing.innerHTML=v;r=L.DomUtil.create("input","mapbox-embed",this._sharing);r.type="text";r.value=y;e=L.DomUtil.create("label","mapbox-embed-description",this._sharing);e.innerHTML="Copy and paste this <strong>HTML code<\/strong> into documents to embed this map on web pages.";f=L.DomUtil.create("a","leaflet-popup-close-button",this._sharing);f.href="#";L.DomEvent.disableClickPropagation(this._sharing);L.DomEvent.addListener(f,"click",this._clickOut,this);L.DomEvent.addListener(r,"click",function(n){n.target.focus();n.target.select()})}});t.exports.ShareControl=r;t.exports.shareControl=function(n,t){return new r(n,t)}},{"./load_tilejson":19,"./url":28}],26:[function(n,t){"use strict";function u(n,t){var r={};for(var i in t)r[i]=n[i]===undefined?t[i]:n[i];return r}function f(n){for(var r={},t=0;t<i.length;t++)r[i[t][1]]=n[i[t][0]];return r}function e(n){return f(u(n.properties||{},r))}var r={stroke:"#555555","stroke-width":2,"stroke-opacity":1,fill:"#555555","fill-opacity":.5},i=[["stroke","color"],["stroke-width","weight"],["stroke-opacity","opacity"],["fill","fillColor"],["fill-opacity","fillOpacity"]];t.exports={style:e,defaults:r}},{}],27:[function(n,t){"use strict";var i=n("./util"),r=/\.((?:png|jpg)\d*)(?=$|\?)/,u=L.TileLayer.extend({includes:[n("./load_tilejson")],options:{sanitizer:n("sanitize-caja")},formats:["png","jpg","png32","png64","png128","png256","jpg70","jpg80","jpg90"],scalePrefix:"@2x.",initialize:function(n,t){L.TileLayer.prototype.initialize.call(this,undefined,t);this._tilejson={};t&&t.format&&i.strict_oneof(t.format,this.formats);this._loadTileJSON(n)},setFormat:function(n){return i.strict(n,"string"),this.options.format=n,this.redraw(),this},setUrl:null,_setTileJSON:function(n){return i.strict(n,"object"),this.options.format=this.options.format||n.tiles[0].match(r)[1],L.extend(this.options,{tiles:n.tiles,attribution:this.options.sanitizer(n.attribution),minZoom:n.minzoom||0,maxZoom:n.maxzoom||18,tms:n.scheme==="tms",bounds:n.bounds&&i.lbounds(n.bounds)}),this._tilejson=n,this.redraw(),this},getTileJSON:function(){return this._tilejson},getTileUrl:function(n){var i=this.options.tiles,u=Math.floor(Math.abs(n.x+n.y)%i.length),f=i[u],t=L.Util.template(f,n);return t?t.replace(r,(L.Browser.retina?this.scalePrefix:".")+this.options.format):t},_update:function(){this.options.tiles&&L.TileLayer.prototype._update.call(this)}});t.exports.TileLayer=u;t.exports.tileLayer=function(n,t){return new u(n,t)}},{"./load_tilejson":19,"./util":29,"sanitize-caja":4}],28:[function(n,t){"use strict";var i=n("./config"),r=n("../package.json").version;t.exports=function(n,t){if(t=t||L.mapbox.accessToken,!t&&i.REQUIRE_ACCESS_TOKEN)throw new Error("An API access token is required to use Mapbox.js. See https://www.mapbox.com/mapbox.js/api/v"+r+"/api-access-tokens/");var u="https:"===document.location.protocol||i.FORCE_HTTPS?i.HTTPS_URL:i.HTTP_URL;if(u+=n,u+=u.indexOf("?")!==-1?"&access_token=":"?access_token=",i.REQUIRE_ACCESS_TOKEN){if(t[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox.js, not a secret access token (sk.*). See https://www.mapbox.com/mapbox.js/api/v"+r+"/api-access-tokens/");u+=t}return u};t.exports.tileJSON=function(n,i){if(n.indexOf("/")!==-1)return n;var r=t.exports("/"+n+".json",i);return r.indexOf("https")===0&&(r+="&secure"),r}},{"../package.json":6,"./config":7}],29:[function(n,t){"use strict";function i(n,t){if(!t||!t.length)return!1;for(var i=0;i<t.length;i++)if(t[i]==n)return!0;return!1}t.exports={idUrl:function(n,t){n.indexOf("/")==-1?t.loadID(n):t.loadURL(n)},log:function(n){typeof console=="object"&&typeof console.error=="function"&&console.error(n)},strict:function(n,t){if(typeof n!==t)throw new Error("Invalid argument: "+t+" expected");},strict_instance:function(n,t,i){if(!(n instanceof t))throw new Error("Invalid argument: "+i+" expected");},strict_oneof:function(n,t){if(!i(n,t))throw new Error("Invalid argument: "+n+" given, valid values are "+t.join(", "));},strip_tags:function(n){return n.replace(/<[^<]+>/g,"")},lbounds:function(n){return new L.LatLngBounds([[n[1],n[0]],[n[3],n[2]]])}}},{}]},{},[15]);
"use strict";function _possibleConstructorReturn(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function _inherits(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function __guard__(n,t){return typeof n!="undefined"&&n!==null?t(n):undefined}function __guardMethod__(n,t,i){return typeof n!="undefined"&&n!==null&&typeof n[t]=="function"?i(n,t):undefined}var _createClass=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),Emitter=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"on",value:function(n,t){return this._callbacks=this._callbacks||{},this._callbacks[n]||(this._callbacks[n]=[]),this._callbacks[n].push(t),this}},{key:"emit",value:function(n){var u,e,h;if(this._callbacks=this._callbacks||{},u=this._callbacks[n],u){for(var f=arguments.length,o=Array(f>1?f-1:0),r=1;r<f;r++)o[r-1]=arguments[r];for(var t=u,s=!0,i=0,t=s?t:t[Symbol.iterator]();;){if(s){if(i>=t.length)break;e=t[i++]}else{if(i=t.next(),i.done)break;e=i.value}h=e;h.apply(this,o)}}return this}},{key:"off",value:function(n,t){var i,r,u;if(!this._callbacks||arguments.length===0)return this._callbacks={},this;if(i=this._callbacks[n],!i)return this;if(arguments.length===1)return delete this._callbacks[n],this;for(r=0;r<i.length;r++)if(u=i[r],u===t){i.splice(r,1);break}return this}}]),n}(),Dropzone=function(n){function t(n,i){var e,o;_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),u=void 0,f=void 0;if(r.element=n,r.version=t.version,r.defaultOptions.previewTemplate=r.defaultOptions.previewTemplate.replace(/\n*/g,""),r.clickableElements=[],r.listeners=[],r.files=[],typeof r.element=="string"&&(r.element=document.querySelector(r.element)),!r.element||r.element.nodeType==null)throw new Error("Invalid dropzone element.");if(r.element.dropzone)throw new Error("Dropzone already attached.");if(t.instances.push(r),r.element.dropzone=r,e=(f=t.optionsForElement(r.element))!=null?f:{},r.options=t.extend({},r.defaultOptions,e,i!=null?i:{}),r.options.forceFallback||!t.isBrowserSupported())return o=r.options.fallback.call(r),_possibleConstructorReturn(r,o);if(r.options.url==null&&(r.options.url=r.element.getAttribute("action")),!r.options.url)throw new Error("No URL provided.");if(r.options.acceptedFiles&&r.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(r.options.uploadMultiple&&r.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return r.options.acceptedMimeTypes&&(r.options.acceptedFiles=r.options.acceptedMimeTypes,delete r.options.acceptedMimeTypes),r.options.renameFilename!=null&&(r.options.renameFile=function(n){return r.options.renameFilename.call(r,n.name,n)}),r.options.method=r.options.method.toUpperCase(),(u=r.getExistingFallback())&&u.parentNode&&u.parentNode.removeChild(u),r.options.previewsContainer!==!1&&(r.previewsContainer=r.options.previewsContainer?t.getElement(r.options.previewsContainer,"previewsContainer"):r.element),r.options.clickable&&(r.clickableElements=r.options.clickable===!0?[r.element]:t.getElements(r.options.clickable,"clickable")),r.init(),r}return _inherits(t,n),_createClass(t,null,[{key:"initClass",value:function(){this.prototype.Emitter=Emitter;this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"];this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(n,t,i){if(i)return{dzuuid:i.file.upload.uuid,dzchunkindex:i.index,dztotalfilesize:i.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:i.file.upload.totalChunkCount,dzchunkbyteoffset:i.index*this.options.chunkSize}},accept:function(n,t){return t()},chunksUploaded:function(n,t){t()},fallback:function(){var i=void 0,e,f,n;this.element.className=this.element.className+" dz-browser-not-supported";for(var r=this.element.getElementsByTagName("div"),o=!0,u=0,r=o?r:r[Symbol.iterator]();;){if(o){if(u>=r.length)break;e=r[u++]}else{if(u=r.next(),u.done)break;e=u.value}if(f=e,/(^| )dz-message($| )/.test(f.className)){i=f;f.className="dz-message";break}}return i||(i=t.createElement('<div class="dz-message"><span><\/span><\/div>'),this.element.appendChild(i)),n=i.getElementsByTagName("span")[0],n&&(n.textContent!=null?n.textContent=this.options.dictFallbackMessage:n.innerText!=null&&(n.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(n,t,i,r){var u={srcX:0,srcY:0,srcWidth:n.width,srcHeight:n.height},f=n.width/n.height,e;if(t==null&&i==null?(t=u.srcWidth,i=u.srcHeight):t==null?t=i*f:i==null&&(i=t/f),t=Math.min(t,u.srcWidth),i=Math.min(i,u.srcHeight),e=t/i,u.srcWidth>t||u.srcHeight>i)if(r==="crop")f>e?(u.srcHeight=n.height,u.srcWidth=u.srcHeight*e):(u.srcWidth=n.width,u.srcHeight=u.srcWidth/e);else if(r==="contain")f>e?i=t/f:t=i*f;else throw new Error("Unknown resizeMethod '"+r+"'");return u.srcX=(n.width-u.srcWidth)/2,u.srcY=(n.height-u.srcHeight)/2,u.trgWidth=t,u.trgHeight=i,u},transformFile:function(n,t){return(this.options.resizeWidth||this.options.resizeHeight)&&n.type.match(/image.*/)?this.resizeImage(n,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(n)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /><\/div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size><\/span><\/div>\n    <div class="dz-filename"><span data-dz-name><\/span><\/div>\n  <\/div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress><\/span><\/div>\n  <div class="dz-error-message"><span data-dz-errormessage><\/span><\/div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check<\/title>\n      <defs><\/defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"><\/path>\n      <\/g>\n    <\/svg>\n  <\/div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error<\/title>\n      <defs><\/defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"><\/path>\n        <\/g>\n      <\/g>\n    <\/svg>\n  <\/div>\n<\/div>',drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:function(){},dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:function(){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(n){var i=this,c,f,y,l,w;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){n.previewElement=t.createElement(this.options.previewTemplate.trim());n.previewTemplate=n.previewElement;this.previewsContainer.appendChild(n.previewElement);for(var r=n.previewElement.querySelectorAll("[data-dz-name]"),a=!0,u=0,r=a?r:r[Symbol.iterator]();;){if(a){if(u>=r.length)break;c=r[u++]}else{if(u=r.next(),u.done)break;c=u.value}f=c;f.textContent=n.name}for(var e=n.previewElement.querySelectorAll("[data-dz-size]"),v=!0,o=0,e=v?e:e[Symbol.iterator]();;){if(v){if(o>=e.length)break;f=e[o++]}else{if(o=e.next(),o.done)break;f=o.value}f.innerHTML=this.filesize(n.size)}this.options.addRemoveLinks&&(n._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"<\/a>"),n.previewElement.appendChild(n._removeLink));y=function(r){return r.preventDefault(),r.stopPropagation(),n.status===t.UPLOADING?t.confirm(i.options.dictCancelUploadConfirmation,function(){return i.removeFile(n)}):i.options.dictRemoveFileConfirmation?t.confirm(i.options.dictRemoveFileConfirmation,function(){return i.removeFile(n)}):i.removeFile(n)};for(var s=n.previewElement.querySelectorAll("[data-dz-remove]"),p=!0,h=0,s=p?s:s[Symbol.iterator]();;){if(p){if(h>=s.length)break;l=s[h++]}else{if(h=s.next(),h.done)break;l=h.value}w=l;w.addEventListener("click",y)}}},removedfile:function(n){return n.previewElement!=null&&n.previewElement.parentNode!=null&&n.previewElement.parentNode.removeChild(n.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(n,t){var u,f;if(n.previewElement){n.previewElement.classList.remove("dz-file-preview");for(var i=n.previewElement.querySelectorAll("[data-dz-thumbnail]"),e=!0,r=0,i=e?i:i[Symbol.iterator]();;){if(e){if(r>=i.length)break;u=i[r++]}else{if(r=i.next(),r.done)break;u=r.value}f=u;f.alt=n.name;f.src=t}return setTimeout(function(){return n.previewElement.classList.add("dz-image-preview")},1)}},error:function(n,t){var u,e;if(n.previewElement){n.previewElement.classList.add("dz-error");typeof t!="String"&&t.error&&(t=t.error);for(var i=n.previewElement.querySelectorAll("[data-dz-errormessage]"),f=!0,r=0,i=f?i:i[Symbol.iterator]();;){if(f){if(r>=i.length)break;u=i[r++]}else{if(r=i.next(),r.done)break;u=r.value}e=u;e.textContent=t}}},errormultiple:function(){},processing:function(n){if(n.previewElement&&(n.previewElement.classList.add("dz-processing"),n._removeLink))return n._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(n,t){var f,u;if(n.previewElement)for(var i=n.previewElement.querySelectorAll("[data-dz-uploadprogress]"),e=!0,r=0,i=e?i:i[Symbol.iterator]();;){if(e){if(r>=i.length)break;f=i[r++]}else{if(r=i.next(),r.done)break;f=r.value}u=f;u.nodeName==="PROGRESS"?u.value=t:u.style.width=t+"%"}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(n){if(n.previewElement)return n.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(n){return this.emit("error",n,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(n){return n._removeLink&&(n._removeLink.textContent=this.options.dictRemoveFile),n.previewElement?n.previewElement.classList.add("dz-complete"):void 0},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}};this.prototype._thumbnailQueue=[];this.prototype._processingThumbnail=!1}},{key:"extend",value:function(n){for(var f,e,o,c,u=arguments.length,s=Array(u>1?u-1:0),r=1;r<u;r++)s[r-1]=arguments[r];for(var t=s,h=!0,i=0,t=h?t:t[Symbol.iterator]();;){if(h){if(i>=t.length)break;f=t[i++]}else{if(i=t.next(),i.done)break;f=i.value}e=f;for(o in e)c=e[o],n[o]=c}return n}}]),_createClass(t,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(n){return n.accepted}).map(function(n){return n})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(n){return!n.accepted}).map(function(n){return n})}},{key:"getFilesWithStatus",value:function(n){return this.files.filter(function(t){return t.status===n}).map(function(n){return n})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(t.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(t.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(t.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(n){return n.status===t.UPLOADING||n.status===t.QUEUED}).map(function(n){return n})}},{key:"init",value:function(){var n=this,f,e,o,u;this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data");this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"<\/span><\/div>"));this.clickableElements.length&&(f=function f(){return n.hiddenFileInput&&n.hiddenFileInput.parentNode.removeChild(n.hiddenFileInput),n.hiddenFileInput=document.createElement("input"),n.hiddenFileInput.setAttribute("type","file"),(n.options.maxFiles===null||n.options.maxFiles>1)&&n.hiddenFileInput.setAttribute("multiple","multiple"),n.hiddenFileInput.className="dz-hidden-input",n.options.acceptedFiles!==null&&n.hiddenFileInput.setAttribute("accept",n.options.acceptedFiles),n.options.capture!==null&&n.hiddenFileInput.setAttribute("capture",n.options.capture),n.hiddenFileInput.style.visibility="hidden",n.hiddenFileInput.style.position="absolute",n.hiddenFileInput.style.top="0",n.hiddenFileInput.style.left="0",n.hiddenFileInput.style.height="0",n.hiddenFileInput.style.width="0",document.querySelector(n.options.hiddenInputContainer).appendChild(n.hiddenFileInput),n.hiddenFileInput.addEventListener("change",function(){var r=n.hiddenFileInput.files,u,o;if(r.length)for(var t=r,e=!0,i=0,t=e?t:t[Symbol.iterator]();;){if(e){if(i>=t.length)break;u=t[i++]}else{if(i=t.next(),i.done)break;u=i.value}o=u;n.addFile(o)}return n.emit("addedfiles",r),f()})},f());this.URL=window.URL!==null?window.URL:window.webkitURL;for(var i=this.events,s=!0,r=0,i=s?i:i[Symbol.iterator]();;){if(s){if(r>=i.length)break;e=i[r++]}else{if(r=i.next(),r.done)break;e=r.value}o=e;this.on(o,this.options[o])}this.on("uploadprogress",function(){return n.updateTotalUploadProgress()});this.on("removedfile",function(){return n.updateTotalUploadProgress()});this.on("canceled",function(t){return n.emit("complete",t)});this.on("complete",function(){if(n.getAddedFiles().length===0&&n.getUploadingFiles().length===0&&n.getQueuedFiles().length===0)return setTimeout(function(){return n.emit("queuecomplete")},0)});return u=function(n){return n.stopPropagation(),n.preventDefault?n.preventDefault():n.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return n.emit("dragstart",t)},dragenter:function(t){return u(t),n.emit("dragenter",t)},dragover:function(t){var i=void 0;try{i=t.dataTransfer.effectAllowed}catch(r){}return t.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",u(t),n.emit("dragover",t)},dragleave:function(t){return n.emit("dragleave",t)},drop:function(t){return u(t),n.drop(t)},dragend:function(t){return n.emit("dragend",t)}}}],this.clickableElements.forEach(function(i){return n.listeners.push({element:i,events:{click:function(r){return(i!==n.element||r.target===n.element||t.elementInside(r.target,n.element.querySelector(".dz-message")))&&n.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(this.hiddenFileInput!=null?this.hiddenFileInput.parentNode:undefined)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,t.instances.splice(t.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var i=void 0,r=0,u=0,s=this.getActiveFiles(),f,e;if(s.length){for(var n=this.getActiveFiles(),o=!0,t=0,n=o?n:n[Symbol.iterator]();;){if(o){if(t>=n.length)break;f=n[t++]}else{if(t=n.next(),t.done)break;f=t.value}e=f;r+=e.upload.bytesSent;u+=e.upload.total}i=100*r/u}else i=100;return this.emit("totaluploadprogress",i,u,r)}},{key:"_getParamName",value:function(n){return typeof this.options.paramName=="function"?this.options.paramName(n):""+this.options.paramName+(this.options.uploadMultiple?"["+n+"]":"")}},{key:"_renameFile",value:function(n){return typeof this.options.renameFile!="function"?n.name:this.options.renameFile(n)}},{key:"getFallbackForm",value:function(){var u=void 0,n=void 0,i,r;return(u=this.getExistingFallback())?u:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"<\/p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':undefined)+' /><input type="submit" value="Upload!"><\/div>',r=t.createElement(i),this.element.tagName!=="FORM"?(n=t.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"><\/form>'),n.appendChild(r)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),n!=null?n:r)}},{key:"getExistingFallback",value:function(){for(var i,r,u=function(n){for(var r,u,t=n,f=!0,i=0,t=f?t:t[Symbol.iterator]();;){if(f){if(i>=t.length)break;r=t[i++]}else{if(i=t.next(),i.done)break;r=i.value}if(u=r,/(^| )fallback($| )/.test(u.className))return u}},t=["div","form"],n=0;n<t.length;n++)if(i=t[n],r=u(this.element.getElementsByTagName(i)))return r}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(n){return function(){var i=[],t,r;for(t in n.events)r=n.events[t],i.push(n.element.addEventListener(t,r,!1));return i}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(n){return function(){var i=[],t,r;for(t in n.events)r=n.events[t],i.push(n.element.removeEventListener(t,r,!1));return i}()})}},{key:"disable",value:function(){var n=this;return this.clickableElements.forEach(function(n){return n.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(t){return n.cancelUpload(t)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(n){return n.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(n){var i=0,u="b",r,t,f,e;if(n>0){for(r=["tb","gb","mb","kb","b"],t=0;t<r.length;t++)if(f=r[t],e=Math.pow(this.options.filesizeBase,4-t)/10,n>=e){i=n/Math.pow(this.options.filesizeBase,4-t);u=f;break}i=Math.round(10*i)/10}return"<strong>"+i+"<\/strong> "+this.options.dictFileSizeUnits[u]}},{key:"_updateMaxFilesReachedClass",value:function(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(n){var i,t;n.dataTransfer&&(this.emit("drop",n),i=n.dataTransfer.files,this.emit("addedfiles",i),i.length&&(t=n.dataTransfer.items,t&&t.length&&t[0].webkitGetAsEntry!=null?this._addFilesFromItems(t):this.handleFiles(i)))}},{key:"paste",value:function(n){if(__guard__(n!=null?n.clipboardData:undefined,function(n){return n.items})!=null){this.emit("paste",n);var t=n.clipboardData.items;if(t.length)return this._addFilesFromItems(t)}}},{key:"handleFiles",value:function(n){for(var r,f,t=n,u=!0,i=0,t=u?t:t[Symbol.iterator]();;){if(u){if(i>=t.length)break;r=t[i++]}else{if(i=t.next(),i.done)break;r=i.value}f=r;this.addFile(f)}}},{key:"_addFilesFromItems",value:function(n){var t=this;return function(){for(var o,i,e,r=[],u=n,s=!0,f=0,u=s?u:u[Symbol.iterator]();;){if(s){if(f>=u.length)break;o=u[f++]}else{if(f=u.next(),f.done)break;o=f.value}i=o;i.webkitGetAsEntry!=null&&(e=i.webkitGetAsEntry())?e.isFile?r.push(t.addFile(i.getAsFile())):e.isDirectory?r.push(t._addFilesFromDirectory(e,e.name)):r.push(undefined):i.getAsFile!=null?i.kind==null||i.kind==="file"?r.push(t.addFile(i.getAsFile())):r.push(undefined):r.push(undefined)}return r}()}},{key:"_addFilesFromDirectory",value:function(n,t){var i=this,u=n.createReader(),f=function(n){return __guardMethod__(console,"log",function(t){return t.log(n)})},r=function r(){return u.readEntries(function(n){var o,u;if(n.length>0){for(var f=n,s=!0,e=0,f=s?f:f[Symbol.iterator]();;){if(s){if(e>=f.length)break;o=f[e++]}else{if(e=f.next(),e.done)break;o=e.value}u=o;u.isFile?u.file(function(n){if(!i.options.ignoreHiddenFiles||n.name.substring(0,1)!==".")return n.fullPath=t+"/"+n.name,i.addFile(n)}):u.isDirectory&&i._addFilesFromDirectory(u,t+"/"+u.name)}r()}return null},f)};return r()}},{key:"accept",value:function(n,i){return n.size>this.options.maxFilesize*1048576?i(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(n.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidFile(n,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(i(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",n)):this.options.accept.call(this,n,i):i(this.options.dictInvalidFileType)}},{key:"addFile",value:function(n){var i=this;return n.upload={uuid:t.uuidv4(),progress:0,total:n.size,bytesSent:0,filename:this._renameFile(n),chunked:this.options.chunking&&(this.options.forceChunking||n.size>this.options.chunkSize),totalChunkCount:Math.ceil(n.size/this.options.chunkSize)},this.files.push(n),n.status=t.ADDED,this.emit("addedfile",n),this._enqueueThumbnail(n),this.accept(n,function(t){return t?(n.accepted=!1,i._errorProcessing([n],t)):(n.accepted=!0,i.options.autoQueue&&i.enqueueFile(n)),i._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(n){for(var r,f,t=n,u=!0,i=0,t=u?t:t[Symbol.iterator]();;){if(u){if(i>=t.length)break;r=t[i++]}else{if(i=t.next(),i.done)break;r=i.value}f=r;this.enqueueFile(f)}return null}},{key:"enqueueFile",value:function(n){var i=this;if(n.status===t.ADDED&&n.accepted===!0){if(n.status=t.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return i.processQueue()},0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.");}},{key:"_enqueueThumbnail",value:function(n){var t=this;if(this.options.createImageThumbnails&&n.type.match(/image.*/)&&n.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(n),setTimeout(function(){return t._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var n=this,t;if(!this._processingThumbnail&&this._thumbnailQueue.length!==0)return this._processingThumbnail=!0,t=this._thumbnailQueue.shift(),this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(i){return n.emit("thumbnail",t,i),n._processingThumbnail=!1,n._processThumbnailQueue()})}},{key:"removeFile",value:function(n){return n.status===t.UPLOADING&&this.cancelUpload(n),this.files=without(this.files,n),this.emit("removedfile",n),this.files.length===0?this.emit("reset"):void 0}},{key:"removeAllFiles",value:function(n){var u,f;n==null&&(n=!1);for(var i=this.files.slice(),e=!0,r=0,i=e?i:i[Symbol.iterator]();;){if(e){if(r>=i.length)break;u=i[r++]}else{if(r=i.next(),r.done)break;u=r.value}f=u;(f.status!==t.UPLOADING||n)&&this.removeFile(f)}return null}},{key:"resizeImage",value:function(n,i,r,u,f){var e=this;return this.createThumbnail(n,i,r,u,!1,function(i,r){var u,o;return r==null?f(n):(u=e.options.resizeMimeType,u==null&&(u=n.type),o=r.toDataURL(u,e.options.resizeQuality),(u==="image/jpeg"||u==="image/jpg")&&(o=ExifRestore.restore(n.dataURL,o)),f(t.dataURItoBlob(o)))})}},{key:"createThumbnail",value:function(n,t,i,r,u,f){var o=this,e=new FileReader;return e.onload=function(){if(n.dataURL=e.result,n.type==="image/svg+xml"){f!=null&&f(e.result);return}return o.createThumbnailFromUrl(n,t,i,r,u,f)},e.readAsDataURL(n)}},{key:"createThumbnailFromUrl",value:function(n,t,i,r,u,f,e){var s=this,o=document.createElement("img");return e&&(o.crossOrigin=e),o.onload=function(){var e=function(n){return n(1)};return typeof EXIF!="undefined"&&EXIF!==null&&u&&(e=function(n){return EXIF.getData(o,function(){return n(EXIF.getTag(this,"Orientation"))})}),e(function(u){var l;n.width=o.width;n.height=o.height;var e=s.options.resize.call(s,n,t,i,r),c=document.createElement("canvas"),h=c.getContext("2d");c.width=e.trgWidth;c.height=e.trgHeight;u>4&&(c.width=e.trgHeight,c.height=e.trgWidth);switch(u){case 2:h.translate(c.width,0);h.scale(-1,1);break;case 3:h.translate(c.width,c.height);h.rotate(Math.PI);break;case 4:h.translate(0,c.height);h.scale(1,-1);break;case 5:h.rotate(.5*Math.PI);h.scale(1,-1);break;case 6:h.rotate(.5*Math.PI);h.translate(0,-c.height);break;case 7:h.rotate(.5*Math.PI);h.translate(c.width,-c.height);h.scale(-1,1);break;case 8:h.rotate(-.5*Math.PI);h.translate(-c.width,0)}return drawImageIOSFix(h,o,e.srcX!=null?e.srcX:0,e.srcY!=null?e.srcY:0,e.srcWidth,e.srcHeight,e.trgX!=null?e.trgX:0,e.trgY!=null?e.trgY:0,e.trgWidth,e.trgHeight),l=c.toDataURL("image/png"),f!=null?f(l,c):void 0})},f!=null&&(o.onerror=f),o.src=n.dataURL}},{key:"processQueue",value:function(){var t=this.options.parallelUploads,i=this.getUploadingFiles().length,r=i,n;if(!(i>=t)&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));while(r<t){if(!n.length)return;this.processFile(n.shift());r++}}}},{key:"processFile",value:function(n){return this.processFiles([n])}},{key:"processFiles",value:function(n){for(var f,u,i=n,e=!0,r=0,i=e?i:i[Symbol.iterator]();;){if(e){if(r>=i.length)break;f=i[r++]}else{if(r=i.next(),r.done)break;f=r.value}u=f;u.processing=!0;u.status=t.UPLOADING;this.emit("processing",u)}return this.options.uploadMultiple&&this.emit("processingmultiple",n),this.uploadFiles(n)}},{key:"_getFilesWithXhr",value:function(n){return this.files.filter(function(t){return t.xhr===n}).map(function(n){return n})}},{key:"cancelUpload",value:function(n){var e,o,c,s,a;if(n.status===t.UPLOADING){e=this._getFilesWithXhr(n.xhr);for(var i=e,h=!0,r=0,i=h?i:i[Symbol.iterator]();;){if(h){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}c=o;c.status=t.CANCELED}typeof n.xhr!="undefined"&&n.xhr.abort();for(var u=e,l=!0,f=0,u=l?u:u[Symbol.iterator]();;){if(l){if(f>=u.length)break;s=u[f++]}else{if(f=u.next(),f.done)break;s=f.value}a=s;this.emit("canceled",a)}this.options.uploadMultiple&&this.emit("canceledmultiple",e)}else(n.status===t.ADDED||n.status===t.QUEUED)&&(n.status=t.CANCELED,this.emit("canceled",n),this.options.uploadMultiple&&this.emit("canceledmultiple",[n]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(n){if(typeof n=="function"){for(var i=arguments.length,r=Array(i>1?i-1:0),t=1;t<i;t++)r[t-1]=arguments[t];return n.apply(this,r)}return n}},{key:"uploadFile",value:function(n){return this.uploadFiles([n])}},{key:"uploadFiles",value:function(n){var i=this;this._transformFiles(n,function(r){var e,s,h,f;if(n[0].upload.chunked){var u=n[0],o=r[0],c=0;if(u.upload.chunks=[],e=function(){for(var r=0;u.upload.chunks[r]!==undefined;)r++;if(!(r>=u.upload.totalChunkCount)){c++;var f=r*i.options.chunkSize,e=Math.min(f+i.options.chunkSize,u.size),s={name:i._getParamName(0),data:o.webkitSlice?o.webkitSlice(f,e):o.slice(f,e),filename:u.upload.filename,chunkIndex:r};u.upload.chunks[r]={file:u,index:r,dataBlock:s,status:t.UPLOADING,progress:0,retries:0};i._uploadData(n,[s])}},u.upload.finishedChunkUpload=function(r){var o=!0,f;for(r.status=t.SUCCESS,r.dataBlock=null,f=0;f<u.upload.totalChunkCount;f++){if(u.upload.chunks[f]===undefined)return e();u.upload.chunks[f].status!==t.SUCCESS&&(o=!1)}o&&i.options.chunksUploaded(u,function(){i._finished(n,"",null)})},i.options.parallelChunkUploads)for(s=0;s<u.upload.totalChunkCount;s++)e();else e()}else{for(h=[],f=0;f<n.length;f++)h[f]={name:i._getParamName(f),data:r[f],filename:n[f].upload.filename};i._uploadData(n,h)}})}},{key:"_getChunk",value:function(n,t){for(var i=0;i<n.upload.totalChunkCount;i++)if(n.upload.chunks[i]!==undefined&&n.upload.chunks[i].xhr===t)return n.upload.chunks[i]}},{key:"_uploadData",value:function(n,i){for(var y,g,nt,tt,it,c,p,w,u,f,b,rt,k,ft,l,a,v=this,r=new XMLHttpRequest,e=n,d=!0,o=0,e=d?e:e[Symbol.iterator]();;){if(d){if(o>=e.length)break;y=e[o++]}else{if(o=e.next(),o.done)break;y=o.value}g=y;g.xhr=r}n[0].upload.chunked&&(n[0].upload.chunks[i[0].chunkIndex].xhr=r);nt=this.resolveOption(this.options.method,n);tt=this.resolveOption(this.options.url,n);r.open(nt,tt,!0);r.timeout=this.resolveOption(this.options.timeout,n);r.withCredentials=!!this.options.withCredentials;r.onload=function(t){v._finishedUploading(n,r,t)};r.onerror=function(){v._handleUploadError(n,r)};it=r.upload!=null?r.upload:r;it.onprogress=function(t){return v._updateFilesUploadProgress(n,r,t)};c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&t.extend(c,this.options.headers);for(p in c)w=c[p],w&&r.setRequestHeader(p,w);if(u=new FormData,this.options.params){f=this.options.params;typeof f=="function"&&(f=f.call(this,n,r,n[0].upload.chunked?this._getChunk(n[0],r):null));for(b in f)rt=f[b],u.append(b,rt)}for(var s=n,ut=!0,h=0,s=ut?s:s[Symbol.iterator]();;){if(ut){if(h>=s.length)break;k=s[h++]}else{if(h=s.next(),h.done)break;k=h.value}ft=k;this.emit("sending",ft,r,u)}for(this.options.uploadMultiple&&this.emit("sendingmultiple",n,r,u),this._addFormElementData(u),l=0;l<i.length;l++)a=i[l],u.append(a.name,a.data,a.filename);this.submitRequest(r,u,n)}},{key:"_transformFiles",value:function(n,t){for(var r=this,u=[],f=0,e=function(i){r.options.transformFile.call(r,n[i],function(r){u[i]=r;++f===n.length&&t(u)})},i=0;i<n.length;i++)e(i)}},{key:"_addFormElementData",value:function(n){var s,h,c;if(this.element.tagName==="FORM")for(var r=this.element.querySelectorAll("input, textarea, select, button"),l=!0,u=0,r=l?r:r[Symbol.iterator]();;){if(l){if(u>=r.length)break;s=r[u++]}else{if(u=r.next(),u.done)break;s=u.value}var t=s,o=t.getAttribute("name"),i=t.getAttribute("type");if(i&&(i=i.toLowerCase()),typeof o!="undefined"&&o!==null)if(t.tagName==="SELECT"&&t.hasAttribute("multiple"))for(var f=t.options,a=!0,e=0,f=a?f:f[Symbol.iterator]();;){if(a){if(e>=f.length)break;h=f[e++]}else{if(e=f.next(),e.done)break;h=e.value}c=h;c.selected&&n.append(o,c.value)}else(!i||i!=="checkbox"&&i!=="radio"||t.checked)&&n.append(o,t.value)}}},{key:"_updateFilesUploadProgress",value:function(n,t,i){var e=void 0,r,p,u,k,w,d,b,g,nt,f,tt,it;if(typeof i!="undefined"){if(e=100*i.loaded/i.total,n[0].upload.chunked){r=n[0];p=this._getChunk(r,t);p.progress=e;p.total=i.total;p.bytesSent=i.loaded;for(r.upload.progress=0,r.upload.total=0,r.upload.bytesSent=0,u=0;u<r.upload.totalChunkCount;u++)r.upload.chunks[u]!==undefined&&r.upload.chunks[u].progress!==undefined&&(r.upload.progress+=r.upload.chunks[u].progress,r.upload.total+=r.upload.chunks[u].total,r.upload.bytesSent+=r.upload.chunks[u].bytesSent);r.upload.progress=r.upload.progress/r.upload.totalChunkCount}else for(var o=n,rt=!0,s=0,o=rt?o:o[Symbol.iterator]();;){if(rt){if(s>=o.length)break;k=o[s++]}else{if(s=o.next(),s.done)break;k=s.value}w=k;w.upload.progress=e;w.upload.total=i.total;w.upload.bytesSent=i.loaded}for(var h=n,ut=!0,c=0,h=ut?h:h[Symbol.iterator]();;){if(ut){if(c>=h.length)break;d=h[c++]}else{if(c=h.next(),c.done)break;d=c.value}b=d;this.emit("uploadprogress",b,b.upload.progress,b.upload.bytesSent)}}else{g=!0;e=100;for(var l=n,ft=!0,a=0,l=ft?l:l[Symbol.iterator]();;){if(ft){if(a>=l.length)break;nt=l[a++]}else{if(a=l.next(),a.done)break;nt=a.value}f=nt;(f.upload.progress!==100||f.upload.bytesSent!==f.upload.total)&&(g=!1);f.upload.progress=e;f.upload.bytesSent=f.upload.total}if(g)return;for(var v=n,et=!0,y=0,v=et?v:v[Symbol.iterator]();;){if(et){if(y>=v.length)break;tt=v[y++]}else{if(y=v.next(),y.done)break;tt=y.value}it=tt;this.emit("uploadprogress",it,e,it.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(n,i,r){var u=void 0;if(n[0].status!==t.CANCELED&&i.readyState===4){if(i.responseType!=="arraybuffer"&&i.responseType!=="blob"&&(u=i.responseText,i.getResponseHeader("content-type")&&~i.getResponseHeader("content-type").indexOf("application/json")))try{u=JSON.parse(u)}catch(f){r=f;u="Invalid JSON response from server."}this._updateFilesUploadProgress(n);200<=i.status&&i.status<300?n[0].upload.chunked?n[0].upload.finishedChunkUpload(this._getChunk(n[0],i)):this._finished(n,u,r):this._handleUploadError(n,i,u)}}},{key:"_handleUploadError",value:function(n,i,r){var e,o,h;if(n[0].status!==t.CANCELED){if(n[0].upload.chunked&&this.options.retryChunks){if(e=this._getChunk(n[0],i),e.retries++<this.options.retryChunksLimit){this._uploadData(n,[e.dataBlock]);return}console.warn("Retried this chunk too often. Giving up.")}for(var u=n,s=!0,f=0,u=s?u:u[Symbol.iterator]();;){if(s){if(f>=u.length)break;o=u[f++]}else{if(f=u.next(),f.done)break;o=f.value}h=o;this._errorProcessing(n,r||this.options.dictResponseError.replace("{{statusCode}}",i.status),i)}}}},{key:"submitRequest",value:function(n,t){n.send(t)}},{key:"_finished",value:function(n,i,r){for(var o,e,u=n,s=!0,f=0,u=s?u:u[Symbol.iterator]();;){if(s){if(f>=u.length)break;o=u[f++]}else{if(f=u.next(),f.done)break;o=f.value}e=o;e.status=t.SUCCESS;this.emit("success",e,i,r);this.emit("complete",e)}return this.options.uploadMultiple&&(this.emit("successmultiple",n,i,r),this.emit("completemultiple",n)),this.options.autoProcessQueue?this.processQueue():void 0}},{key:"_errorProcessing",value:function(n,i,r){for(var o,e,u=n,s=!0,f=0,u=s?u:u[Symbol.iterator]();;){if(s){if(f>=u.length)break;o=u[f++]}else{if(f=u.next(),f.done)break;o=f.value}e=o;e.status=t.ERROR;this.emit("error",e,i,r);this.emit("complete",e)}return this.options.uploadMultiple&&(this.emit("errormultiple",n,i,r),this.emit("completemultiple",n)),this.options.autoProcessQueue?this.processQueue():void 0}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,i=n==="x"?t:t&3|8;return i.toString(16)})}}]),t}(Emitter),without,camelize,contentLoaded;Dropzone.initClass();Dropzone.version="5.3.1";Dropzone.options={};Dropzone.optionsForElement=function(n){return n.getAttribute("id")?Dropzone.options[camelize(n.getAttribute("id"))]:undefined};Dropzone.instances=[];Dropzone.forElement=function(n){if(typeof n=="string"&&(n=document.querySelector(n)),(n!=null?n.dropzone:undefined)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return n.dropzone};Dropzone.autoDiscover=!0;Dropzone.discover=function(){var n=void 0,t;return document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],t=function(t){return function(){for(var f,e,u=[],i=t,o=!0,r=0,i=o?i:i[Symbol.iterator]();;){if(o){if(r>=i.length)break;f=i[r++]}else{if(r=i.next(),r.done)break;f=r.value}e=f;/(^| )dropzone($| )/.test(e.className)?u.push(n.push(e)):u.push(undefined)}return u}()},t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),function(){for(var u,f,r=[],t=n,e=!0,i=0,t=e?t:t[Symbol.iterator]();;){if(e){if(i>=t.length)break;u=t[i++]}else{if(i=t.next(),i.done)break;u=i.value}f=u;Dropzone.optionsForElement(f)!==!1?r.push(new Dropzone(f)):r.push(undefined)}return r}()};Dropzone.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];Dropzone.isBrowserSupported=function(){var i=!0,r,f;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(var n=Dropzone.blacklistedBrowsers,u=!0,t=0,n=u?n:n[Symbol.iterator]();;){if(u){if(t>=n.length)break;r=n[t++]}else{if(t=n.next(),t.done)break;r=t.value}if(f=r,f.test(navigator.userAgent)){i=!1;continue}}else i=!1;else i=!1;return i};Dropzone.dataURItoBlob=function(n){for(var i=atob(n.split(",")[1]),e=n.split(",")[0].split(":")[1].split(";")[0],u=new ArrayBuffer(i.length),o=new Uint8Array(u),t=0,r=i.length,f=0<=r;f?t<=r:t>=r;f?t++:t--)o[t]=i.charCodeAt(t);return new Blob([u],{type:e})};without=function(n,t){return n.filter(function(n){return n!==t}).map(function(n){return n})};camelize=function(n){return n.replace(/[\-_](\w)/g,function(n){return n.charAt(1).toUpperCase()})};Dropzone.createElement=function(n){var t=document.createElement("div");return t.innerHTML=n,t.childNodes[0]};Dropzone.elementInside=function(n,t){if(n===t)return!0;while(n=n.parentNode)if(n===t)return!0;return!1};Dropzone.getElement=function(n,t){var i=void 0;if(typeof n=="string"?i=document.querySelector(n):n.nodeType!=null&&(i=n),i==null)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i};Dropzone.getElements=function(n,t){var r=void 0,i=void 0;if(n instanceof Array){i=[];try{for(var u=n,s=!0,f=0,u=s?u:u[Symbol.iterator]();;){if(s){if(f>=u.length)break;r=u[f++]}else{if(f=u.next(),f.done)break;r=f.value}i.push(this.getElement(r,t))}}catch(c){i=null}}else if(typeof n=="string"){i=[];for(var e=document.querySelectorAll(n),h=!0,o=0,e=h?e:e[Symbol.iterator]();;){if(h){if(o>=e.length)break;r=e[o++]}else{if(o=e.next(),o.done)break;r=o.value}i.push(r)}}else n.nodeType!=null&&(i=[n]);if(i==null||!i.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i};Dropzone.confirm=function(n,t,i){return window.confirm(n)?t():i!=null?i():void 0};Dropzone.isValidFile=function(n,t){var f,o,e,i;if(!t)return!0;t=t.split(",");f=n.type;o=f.replace(/\/.*$/,"");for(var r=t,s=!0,u=0,r=s?r:r[Symbol.iterator]();;){if(s){if(u>=r.length)break;e=r[u++]}else{if(u=r.next(),u.done)break;e=u.value}if(i=e,i=i.trim(),i.charAt(0)==="."){if(n.name.toLowerCase().indexOf(i.toLowerCase(),n.name.length-i.length)!==-1)return!0}else if(/\/\*$/.test(i)){if(o===i.replace(/\/.*$/,""))return!0}else if(f===i)return!0}return!1};typeof jQuery!="undefined"&&jQuery!==null&&(jQuery.fn.dropzone=function(n){return this.each(function(){return new Dropzone(this,n)})});typeof module!="undefined"&&module!==null?module.exports=Dropzone:window.Dropzone=Dropzone;Dropzone.ADDED="added";Dropzone.QUEUED="queued";Dropzone.ACCEPTED=Dropzone.QUEUED;Dropzone.UPLOADING="uploading";Dropzone.PROCESSING=Dropzone.UPLOADING;Dropzone.CANCELED="canceled";Dropzone.ERROR="error";Dropzone.SUCCESS="success";var detectVerticalSquash=function(n){var l=n.naturalWidth,i=n.naturalHeight,r=document.createElement("canvas"),u,s,e;r.width=1;r.height=i;u=r.getContext("2d");u.drawImage(n,0,0);for(var h=u.getImageData(1,0,1,i),c=h.data,f=0,o=i,t=i;t>f;)s=c[(t-1)*4+3],s===0?o=t:f=t,t=o+f>>1;return e=t/i,e===0?1:e},drawImageIOSFix=function(n,t,i,r,u,f,e,o,s,h){var c=detectVerticalSquash(t);return n.drawImage(t,i,r,u,f,e,o,s,h/c)},ExifRestore=function(){function n(){_classCallCheck(this,n)}return _createClass(n,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(n){for(var o="",u=undefined,t=undefined,i="",s=undefined,h=undefined,f=undefined,r="",e=0;;)if(u=n[e++],t=n[e++],i=n[e++],s=u>>2,h=(u&3)<<4|t>>4,f=(t&15)<<2|i>>6,r=i&63,isNaN(t)?f=r=64:isNaN(i)&&(r=64),o=o+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(h)+this.KEY_STR.charAt(f)+this.KEY_STR.charAt(r),u=t=i="",s=h=f=r="",!(e<n.length))break;return o}},{key:"restore",value:function(n,t){if(!n.match("data:image/jpeg;base64,"))return t;var i=this.decode64(n.replace("data:image/jpeg;base64,","")),r=this.slice2Segments(i),u=this.exifManipulation(t,r);return"data:image/jpeg;base64,"+this.encode64(u)}},{key:"exifManipulation",value:function(n,t){var i=this.getExifArray(t),r=this.insertExif(n,i);return new Uint8Array(r)}},{key:"getExifArray",value:function(n){for(var t=undefined,i=0;i<n.length;){if(t=n[i],t[0]===255&t[1]===225)return t;i++}return[]}},{key:"insertExif",value:function(n,t){var f=n.replace("data:image/jpeg;base64,",""),i=this.decode64(f),u=i.indexOf(255,3),e=i.slice(0,u),o=i.slice(u),r=e;return r=r.concat(t),r.concat(o)}},{key:"slice2Segments",value:function(n){for(var t=0,r=[],u,i,f;;){if(n[t]===255&n[t+1]===218)break;if(n[t]===255&n[t+1]===216?t+=2:(u=n[t+2]*256+n[t+3],i=t+u+2,f=n.slice(t,i),r.push(f),t=i),t>n.length)break}return r}},{key:"decode64",value:function(n){var e=undefined,o=undefined,s="",h=undefined,r=undefined,t=undefined,u="",i=0,f=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(n)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"");;)if(h=this.KEY_STR.indexOf(n.charAt(i++)),r=this.KEY_STR.indexOf(n.charAt(i++)),t=this.KEY_STR.indexOf(n.charAt(i++)),u=this.KEY_STR.indexOf(n.charAt(i++)),e=h<<2|r>>4,o=(r&15)<<4|t>>2,s=(t&3)<<6|u,f.push(e),t!==64&&f.push(o),u!==64&&f.push(s),e=o=s="",h=r=t=u="",!(i<n.length))break;return f}}]),n}();ExifRestore.initClass();contentLoaded=function(n,t){var e=!1,o=!0,i=n.document,s=i.documentElement,f=i.addEventListener?"addEventListener":"attachEvent",c=i.addEventListener?"removeEventListener":"detachEvent",u=i.addEventListener?"":"on",r=function r(f){if(f.type!=="readystatechange"||i.readyState==="complete")return(f.type==="load"?n:i)[c](u+f.type,r,!1),!e&&(e=!0)?t.call(n,f.type||f):void 0},h=function h(){try{s.doScroll("left")}catch(n){setTimeout(h,50);return}return r("poll")};if(i.readyState!=="complete"){if(i.createEventObject&&s.doScroll){try{o=!n.frameElement}catch(l){}o&&h()}return i[f](u+"DOMContentLoaded",r,!1),i[f](u+"readystatechange",r,!1),n[f](u+"load",r,!1)}};Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover)return Dropzone.discover()};contentLoaded(window,Dropzone._autoDiscoverFunction);
var LZString=function(){function f(n,t){if(!i[n]){i[n]={};for(var r=0;r<n.length;r++)i[n][n.charAt(r)]=r}return i[n][t]}var t=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={},n={compressToBase64:function(t){if(t==null)return"";var i=n._compress(t,6,function(n){return r.charAt(n)});switch(i.length%4){default:case 0:return i;case 1:return i+"===";case 2:return i+"==";case 3:return i+"="}},decompressFromBase64:function(t){return t==null?"":t==""?null:n._decompress(t.length,32,function(n){return f(r,t.charAt(n))})},compressToUTF16:function(i){return i==null?"":n._compress(i,15,function(n){return t(n+32)})+" "},decompressFromUTF16:function(t){return t==null?"":t==""?null:n._decompress(t.length,16384,function(n){return t.charCodeAt(n)-32})},compressToUint8Array:function(t){for(var f,r=n.compress(t),u=new Uint8Array(r.length*2),i=0,e=r.length;i<e;i++)f=r.charCodeAt(i),u[i*2]=f>>>8,u[i*2+1]=f%256;return u},decompressFromUint8Array:function(i){var u,r,e,f;if(i===null||i===undefined)return n.decompress(i);for(u=new Array(i.length/2),r=0,e=u.length;r<e;r++)u[r]=i[r*2]*256+i[r*2+1];return f=[],u.forEach(function(n){f.push(t(n))}),n.decompress(f.join(""))},compressToEncodedURIComponent:function(t){return t==null?"":n._compress(t,6,function(n){return u.charAt(n)})},decompressFromEncodedURIComponent:function(t){return t==null?"":t==""?null:(t=t.replace(/ /g,"+"),n._decompress(t.length,32,function(n){return f(u,t.charAt(n))}))},compress:function(i){return n._compress(i,16,function(n){return t(n)})},_compress:function(n,t,i){if(n==null)return"";for(var e,f,l={},v={},a="",y="",o="",c=2,w=3,s=2,h=[],r=0,u=0,p=0;p<n.length;p+=1)if(a=n.charAt(p),Object.prototype.hasOwnProperty.call(l,a)||(l[a]=w++,v[a]=!0),y=o+a,Object.prototype.hasOwnProperty.call(l,y))o=y;else{if(Object.prototype.hasOwnProperty.call(v,o)){if(o.charCodeAt(0)<256){for(e=0;e<s;e++)r=r<<1,u==t-1?(u=0,h.push(i(r)),r=0):u++;for(f=o.charCodeAt(0),e=0;e<8;e++)r=r<<1|f&1,u==t-1?(u=0,h.push(i(r)),r=0):u++,f=f>>1}else{for(f=1,e=0;e<s;e++)r=r<<1|f,u==t-1?(u=0,h.push(i(r)),r=0):u++,f=0;for(f=o.charCodeAt(0),e=0;e<16;e++)r=r<<1|f&1,u==t-1?(u=0,h.push(i(r)),r=0):u++,f=f>>1}c--;c==0&&(c=Math.pow(2,s),s++);delete v[o]}else for(f=l[o],e=0;e<s;e++)r=r<<1|f&1,u==t-1?(u=0,h.push(i(r)),r=0):u++,f=f>>1;c--;c==0&&(c=Math.pow(2,s),s++);l[y]=w++;o=String(a)}if(o!==""){if(Object.prototype.hasOwnProperty.call(v,o)){if(o.charCodeAt(0)<256){for(e=0;e<s;e++)r=r<<1,u==t-1?(u=0,h.push(i(r)),r=0):u++;for(f=o.charCodeAt(0),e=0;e<8;e++)r=r<<1|f&1,u==t-1?(u=0,h.push(i(r)),r=0):u++,f=f>>1}else{for(f=1,e=0;e<s;e++)r=r<<1|f,u==t-1?(u=0,h.push(i(r)),r=0):u++,f=0;for(f=o.charCodeAt(0),e=0;e<16;e++)r=r<<1|f&1,u==t-1?(u=0,h.push(i(r)),r=0):u++,f=f>>1}c--;c==0&&(c=Math.pow(2,s),s++);delete v[o]}else for(f=l[o],e=0;e<s;e++)r=r<<1|f&1,u==t-1?(u=0,h.push(i(r)),r=0):u++,f=f>>1;c--;c==0&&(c=Math.pow(2,s),s++)}for(f=2,e=0;e<s;e++)r=r<<1|f&1,u==t-1?(u=0,h.push(i(r)),r=0):u++,f=f>>1;for(;;)if(r=r<<1,u==t-1){h.push(i(r));break}else u++;return h.join("")},decompress:function(t){return t==null?"":t==""?null:n._decompress(t.length,32768,function(n){return t.charCodeAt(n)})},_decompress:function(n,i,r){for(var c=[],k,l=4,a=4,v=3,y="",b=[],w,e,o,s,f,h,u={val:r(0),position:i,index:1},p=0;p<3;p+=1)c[p]=p;for(e=0,s=Math.pow(2,2),f=1;f!=s;)o=u.val&u.position,u.position>>=1,u.position==0&&(u.position=i,u.val=r(u.index++)),e|=(o>0?1:0)*f,f<<=1;switch(k=e){case 0:for(e=0,s=Math.pow(2,8),f=1;f!=s;)o=u.val&u.position,u.position>>=1,u.position==0&&(u.position=i,u.val=r(u.index++)),e|=(o>0?1:0)*f,f<<=1;h=t(e);break;case 1:for(e=0,s=Math.pow(2,16),f=1;f!=s;)o=u.val&u.position,u.position>>=1,u.position==0&&(u.position=i,u.val=r(u.index++)),e|=(o>0?1:0)*f,f<<=1;h=t(e);break;case 2:return""}for(c[3]=h,w=h,b.push(h);;){if(u.index>n)return"";for(e=0,s=Math.pow(2,v),f=1;f!=s;)o=u.val&u.position,u.position>>=1,u.position==0&&(u.position=i,u.val=r(u.index++)),e|=(o>0?1:0)*f,f<<=1;switch(h=e){case 0:for(e=0,s=Math.pow(2,8),f=1;f!=s;)o=u.val&u.position,u.position>>=1,u.position==0&&(u.position=i,u.val=r(u.index++)),e|=(o>0?1:0)*f,f<<=1;c[a++]=t(e);h=a-1;l--;break;case 1:for(e=0,s=Math.pow(2,16),f=1;f!=s;)o=u.val&u.position,u.position>>=1,u.position==0&&(u.position=i,u.val=r(u.index++)),e|=(o>0?1:0)*f,f<<=1;c[a++]=t(e);h=a-1;l--;break;case 2:return b.join("")}if(l==0&&(l=Math.pow(2,v),v++),c[h])y=c[h];else if(h===a)y=w+w.charAt(0);else return null;b.push(y);c[a++]=w+y.charAt(0);l--;w=y;l==0&&(l=Math.pow(2,v),v++)}}};return n}();typeof define=="function"&&define.amd?define(function(){return LZString}):typeof module!="undefined"&&module!=null?module.exports=LZString:typeof angular!="undefined"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return LZString});
